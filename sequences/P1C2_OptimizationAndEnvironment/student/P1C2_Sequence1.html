
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>1.2.1: Optimization Makes you Better — Modern Foundations of Neuroscience</title>
<!-- Loaded before other Sphinx assets -->
<link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet"/>
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet"/>
<link href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css" rel="stylesheet"/>
<link as="font" crossorigin="" href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link href="../../../_static/pygments.css" rel="stylesheet" type="text/css">
<link href="../../../_static/styles/sphinx-book-theme.css" rel="stylesheet" type="text/css">
<link href="../../../_static/togglebutton.css" rel="stylesheet" type="text/css">
<link href="../../../_static/copybutton.css" rel="stylesheet" type="text/css">
<link href="../../../_static/mystnb.css" rel="stylesheet" type="text/css">
<link href="../../../_static/sphinx-thebe.css" rel="stylesheet" type="text/css"/>
<link href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" rel="stylesheet" type="text/css"/>
<link href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" rel="stylesheet" type="text/css"/>
<!-- Pre-loaded scripts that we'll load fully later -->
<link as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf" rel="preload"/>
<script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
<script src="../../../_static/jquery.js"></script>
<script src="../../../_static/underscore.js"></script>
<script src="../../../_static/doctools.js"></script>
<script src="../../../_static/togglebutton.js"></script>
<script src="../../../_static/clipboard.min.js"></script>
<script src="../../../_static/copybutton.js"></script>
<script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
<script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
<script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
<script async="async" src="../../../_static/sphinx-thebe.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
<script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
<link href="../../../genindex.html" rel="index" title="Index">
<link href="../../../search.html" rel="search" title="Search"/>
<link href="P1C2_Sequence2.html" rel="next" title="1.2.2: What’s Good Depends on the Niche"/>
<link href="P1C2_Title.html" rel="prev" title="Chapter 1.2 Optimizing Behaviour - Environment is Central"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="None" name="docsearch:language"/>
<!-- Google Analytics -->
</link></link></link></link></link></link></head>
<body data-offset="60" data-spy="scroll" data-target="#bd-toc-nav">
<!-- Checkboxes to toggle the left sidebar -->
<input aria-label="Toggle navigation sidebar" class="sidebar-toggle" id="__navigation" name="__navigation" type="checkbox"/>
<label class="overlay overlay-navbar" for="__navigation">
<div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input aria-label="Toggle in-page Table of Contents" class="sidebar-toggle" id="__page-toc" name="__page-toc" type="checkbox"/>
<label class="overlay overlay-pagetoc" for="__page-toc">
<div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>
<div class="container-fluid" id="banner"></div>
<div class="container-xl">
<div class="row">
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
<div class="bd-sidebar__content">
<div class="bd-sidebar__top"><div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../index.html">
<h1 class="site-logo" id="site-title">Modern Foundations of Neuroscience</h1>
</a>
</div><form action="../../../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="icon fas fa-search"></i>
<input aria-label="Search this book..." autocomplete="off" class="form-control" id="search-input" name="q" placeholder="Search this book..." type="search"/>
</form><nav aria-label="Main" class="bd-links" id="bd-docs-nav">
<div class="bd-toc-item active">
<ul class="nav bd-sidenav bd-sidenav__home-link">
<li class="toctree-l1">
<a class="reference internal" href="../../intro.html">
                    Introduction
                </a>
</li>
</ul>
<p class="caption">
<span class="caption-text">
  Behaviour, Environments and Optimization, Evolution and Learning
 </span>
</p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../P1C1_BehaviourAsPolicy/student/P1C1_Title.html">
   Behaviour As Policy (P1C1)
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox">
<label for="toctree-checkbox-1">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../P1C1_BehaviourAsPolicy/student/P1C1_Sequence1.html">
<strong>
      1.1.1: Gridworld Introduction
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P1C1_BehaviourAsPolicy/student/P1C1_Sequence2.html">
<strong>
      1.1.2: Thinking of What Receptors and Muscles Do as a Policy
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P1C1_BehaviourAsPolicy/student/P1C1_Sequence3.html">
<strong>
      1.1.3: Abstraction and Reasoning with Policies
     </strong>
</a>
</li>
</ul>
</input></li>
<li class="toctree-l1 current active has-children">
<a class="reference internal" href="P1C2_Title.html">
   Optimization And Environment (P1C2)
  </a>
<input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox">
<label for="toctree-checkbox-2">
<i class="fas fa-chevron-down">
</i>
</label>
<ul class="current">
<li class="toctree-l2 current active">
<a class="current reference internal" href="#">
<strong>
      1.2.1: Optimization Makes you Better
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="P1C2_Sequence2.html">
<strong>
      1.2.2: What’s Good Depends on the Niche
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="P1C2_Sequence3.html">
<strong>
      1.2.3: Normative Thinking
     </strong>
</a>
</li>
</ul>
</input></li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../P1C3_RealEvolution/student/P1C3_Title.html">
   Real Evolution (P1C3)
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox">
<label for="toctree-checkbox-3">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../P1C3_RealEvolution/student/P1C3_Sequence1.html">
<strong>
      1.3.1: Populations and Inheritance
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P1C3_RealEvolution/student/P1C3_Sequence2.html">
<strong>
      1.3.2: Why Sex
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P1C3_RealEvolution/student/P1C3_Sequence3.html">
<strong>
      1.3.3: Competition and Interaction Transform Optimization into Game Theory
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P1C3_RealEvolution/student/P1C3_Sequence4.html">
<strong>
      1.3.4: Learning and Evolution
     </strong>
</a>
</li>
</ul>
</input></li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../P1C4_LifeIsRL/student/P1C4_Title.html">
   Life Is RL (P1C4)
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
<label for="toctree-checkbox-4">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../P1C4_LifeIsRL/student/P1C4_Sequence1.html">
<strong>
      1.4.1: Thinking of Life as a Markov Decision Process
     </strong>
</a>
</li>
</ul>
</li>
</ul>
<p class="caption">
<span class="caption-text">
  Supervised Learning
 </span>
</p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../P2C1_Optimization/student/P2C1_Title.html">
   Optimization (P2C1)
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
<label for="toctree-checkbox-5">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../P2C1_Optimization/student/P2C1_Sequence1.html">
<strong>
      2.1.1: Optimization in One Dimension: Developing Intuition
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P2C1_Optimization/student/P2C1_Sequence2.html">
<strong>
      2.1.2: Optimization in Two Dimensions: Estimating Gradients
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P2C1_Optimization/student/P2C1_Sequence3.html">
<strong>
      2.1.3: Optimization in Higher Dimensions: The Need for Speed
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P2C1_Optimization/student/P2C1_Sequence4.html">
<strong>
      2.1.4: Learning Behaviour as a Form of High Dimensional Optimization
     </strong>
</a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../P2C1_Optimization/student/P2C1_Sequence5.html">
<strong>
      2.1.5: Learning Behaviour Quickly
     </strong>
</a>
</li>
</ul>
</li>
</ul>
</div>
</nav></div>
<div class="bd-sidebar__bottom">
<!-- To handle the deprecated key -->
<div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>
</div>
</div>
<div id="rtd-footer-container"></div>
</div>
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
<div class="header-article row sticky-top noprint">
<div class="col py-1 d-flex header-article-main">
<div class="header-article__left">
<label class="headerbtn" data-placement="right" data-toggle="tooltip" for="__navigation" title="Toggle navigation">
<span class="headerbtn__icon-container">
<i class="fas fa-bars"></i>
</span>
</label>
</div>
<div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
<button aria-label="Launch interactive content" class="headerbtn menu-dropdown__trigger">
<i class="fas fa-rocket"></i>
</button>
<div class="menu-dropdown__content">
<ul>
</ul>
</div>
</div>
<button class="headerbtn" data-placement="bottom" data-toggle="tooltip" onclick="toggleFullScreen()" title="Fullscreen mode">
<span class="headerbtn__icon-container">
<i class="fas fa-expand"></i>
</span>
</button>
<div class="menu-dropdown menu-dropdown-repository-buttons">
<button aria-label="Source repositories" class="headerbtn menu-dropdown__trigger">
<i class="fab fa-github"></i>
</button>
<div class="menu-dropdown__content">
<ul>
<li>
<a class="headerbtn" data-placement="left" data-toggle="tooltip" href="https://github.com/dcownden/PerennialProblemsOfLifeWithABrain" title="Source repository">
<span class="headerbtn__icon-container">
<i class="fab fa-github"></i>
</span>
<span class="headerbtn__text-container">repository</span>
</a>
</li>
<li>
<a class="headerbtn" data-placement="left" data-toggle="tooltip" href="https://github.com/dcownden/PerennialProblemsOfLifeWithABrain/issues/new?title=Issue%20on%20page%20%2Fsequences/P1C2_OptimizationAndEnvironment/student/P1C2_Sequence1.html&amp;body=Your%20issue%20content%20here." title="Open an issue">
<span class="headerbtn__icon-container">
<i class="fas fa-lightbulb"></i>
</span>
<span class="headerbtn__text-container">open issue</span>
</a>
</li>
</ul>
</div>
</div>
<div class="menu-dropdown menu-dropdown-download-buttons">
<button aria-label="Download this page" class="headerbtn menu-dropdown__trigger">
<i class="fas fa-download"></i>
</button>
<div class="menu-dropdown__content">
<ul>
<li>
<a class="headerbtn" data-placement="left" data-toggle="tooltip" href="../../../_sources/sequences/P1C2_OptimizationAndEnvironment/student/P1C2_Sequence1.ipynb" title="Download source file">
<span class="headerbtn__icon-container">
<i class="fas fa-file"></i>
</span>
<span class="headerbtn__text-container">.ipynb</span>
</a>
</li>
<li>
<button class="headerbtn" data-placement="left" data-toggle="tooltip" onclick="printPdf(this)" title="Print to PDF">
<span class="headerbtn__icon-container">
<i class="fas fa-file-pdf"></i>
</span>
<span class="headerbtn__text-container">.pdf</span>
</button>
</li>
</ul>
</div>
</div>
<label class="headerbtn headerbtn-page-toc" for="__page-toc">
<span class="headerbtn__icon-container">
<i class="fas fa-list"></i>
</span>
</label>
</div>
</div>
<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
<div class="tocsection onthispage pt-5 pb-3">
<i class="fas fa-list"></i> Contents
    </div>
<nav aria-label="Page" id="bd-toc-nav">
<ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#">
<strong>
    1.2.1: Optimization Makes you Better
   </strong>
</a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#objective">
     Objective:
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#setup">
   Setup
  </a>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#artisanal-hand-tuned-optimization">
   1.2.1.1: Artisanal Hand-Tuned Optimization
  </a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#interactive-twiddle-gridworld-policy-weights">
     Interactive: Twiddle Gridworld Policy Weights
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#stats-box-interaction-expectation-of-sample-mean-law-of-large-numbers">
     Stats Box + Interaction: Expectation of Sample Mean Law of Large Numbers
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#interactive-twiddle-gridworld-policy-weights-better-feedback">
     Interactive: Twiddle Gridworld Policy Weights - Better Feedback
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#grid-search-parameter-tuning">
   1.2.1.2 Grid Search Parameter Tuning
  </a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#algo-box-how-big-is-too-big">
     Algo Box: How Big is Too Big
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#coding-exercise-implement-grid-search">
     Coding Exercise: Implement Grid Search
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#algorithmic-thinking-exercise-curse-of-dimensionality-combinatorial-explosion-and-memory">
     Algorithmic Thinking Exercise: Curse of Dimensionality, Combinatorial Explosion, and Memory
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#propose-accept-reject-parameter-tuning">
   1.2.1.3 Propose-Accept-Reject Parameter Tuning
  </a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#coding-exercise-implement-propose-accept-reject">
     Coding Exercise: Implement Propose-Accept-Reject
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#algo-thinking-exercise-propose-accept-reject-hyperparameters">
     Algo Thinking Exercise: Propose-Accept-Reject Hyperparameters
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#reflections-on-symmetry">
   1.2.1.4 Reflections on Symmetry
  </a>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#quiz">
   Quiz
  </a>
</li>
</ul>
</nav>
</div>
</div>
<div class="article row">
<div class="col pl-md-3 pl-lg-5 content-container">
<!-- Table of contents that is only displayed when printing the page -->
<div class="onlyprint" id="jb-print-docs-body">
<h1>1.2.1: Optimization Makes you Better</h1>
<!-- Table of contents -->
<div id="print-main-content">
<div id="jb-print-toc">
<div>
<h2> Contents </h2>
</div>
<nav aria-label="Page">
<ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#">
<strong>
    1.2.1: Optimization Makes you Better
   </strong>
</a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#objective">
     Objective:
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#setup">
   Setup
  </a>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#artisanal-hand-tuned-optimization">
   1.2.1.1: Artisanal Hand-Tuned Optimization
  </a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#interactive-twiddle-gridworld-policy-weights">
     Interactive: Twiddle Gridworld Policy Weights
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#stats-box-interaction-expectation-of-sample-mean-law-of-large-numbers">
     Stats Box + Interaction: Expectation of Sample Mean Law of Large Numbers
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#interactive-twiddle-gridworld-policy-weights-better-feedback">
     Interactive: Twiddle Gridworld Policy Weights - Better Feedback
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#grid-search-parameter-tuning">
   1.2.1.2 Grid Search Parameter Tuning
  </a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#algo-box-how-big-is-too-big">
     Algo Box: How Big is Too Big
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#coding-exercise-implement-grid-search">
     Coding Exercise: Implement Grid Search
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#algorithmic-thinking-exercise-curse-of-dimensionality-combinatorial-explosion-and-memory">
     Algorithmic Thinking Exercise: Curse of Dimensionality, Combinatorial Explosion, and Memory
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#propose-accept-reject-parameter-tuning">
   1.2.1.3 Propose-Accept-Reject Parameter Tuning
  </a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#coding-exercise-implement-propose-accept-reject">
     Coding Exercise: Implement Propose-Accept-Reject
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#algo-thinking-exercise-propose-accept-reject-hyperparameters">
     Algo Thinking Exercise: Propose-Accept-Reject Hyperparameters
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#reflections-on-symmetry">
   1.2.1.4 Reflections on Symmetry
  </a>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#quiz">
   Quiz
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<main id="main-content" role="main">
<div>
<p><a href="https://colab.research.google.com/github/dcownden/PerennialProblemsOfLifeWithABrain/blob/main/sequences/P1C2_OptimizationAndEnvironment/student/P1C2_Sequence1.ipynb" target="_blank"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg"/></a>   <a href="https://kaggle.com/kernels/welcome?src=https://raw.githubusercontent.com/dcownden/PerennialProblemsOfLifeWithABrain/main/sequences/P1C2_OptimizationAndEnvironment/student/P1C2_Sequence1.ipynb" target="_blank"><img alt="Open in Kaggle" src="https://kaggle.com/static/images/open-in-kaggle.svg"/></a></p>
<p>The following is part of a test for an upcoming text book on computational neuroscience from an optimization and learning perspective. The book will start with evolution because ultimately, all aspects of the brain are shaped by evolution and, as we will see, evolution can also be seen as an optimization algorithm. We are sharing it now to get feedback on what works and what does not and the developments we should do.</p>
<hr class="docutils"/>
<div class="section" id="optimization-makes-you-better">
<h1><strong>1.2.1: Optimization Makes you Better</strong><a class="headerlink" href="#optimization-makes-you-better" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objective">
<h2>Objective:<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<p>In this sequence, we will use a simple parameterized policy and a (solo) Gridworld environment to learn about policy optimization. In this sequence you will:</p>
<ul class="simple">
<li><p>Mathematically define an objective function.</p></li>
<li><p>Hand tune parameters to optimize that objective function</p></li>
<li><p>Implement and examine a grid search optimization procedure</p></li>
<li><p>Implement and examine a propose-accept-reject optimization procedure</p></li>
</ul>
<p>This is our first foray into real optimization, the foundations of almost everything else in this book. There isn’t much explicitly about brains here at the moment, but once we known a bit about the different kinds of optimization that are possible mathematically, we can start to think about which of those are biologically feasible from an evolutionary and neuro-physiological perspective.</p>
<p>Picture showing the “wiring diagram” of our parameterized weights policy organism, the twelve input receptors, the brain compute is “just” the connective weights, the four direction outputs. We could embedded this in a more ‘realistic’ neural system, i.e. real-ish nerves distill into some abstract spatial input, and those abstract spatial outputs hook up to some real-ish nerves and muscles) just a thought open to other suggestions. This is just a place holder for our actual image, same as last time)
<img alt="TBD_Parameterized_Weights.png" src="https://github.com/dcownden/PerennialProblemsOfLifeWithABrain/blob/P1C2-Sequence1/sequences/P1C2_OptimizationAndEnvironment/?raw=1##"/></p>
</div>
</div>
<div class="section" id="setup">
<h1>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h1>
<p>Run the following cell to setup and install the various dependencies and helper functions for this sequence.</p>
<p><strong>Dependencies, Imports and Setup.</strong> You don’t need to worry about how this code works – but you do need to <strong>run the cell</strong></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown **Dependencies, Imports and Setup.** You don't need to worry about how this code works – but you do need to **run the cell**</span>

<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>ipympl<span class="w"> </span>vibecheck<span class="w"> </span>datatops<span class="w"> </span>jupyterquiz<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span>#google.colab

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="k">as</span> <span class="nn">mpatches</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">torch.nn</span> <span class="k">as</span> <span class="nn">nn</span>
<span class="kn">import</span> <span class="nn">torch.optim</span> <span class="k">as</span> <span class="nn">optim</span>
<span class="kn">import</span> <span class="nn">torch.nn.functional</span> <span class="k">as</span> <span class="nn">F</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span>
<span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">cdist</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">norm</span>
<span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">minimize</span>
<span class="kn">from</span> <span class="nn">tabulate</span> <span class="kn">import</span> <span class="n">tabulate</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">clear_output</span><span class="p">,</span> <span class="n">Markdown</span>
<span class="kn">from</span> <span class="nn">jupyterquiz</span> <span class="kn">import</span> <span class="n">display_quiz</span>
<span class="kn">from</span> <span class="nn">vibecheck</span> <span class="kn">import</span> <span class="n">DatatopsContentReviewContainer</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span>
<span class="kn">from</span> <span class="nn">tqdm.notebook</span> <span class="kn">import</span> <span class="n">tqdm</span>


<span class="c1"># random seed settings and</span>
<span class="c1"># getting torch to use gpu if it's there</span>


<span class="k">def</span> <span class="nf">set_seed</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">seed_torch</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Function that controls randomness. NumPy and random modules must be imported.</span>

<span class="sd">  Args:</span>
<span class="sd">    seed : Integer</span>
<span class="sd">      A non-negative integer that defines the random state. Default is `None`.</span>
<span class="sd">    seed_torch : Boolean</span>
<span class="sd">      If `True` sets the random seed for pytorch tensors, so pytorch module</span>
<span class="sd">      must be imported. Default is `True`.</span>

<span class="sd">  Returns:</span>
<span class="sd">    Nothing.</span>
<span class="sd">  """</span>
  <span class="k">if</span> <span class="n">seed</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">seed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">32</span><span class="p">)</span>
  <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
  <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">seed_torch</span><span class="p">:</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">manual_seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">manual_seed_all</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">manual_seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">cudnn</span><span class="o">.</span><span class="n">benchmark</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">cudnn</span><span class="o">.</span><span class="n">deterministic</span> <span class="o">=</span> <span class="kc">True</span>

  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Random seed </span><span class="si">{</span><span class="n">seed</span><span class="si">}</span><span class="s1"> has been set.'</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">seed_worker</span><span class="p">(</span><span class="n">worker_id</span><span class="p">):</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  DataLoader will reseed workers following randomness in</span>
<span class="sd">  multi-process data loading algorithm.</span>

<span class="sd">  Args:</span>
<span class="sd">    worker_id: integer</span>
<span class="sd">      ID of subprocess to seed. 0 means that</span>
<span class="sd">      the data will be loaded in the main process</span>
<span class="sd">      Refer: https://pytorch.org/docs/stable/data.html#data-loading-randomness for more details</span>

<span class="sd">  Returns:</span>
<span class="sd">    Nothing</span>
<span class="sd">  """</span>
  <span class="n">worker_seed</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">initial_seed</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="o">**</span><span class="mi">32</span>
  <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">worker_seed</span><span class="p">)</span>
  <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">worker_seed</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">set_device</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Set the device. CUDA if available, CPU otherwise</span>

<span class="sd">  Args:</span>
<span class="sd">    None</span>

<span class="sd">  Returns:</span>
<span class="sd">    Nothing</span>
<span class="sd">  """</span>
  <span class="n">device</span> <span class="o">=</span> <span class="s2">"cuda"</span> <span class="k">if</span> <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">is_available</span><span class="p">()</span> <span class="k">else</span> <span class="s2">"cpu"</span>
  <span class="k">if</span> <span class="n">device</span> <span class="o">!=</span> <span class="s2">"cuda"</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"This notebook isn't using and doesn't need a GPU. Good."</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"GPU is enabled in this notebook but not needed."</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"If possible, in the menu under `Runtime` -&gt; "</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"`Change runtime type.`  select `CPU`"</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">device</span>


<span class="n">SEED</span> <span class="o">=</span> <span class="mi">2021</span>
<span class="n">set_seed</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="n">SEED</span><span class="p">)</span>
<span class="n">DEVICE</span> <span class="o">=</span> <span class="n">set_device</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">printmd</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
  <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>


<span class="c1"># the different utility .py files used in this notebook</span>
<span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'gw_plotting.py'</span><span class="p">,</span> <span class="s1">'gw_board.py'</span><span class="p">,</span> <span class="s1">'gw_game.py'</span><span class="p">,</span>
             <span class="s1">'gw_widgets.py'</span><span class="p">,</span> <span class="s1">'gw_NN_RL.py'</span><span class="p">]</span>
<span class="c1">#filenames = []</span>
<span class="c1"># just run the code straight out of the response, no local copies needed!</span>
<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
  <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'https://raw.githubusercontent.com/dcownden/PerennialProblemsOfLifeWithABrain/main/utils/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s1">'</span>
  <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
  <span class="c1"># Check that we got a valid response</span>
  <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="n">exec</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Failed to download </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>

<span class="c1"># environment contingent imports</span>
<span class="k">try</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">'Running in colab'</span><span class="p">)</span>
  <span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">output</span>
  <span class="n">output</span><span class="o">.</span><span class="n">enable_custom_widget_manager</span><span class="p">()</span>
  <span class="c1">#from google.colab import output as colab_output</span>
  <span class="c1">#colab_output.enable_custom_widget_manager()</span>
  <span class="n">IN_COLAB</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span><span class="p">:</span>
  <span class="n">IN_COLAB</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">'Not running in colab'</span><span class="p">)</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="o">%</span><span class="k">config</span> InlineBackend.figure_format = 'retina'
<span class="o">%</span><span class="k">matplotlib</span> widget
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">"https://raw.githubusercontent.com/dcownden/PerennialProblemsOfLifeWithABrain/main/pplb.mplstyle"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">()</span> <span class="c1">#need to use plt.show() or display explicitly</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">'matplotlib.font_manager'</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">content_review</span><span class="p">(</span><span class="n">notebook_section</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">DatatopsContentReviewContainer</span><span class="p">(</span>
    <span class="s2">""</span><span class="p">,</span>  <span class="c1"># No text prompt</span>
    <span class="n">notebook_section</span><span class="p">,</span>
    <span class="p">{</span>
      <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://pmyvdlilci.execute-api.us-east-1.amazonaws.com/klab"</span><span class="p">,</span>
      <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"neuro_book"</span><span class="p">,</span>
      <span class="s2">"user_key"</span><span class="p">:</span> <span class="s2">"xuk960xj"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="n">feedback_prefix</span> <span class="o">=</span> <span class="s2">"P1C2_S1"</span>




<span class="c1">################################################################</span>
<span class="c1"># refactor Monte Carlo for boards that support multiple critters</span>
<span class="c1">################################################################</span>




<span class="k">class</span> <span class="nc">MonteCarlo</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Implementation of Monte Carlo Algorithm</span>
<span class="sd">  """</span>


  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">nnet</span><span class="p">,</span> <span class="n">default_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">random_seed</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Initialize Monte Carlo Parameters</span>

<span class="sd">    Args:</span>
<span class="sd">      game: Gridworld Game instance</span>
<span class="sd">        Instance of the gridworldGame class above;</span>
<span class="sd">      nnet: gridworldNet instance</span>
<span class="sd">        Instance of the gridworldNNet class above;</span>
<span class="sd">      args: dictionary</span>
<span class="sd">        Instantiates number of iterations and episodes, controls temperature threshold, queue length,</span>
<span class="sd">        arena, checkpointing, and neural network parameters:</span>
<span class="sd">        learning-rate: 0.001, dropout: 0.3, epochs: 10, batch_size: 64,</span>
<span class="sd">        num_channels: 512</span>

<span class="sd">    Returns:</span>
<span class="sd">      Nothing</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game</span> <span class="o">=</span> <span class="n">game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nnet</span> <span class="o">=</span> <span class="n">nnet</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">default_depth</span> <span class="o">=</span> <span class="n">default_depth</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="n">random_seed</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">pis_vs_from_board</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
    <span class="c1">#helper function, to put board in canonical form that nn was trained on</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">co_pieces</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">this_critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">co_pieces</span> <span class="o">==</span> <span class="n">critter</span><span class="p">)</span>
    <span class="n">all_critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">co_pieces</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="c1"># other critters are invisible to this player</span>
    <span class="n">co_pieces</span><span class="p">[</span><span class="n">all_critter_locs</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># nnet trained to see self as 1</span>
    <span class="n">co_pieces</span><span class="p">[</span><span class="n">this_critter_locs</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">scalar_rounds_left</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">co_rounds_left</span> <span class="o">=</span> <span class="n">scalar_rounds_left</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">num_critters</span>
    <span class="k">if</span> <span class="n">critter</span><span class="o">-</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">scalar_rounds_left</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">num_critters</span><span class="p">:</span>
       <span class="c1"># add an extra if we haven't had this players turn yet in the round cycle</span>
       <span class="n">co_rounds_left</span> <span class="o">=</span> <span class="n">co_rounds_left</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">co_rounds_left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">co_rounds_left</span><span class="p">]</span><span class="o">*</span><span class="n">batch_size</span><span class="p">)</span>
    <span class="n">pis</span><span class="p">,</span> <span class="n">vs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nnet</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">co_pieces</span><span class="p">,</span>
                                <span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][:,</span><span class="n">critter</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                                <span class="n">co_rounds_left</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pis</span><span class="p">,</span> <span class="n">vs</span>


  <span class="k">def</span> <span class="nf">simulate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">actions</span><span class="p">,</span> <span class="n">action_indexes</span><span class="p">,</span> <span class="n">critter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Helper function to simulate one Monte Carlo rollout</span>

<span class="sd">    Args:</span>
<span class="sd">      board: triple (batch_size x x_size x y_size np.array of board position,</span>
<span class="sd">                     scalar of current score,</span>
<span class="sd">                     scalar of rounds left</span>
<span class="sd">      actions: batch size list/array of integer indexes for moves on each board</span>
<span class="sd">      these are assumed to be legal, no check for validity of moves</span>
<span class="sd">    Returns:</span>
<span class="sd">      temp_v:</span>
<span class="sd">        Terminal State</span>
<span class="sd">    """</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">x_size</span><span class="p">,</span> <span class="n">y_size</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">next_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_next_state</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">,</span>
                                          <span class="n">actions</span><span class="p">,</span> <span class="n">action_indexes</span><span class="p">)</span>
    <span class="c1"># in this version of the mc player, the existence of other players is</span>
    <span class="c1"># ignored, in another version of mc other players moves might be simulated</span>
    <span class="n">next_board</span><span class="p">[</span><span class="s1">'active_player'</span><span class="p">]</span> <span class="o">=</span> <span class="n">critter</span><span class="o">-</span><span class="mi">1</span>

    <span class="k">if</span> <span class="n">depth</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">depth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_depth</span>
    <span class="c1"># potentially expand the game tree here,</span>
    <span class="c1"># but just do straight rollouts after this</span>
    <span class="c1"># doesn't expand to deal with all random food generation possibilities</span>
    <span class="c1"># just expands based on the actions given</span>
    <span class="n">expand_bs</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">next_board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">depth</span><span class="p">):</span>  <span class="c1"># maxDepth</span>
      <span class="k">if</span> <span class="n">next_board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># check that game isn't over</span>
        <span class="c1"># assumes all boards have the same rounds left</span>
        <span class="c1"># no rounds left return scores as true values</span>
        <span class="n">terminal_vs</span> <span class="o">=</span> <span class="n">next_board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][:,</span><span class="n">critter</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">terminal_vs</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="c1">#pis, vs = self.nnet.predict(next_board['pieces'], next_board['scores'], next_board['rounds_left'])</span>
        <span class="n">pis</span><span class="p">,</span> <span class="n">vs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pis_vs_from_board</span><span class="p">(</span><span class="n">next_board</span><span class="p">,</span> <span class="n">critter</span><span class="p">)</span>
        <span class="n">valids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_valid_actions</span><span class="p">(</span><span class="n">next_board</span><span class="p">,</span> <span class="n">critter</span><span class="p">)</span>
        <span class="n">masked_pis</span> <span class="o">=</span> <span class="n">pis</span> <span class="o">*</span> <span class="n">valids</span>
        <span class="n">sum_pis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">masked_pis</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="p">[</span><span class="n">masked_pi</span> <span class="o">/</span> <span class="n">masked_pi</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="k">if</span> <span class="n">masked_pi</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span>
             <span class="k">else</span> <span class="n">valid</span> <span class="o">/</span> <span class="n">valid</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
             <span class="k">for</span> <span class="n">valid</span><span class="p">,</span> <span class="n">masked_pi</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">valids</span><span class="p">,</span> <span class="n">masked_pis</span><span class="p">)])</span>
        <span class="n">samp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="n">expand_bs</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">expand_bs</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">sampled_actions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">probs</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">samp</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
      <span class="n">next_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_next_state</span><span class="p">(</span><span class="n">next_board</span><span class="p">,</span> <span class="n">critter</span><span class="p">,</span>
                                            <span class="n">sampled_actions</span><span class="p">)</span>
      <span class="c1"># in this version of the mc player, existence of other players is ignored</span>
      <span class="c1"># in another better version other players moves might be simulated, either</span>
      <span class="c1"># as copies of self, or as distinct environmental dynamics</span>
      <span class="n">next_board</span><span class="p">[</span><span class="s1">'active_player'</span><span class="p">]</span> <span class="o">=</span> <span class="n">critter</span><span class="o">-</span><span class="mi">1</span>


    <span class="n">pis</span><span class="p">,</span> <span class="n">vs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pis_vs_from_board</span><span class="p">(</span><span class="n">next_board</span><span class="p">,</span> <span class="n">critter</span><span class="p">)</span>
    <span class="c1">#pis, vs = self.nnet.predict(next_board['pieces'], next_board['scores'],</span>
    <span class="c1">#                            next_board['rounds_left'])</span>
    <span class="c1">#print(vs.shape)</span>
    <span class="k">return</span> <span class="n">vs</span>

<span class="c1">#################################################</span>
<span class="c1"># More plotting functions</span>
<span class="c1">#################################################</span>


<span class="k">def</span> <span class="nf">plot_directions</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">loc_prob_dict</span><span class="p">,</span> <span class="n">critter</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Plot vector field indicating critter direction probabilities.</span>

<span class="sd">  Args:</span>
<span class="sd">    fig, ax (matplotlib objects): Figure and axes objects for plotting.</span>
<span class="sd">    loc_prob_dict (dict): Dictionary with keys as (row, col) location tuples</span>
<span class="sd">      and values as lists of direction probabilities corresponding to the</span>
<span class="sd">      directions ['right', 'down', 'left', 'up'].</span>
<span class="sd">    critter (int): Identifier for which critter directions are associated with.</span>
<span class="sd">    deterministic (bool, optional): If True, the probabilities array is</span>
<span class="sd">      converted to 1-hot, and the arrows are plotted at the center of the cell</span>
<span class="sd">      and are larger. Defaults to False.</span>
<span class="sd">  """</span>

  <span class="c1">#looks like direction ignores inverted axis</span>
  <span class="n">direction_vectors</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'right'</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">'down'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                       <span class="s1">'left'</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">'up'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)}</span>
  <span class="c1"># but offsets need to be aware of inverted</span>
  <span class="n">direction_offsets</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'right'</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">'down'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span>
                       <span class="s1">'left'</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">'up'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">)}</span>
  <span class="c1"># Offsets for each critter type 1 and 2 to be used together, 0 by itself</span>
  <span class="n">critter_offsets</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.05</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)}</span>
  <span class="c1"># same logic for colors</span>
  <span class="n">critter_colors</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">'black'</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">'red'</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">'blue'</span><span class="p">}</span>
  <span class="c1"># Get the offset and color for this critter</span>
  <span class="n">critter_offset</span> <span class="o">=</span> <span class="n">critter_offsets</span><span class="p">[</span><span class="n">critter</span><span class="p">]</span>
  <span class="n">critter_color</span> <span class="o">=</span> <span class="n">critter_colors</span><span class="p">[</span><span class="n">critter</span><span class="p">]</span>

  <span class="c1"># Add legend only if critter is not 0</span>
  <span class="n">custom_leg_handles</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">if</span> <span class="n">critter</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'Critter </span><span class="si">{</span><span class="n">critter</span><span class="si">}</span><span class="s1">'</span>
    <span class="n">legend_patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">critter_color</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
    <span class="c1"># Add the legend for this critter</span>
    <span class="n">custom_leg_handles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">legend_patch</span><span class="p">)</span>

  <span class="n">C</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">U</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">A</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>

  <span class="k">for</span> <span class="n">loc</span> <span class="ow">in</span> <span class="n">loc_prob_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">loc</span>
    <span class="n">probs</span> <span class="o">=</span> <span class="n">loc_prob_dict</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">dir_key</span><span class="p">,</span> <span class="n">prob</span> <span class="ow">in</span> <span class="n">probs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
      <span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">col</span> <span class="o">+</span> <span class="n">critter_offset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">direction_offsets</span><span class="p">[</span><span class="n">dir_key</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
      <span class="n">R</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span> <span class="o">+</span> <span class="n">critter_offset</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">direction_offsets</span><span class="p">[</span><span class="n">dir_key</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
      <span class="n">U</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">direction_vectors</span><span class="p">[</span><span class="n">dir_key</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
      <span class="n">V</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">direction_vectors</span><span class="p">[</span><span class="n">dir_key</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

      <span class="k">if</span> <span class="n">deterministic</span><span class="p">:</span>
        <span class="n">A</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">prob</span> <span class="o">==</span> <span class="nb">max</span><span class="p">(</span><span class="n">probs</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">A</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prob</span><span class="p">)</span>

  <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">1.5</span> <span class="k">if</span> <span class="n">deterministic</span> <span class="k">else</span> <span class="mf">0.5</span>
  <span class="n">scale</span> <span class="o">=</span> <span class="mi">15</span> <span class="k">if</span> <span class="n">deterministic</span> <span class="k">else</span> <span class="mi">30</span>

  <span class="n">ax</span><span class="o">.</span><span class="n">quiver</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">U</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">A</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">critter_color</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">linewidth</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">custom_leg_handles</span>

<span class="k">def</span> <span class="nf">make_grid</span><span class="p">(</span><span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">  </span><span class="sd">"""Plots an n_rows by n_cols grid with cells centered on integer indices and</span>
<span class="sd">  returns fig and ax handles for further use</span>
<span class="sd">  Args:</span>
<span class="sd">    num_rows (int): number of rows in the grid (vertical dimension)</span>
<span class="sd">    num_cols (int): number of cols in the grid (horizontal dimension)</span>

<span class="sd">  Returns:</span>
<span class="sd">    fig (matplotlib.figure.Figure): figure handle for the grid</span>
<span class="sd">    ax: (matplotlib.axes._axes.Axes): axes handle for the grid</span>
<span class="sd">  """</span>
  <span class="c1"># Create a new figure and axes with given figsize</span>
  <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">)</span>
  <span class="c1"># Set width and height padding, remove horizontal and vertical spacing</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">get_layout_engine</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">w_pad</span><span class="o">=</span><span class="mi">4</span> <span class="o">/</span> <span class="mi">72</span><span class="p">,</span> <span class="n">h_pad</span><span class="o">=</span><span class="mi">4</span> <span class="o">/</span> <span class="mi">72</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
  <span class="c1"># Show right and top borders (spines) of the plot</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[[</span><span class="s1">'right'</span><span class="p">,</span> <span class="s1">'top'</span><span class="p">]]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
  <span class="c1"># Set major ticks (where grid lines will be) on x and y axes</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
  <span class="c1"># Set labels for major ticks with font size of 8</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
  <span class="c1"># Set minor ticks (no grid lines here) to be between major ticks</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">num_cols</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">num_rows</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="c1"># Move x-axis ticks to the top of the plot</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">tick_top</span><span class="p">()</span>
  <span class="c1"># Set grid lines based on minor ticks, make them grey, dashed, and half transparent</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s1">'minor'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'-'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
  <span class="c1"># Remove minor ticks (not the grid lines)</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s1">'minor'</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
  <span class="c1"># Set limits of x and y axes</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">((</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">num_cols</span><span class="o">-</span><span class="mf">0.5</span><span class="p">))</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">((</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">num_rows</span><span class="o">-</span><span class="mf">0.5</span><span class="p">))</span>
  <span class="c1"># Invert y axis direction</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
  <span class="c1"># If title is provided, set it as the figure title</span>
  <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
  <span class="c1"># Hide header and footer, disable toolbar and resizing of the figure</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">header_visible</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">toolbar_visible</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">resizable</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">footer_visible</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="c1"># Redraw the figure with these settings</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
  <span class="c1"># Return figure and axes handles for further customization</span>
  <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>


<span class="k">def</span> <span class="nf">plot_food</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">rc_food_loc</span><span class="p">,</span> <span class="n">food</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Plots "food" on a grid implied by the given fig, ax arguments</span>

<span class="sd">  Args:</span>
<span class="sd">    fig, ax: matplotlib figure and axes objects</span>
<span class="sd">    rc_food_loc: ndarry(int) of shape (N:num_food x 2:row,col)</span>
<span class="sd">    food: a handle for the existing food matplotlib PatchCollection object</span>
<span class="sd">    if one exists</span>
<span class="sd">  Returns:</span>
<span class="sd">    a handle for matplotlib PathCollection object of food scatter plot, either</span>
<span class="sd">    new if no handle was passed or updated if it was</span>
<span class="sd">  """</span>
  <span class="c1"># if no PathCollection handle passed in:</span>
  <span class="k">if</span> <span class="n">food</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">food</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">([],</span> <span class="p">[],</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">'Food'</span><span class="p">)</span>
  <span class="n">rc_food_loc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rc_food_loc</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
  <span class="c1">#matrix indexing convention is is [row-vertical, col-horizontal]</span>
  <span class="c1">#plotting indexing convention is (x-horizontal,y-vertical), hence flip</span>
  <span class="n">food</span><span class="o">.</span><span class="n">set_offsets</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">fliplr</span><span class="p">(</span><span class="n">rc_food_loc</span><span class="p">))</span>
  <span class="k">return</span> <span class="n">food</span>


<span class="k">def</span> <span class="nf">plot_critters</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">critter_specs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]]:</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Plots multiple types of "critters" on a grid implied by the given</span>
<span class="sd">  fig, ax arguments.</span>

<span class="sd">  Args:</span>
<span class="sd">    fig, ax: matplotlib figure and axes objects.</span>
<span class="sd">    critter_specs: List of dictionaries with keys 'location', 'name', 'color',</span>
<span class="sd">    'marker', 'int_id', 'rc_critter_loc' and optionally 'handle' for each</span>
<span class="sd">    critter.</span>

<span class="sd">  Returns:</span>
<span class="sd">    Updated critter_specs with handles.</span>
<span class="sd">  """</span>
  <span class="k">for</span> <span class="n">spec</span> <span class="ow">in</span> <span class="n">critter_specs</span><span class="p">:</span>
    <span class="c1"># Ensure required keys are present</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'marker'</span><span class="p">,</span> <span class="s1">'color'</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">'rc_loc'</span><span class="p">]:</span>
      <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spec</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Key '</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">' missing in critter spec."</span><span class="p">)</span>
    <span class="n">handle_</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'handle'</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">handle_</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">handle_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">([],</span> <span class="p">[],</span> <span class="n">s</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">spec</span><span class="p">[</span><span class="s1">'marker'</span><span class="p">],</span>
                           <span class="n">color</span><span class="o">=</span><span class="n">spec</span><span class="p">[</span><span class="s1">'color'</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="n">spec</span><span class="p">[</span><span class="s1">'name'</span><span class="p">])</span>
    <span class="n">handle_</span><span class="o">.</span><span class="n">set_offsets</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">spec</span><span class="p">[</span><span class="s1">'rc_loc'</span><span class="p">]))</span>
    <span class="n">spec</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">'handle'</span><span class="p">:</span> <span class="n">handle_</span><span class="p">})</span>
  <span class="k">return</span> <span class="n">critter_specs</span>


<span class="k">def</span> <span class="nf">plot_critter</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">rc_critter_loc</span><span class="p">,</span>
                 <span class="n">critter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">critter_name</span><span class="o">=</span><span class="s1">'Critter'</span><span class="p">):</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Plots "critter" on a grid implied by the given fig, ax arguments</span>

<span class="sd">  Args:</span>
<span class="sd">    fig, ax: matplotlib figure and axes objects</span>
<span class="sd">    rc_critter_loc: ndarry(int) of shape (N:num_critters x 2:row,col)</span>
<span class="sd">    critter: a handle for the existing food matplotlib PatchCollection object</span>
<span class="sd">    if one exists</span>
<span class="sd">  Returns:</span>
<span class="sd">    a handle for matplotlib PathCollection object of critter scatter plot,</span>
<span class="sd">    either new if no handle was passed in or updated if it was.</span>
<span class="sd">  """</span>
  <span class="k">if</span> <span class="n">critter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">critter</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">([],</span> <span class="p">[],</span> <span class="n">s</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'h'</span><span class="p">,</span>
                         <span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">critter_name</span><span class="p">)</span>
  <span class="c1"># matrix indexing convention is is [row-vertical, col-horizontal]</span>
  <span class="c1"># plotting indexing convention is (x-horizontal,y-vertical), hence flip</span>
  <span class="n">critter</span><span class="o">.</span><span class="n">set_offsets</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">rc_critter_loc</span><span class="p">))</span>
  <span class="k">return</span> <span class="n">critter</span>


<span class="k">def</span> <span class="nf">plot_fov</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">rc_critter</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">has_fov</span><span class="p">,</span> <span class="n">fov</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Plots a mask on a grid implied by the given fig, ax arguments</span>

<span class="sd">  Args:</span>
<span class="sd">    fig, ax: matplotlib figure and axes objects</span>
<span class="sd">    rc_critter: ndarry(int) (row,col) of the critter</span>
<span class="sd">    mask: a handle for the existing mask matplotlib Image object if one exists</span>
<span class="sd">  Returns:</span>
<span class="sd">    a handle for matplotlib Image object of mask, either new if no handle</span>
<span class="sd">    was passed in or updated if it was.</span>
<span class="sd">  """</span>

  <span class="c1"># Initialize mask as a semi-transparent overlay for the entire grid</span>
  <span class="n">mask_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
  <span class="n">mask_array</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># light grey color</span>
  <span class="k">if</span> <span class="n">has_fov</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">mask_array</span><span class="p">[:,</span> <span class="p">:,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># 50% opacity</span>
    <span class="c1"># Create arrays representing the row and column indices</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_cols</span><span class="p">)[</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">,</span> <span class="p">:]</span>
    <span class="c1"># Iterate over each critter location</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">rows</span> <span class="o">-</span> <span class="n">rc_critter</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">cols</span> <span class="o">-</span> <span class="n">rc_critter</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="c1"># Set the region within the specified radius around the critter to transparent</span>
    <span class="n">mask_array</span><span class="p">[</span><span class="n">dist</span> <span class="o">&lt;=</span> <span class="n">radius</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">mask_array</span><span class="p">[:,</span> <span class="p">:,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

  <span class="k">if</span> <span class="n">fov</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">fov</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mask_array</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">'lower'</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">fov</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">mask_array</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">fov</span>


<span class="k">def</span> <span class="nf">remove_ip_clutter</span><span class="p">(</span><span class="n">fig</span><span class="p">):</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">header_visible</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">toolbar_visible</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">resizable</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">footer_visible</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>


<span class="c1">#######################################################################</span>
<span class="c1"># extend GridworldGame class locally before integrating in shared utils</span>
<span class="c1">#######################################################################</span>




<span class="k">class</span> <span class="nc">GridworldBoard</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  A collection methods and parameters of a gridworld game board that</span>
<span class="sd">  define the logic of the game, and allows for multiple critters on the same</span>
<span class="sd">  board</span>

<span class="sd">  board state is represented by primarily by pieces, score, and rounds left</span>
<span class="sd">  pieces is a batch x n_rows x n_cols numpy array positive integers are critter</span>
<span class="sd">  locations 0's are empty space and -1's are food.</span>

<span class="sd">  For pieces first dim is batch, second dim row , third is col,</span>
<span class="sd">  so pieces[0][1][7] is the square in row 2, in column 8 of the first board in</span>
<span class="sd">  the batch of boards.</span>

<span class="sd">  scores is a batchsize x num_critters numpy array giving the scores for each</span>
<span class="sd">  critter on each board in the batch (note off by one indexing)</span>

<span class="sd">  rounds_left is how many rounds are left in the game.</span>

<span class="sd">  active_player keeps track of which players turn it is</span>

<span class="sd">  Note:</span>
<span class="sd">    In 2d np.array first dim is row (vertical), second dim is col (horizontal),</span>
<span class="sd">    i.e. top left corner is (0,0), so take care when visualizing/plotting</span>
<span class="sd">    as np.array visualization inline with typical tensor notation but at odds</span>
<span class="sd">    with conventional plotting where (0,0) is bottom left, first dim, x, is</span>
<span class="sd">    horizontal, second dim, y, is vertical</span>
<span class="sd">  """</span>


  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">n_rows</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
               <span class="n">num_critters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">num_food</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
               <span class="n">lifetime</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">rng</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Set the parameters of the game."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span> <span class="o">=</span> <span class="n">n_rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span> <span class="o">=</span> <span class="n">n_cols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="n">batch_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span> <span class="o">=</span> <span class="n">num_critters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num_food</span> <span class="o">=</span> <span class="n">num_food</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span> <span class="o">=</span> <span class="n">lifetime</span>
    <span class="k">if</span> <span class="n">rng</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="n">SEED</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">rng</span>


  <span class="k">def</span> <span class="nf">init_loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Samples random 2d grid locations without replacement</span>

<span class="sd">    Args:</span>
<span class="sd">      n_rows: int, number of rows in the grid</span>
<span class="sd">      n_cols: int, number of columns in the grid</span>
<span class="sd">      num:    int, number of samples to generate. Should throw an error if num &gt; n_rows x n_cols</span>
<span class="sd">      rng:    instance of numpy.random's default rng. Used for reproducibility.</span>

<span class="sd">    Returns:</span>
<span class="sd">      int_loc: ndarray(int) of shape (num,), flat indices for a 2D grid flattened into 1D</span>
<span class="sd">      rc_index: tuple(ndarray(int), ndarray(int)), a pair of arrays with the first giving</span>
<span class="sd">        the row indices and the second giving the col indices. Useful for indexing into</span>
<span class="sd">        an n_rows by n_cols numpy array.</span>
<span class="sd">      rc_plotting: ndarray(int) of shape (num, 2), 2D coordinates suitable for matplotlib plotting</span>
<span class="sd">    """</span>

    <span class="c1"># Set up default random generator, use the boards default if none explicitly given</span>
    <span class="k">if</span> <span class="n">rng</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">rng</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rng</span>
    <span class="c1"># Choose 'num' unique random indices from a flat 1D array of size n_rows*n_cols</span>
    <span class="n">int_loc</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">n_rows</span> <span class="o">*</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># Convert the flat indices to 2D indices based on the original shape (n_rows, n_cols)</span>
    <span class="n">rc_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="n">int_loc</span><span class="p">,</span> <span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">))</span>
    <span class="c1"># Transpose indices to get num x 2 array for easy plotting with matplotlib</span>
    <span class="n">rc_plotting</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rc_index</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
    <span class="c1"># Return 1D flat indices, 2D indices for numpy array indexing and 2D indices for plotting</span>
    <span class="k">return</span> <span class="n">int_loc</span><span class="p">,</span> <span class="n">rc_index</span><span class="p">,</span> <span class="n">rc_plotting</span>


  <span class="k">def</span> <span class="nf">get_init_board_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Set up starting board using game parameters"""</span>
    <span class="c1">#set rounds_left and score</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rounds_left</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span> <span class="o">*</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)</span>
    <span class="c1"># each players move counts down the clock so making this a multiple of the</span>
    <span class="c1"># number of critters ensures every player gets an equal number of turns</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">))</span>
    <span class="c1"># create an empty board array.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">))</span>
    <span class="c1"># Place critter and initial food items on the board randomly</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">):</span>
      <span class="c1"># num_food+num_critter because we want critter and food locations</span>
      <span class="n">int_loc</span><span class="p">,</span> <span class="n">rc_idx</span><span class="p">,</span> <span class="n">rc_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">init_loc</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_food</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)</span>
      <span class="c1"># critter random start locations</span>
      <span class="k">for</span> <span class="n">c_</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">[(</span><span class="n">ii</span><span class="p">,</span> <span class="n">rc_idx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">c_</span><span class="p">],</span> <span class="n">rc_idx</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">c_</span><span class="p">])]</span> <span class="o">=</span> <span class="n">c_</span> <span class="o">+</span> <span class="mi">1</span>
      <span class="c1"># food random start locations</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">[(</span><span class="n">ii</span><span class="p">,</span> <span class="n">rc_idx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">:],</span>
                   <span class="n">rc_idx</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">:])]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_player</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">state</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'pieces'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
             <span class="s1">'scores'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">scores</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
             <span class="s1">'rounds_left'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rounds_left</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
             <span class="s1">'active_player'</span><span class="p">:</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">active_player</span><span class="p">)}</span>
    <span class="k">return</span> <span class="n">state</span>


  <span class="k">def</span> <span class="nf">set_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" board is dictionary giving game state a triple of np arrays</span>
<span class="sd">      pieces:        numpy array (batch_size x n_rows x n_cols),</span>
<span class="sd">      scores:        numpy array (batch_size x num_critters)</span>
<span class="sd">      rounds_left:   numpy array (batch_size)</span>
<span class="sd">      active_player: int</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rounds_left</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_player</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'active_player'</span><span class="p">])</span>


  <span class="k">def</span> <span class="nf">get_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" returns a board state, which is a triple of np arrays</span>
<span class="sd">    pieces,       - batch_size x n_rows x n_cols</span>
<span class="sd">    scores,       - batch_size</span>
<span class="sd">    rounds_left   - batch_size</span>
<span class="sd">    """</span>
    <span class="n">state</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'pieces'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
             <span class="s1">'scores'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">scores</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
             <span class="s1">'rounds_left'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rounds_left</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
             <span class="s1">'active_player'</span><span class="p">:</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">active_player</span><span class="p">)}</span>
    <span class="k">return</span> <span class="n">state</span>


  <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>


  <span class="k">def</span> <span class="nf">execute_moves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">moves</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Updates the state of the board given the moves made.</span>

<span class="sd">    Args:</span>
<span class="sd">      moves: a 3-tuple of 1-d arrays each of length batch_size,</span>
<span class="sd">        the first array gives the specific board within the batch,</span>
<span class="sd">        the second array in the tuple gives the new row coord for each critter</span>
<span class="sd">        on each board and the third gives the new col coord.</span>

<span class="sd">    Notes:</span>
<span class="sd">      Assumes that there is exactly one valid move for each board in the</span>
<span class="sd">      batch of boards for the critter type given. i.e. it does't check for</span>
<span class="sd">      bounce/reflection on edges or with other critters, or for multiple move</span>
<span class="sd">      made on the same board. It only checks for eating food and adds new food</span>
<span class="sd">      when appropriate. Invalid moves could lead to illegal teleporting</span>
<span class="sd">      behavior, critter duplication, or index out of range errors.</span>

<span class="sd">      Currently just prints a message if critter making the move is not the</span>
<span class="sd">      active player, could enforce this more strictly if needed.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">critter</span><span class="o">-</span><span class="mi">1</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_player</span><span class="p">:</span>
      <span class="c1"># note critter is [1 to num_critter] inclusive so that it can be used</span>
      <span class="c1"># directly in where statements on pieces but self.active_player is</span>
      <span class="c1"># [0 to numcritter-1] inclusive so that it can be used directly in</span>
      <span class="c1"># indexing player lists</span>
      <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Warning! The critter moving is not the expected active player"</span><span class="p">)</span>
    <span class="c1">#critters leave their spots</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="o">==</span><span class="n">critter</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1">#which critters have food in their new spots</span>
    <span class="n">eats_food</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">[</span><span class="n">moves</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span>
    <span class="c1"># some critters eat and their scores go up</span>
    <span class="c1"># note critter is +int so need to -1 for indexing</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scores</span><span class="p">[:,</span><span class="n">critter</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scores</span><span class="p">[:,</span><span class="n">critter</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">eats_food</span>

    <span class="n">num_empty_after_eat</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_food</span> <span class="o">-</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># +1 for the food just eaten</span>
    <span class="c1"># which boards in the batch had eating happen</span>
    <span class="n">g_eating</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">eats_food</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># put critters in new positions</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">[</span><span class="n">moves</span><span class="p">]</span> <span class="o">=</span> <span class="n">critter</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">eats_food</span><span class="p">):</span>
      <span class="c1"># add random food to replace what is eaten</span>
      <span class="n">possible_new_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">#the spot is empty</span>
          <span class="n">eats_food</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span> <span class="c1">#food eaten on that board</span>
      <span class="n">food_sample_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">num_empty_after_eat</span><span class="p">,</span>
                                     <span class="n">size</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">eats_food</span><span class="p">))</span>
      <span class="n">food_sample</span> <span class="o">=</span> <span class="n">food_sample_</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">g_eating</span><span class="p">))</span><span class="o">*</span><span class="n">num_empty_after_eat</span>
      <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">[(</span><span class="n">possible_new_locs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">food_sample</span><span class="p">],</span>
                                 <span class="n">possible_new_locs</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">food_sample</span><span class="p">],</span>
                                 <span class="n">possible_new_locs</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">food_sample</span><span class="p">])]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
      <span class="c1">#put new food on the board</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">[(</span><span class="n">possible_new_locs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">food_sample</span><span class="p">],</span>
                   <span class="n">possible_new_locs</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">food_sample</span><span class="p">],</span>
                   <span class="n">possible_new_locs</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">food_sample</span><span class="p">])]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rounds_left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rounds_left</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="o">==</span>
                  <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">num_food</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))):</span>
      <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
      <span class="nb">print</span><span class="p">(((</span><span class="bp">self</span><span class="o">.</span><span class="n">num_food</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
    <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="o">==</span>
                  <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">num_food</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
    <span class="c1"># next player's turn</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_player</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">active_player</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">get_legal_moves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Identifies all legal moves for the critter, taking into acount</span>
<span class="sd">    bouncing/reflection at edges,</span>

<span class="sd">    Returns:</span>
<span class="sd">      A numpy int array of size batch x 3(g,x,y) x 4(possible moves)</span>

<span class="sd">    Note:</span>
<span class="sd">      moves[0,1,3] is the x coordinate of the move corresponding to the</span>
<span class="sd">      fourth offset on the first board.</span>
<span class="sd">      moves[1,:,1] will give the g,x,y triple corresponding to the</span>
<span class="sd">      move on the second board and the second offset, actions are integers</span>
<span class="sd">    """</span>
    <span class="c1"># can only move one cell down, up, right, and left from current location</span>
    <span class="n">critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pieces</span> <span class="o">==</span> <span class="n">critter</span><span class="p">))</span>
    <span class="n">legal_offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span>
      <span class="n">critter_locs</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span>
      <span class="n">critter_locs</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span>
      <span class="n">critter_locs</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">])]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span>
      <span class="n">critter_locs</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">])</span>
    <span class="n">legal_offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">legal_offsets</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="n">legal_offsets</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="nb">tuple</span><span class="p">(</span><span class="n">m_</span><span class="p">)</span> <span class="k">for</span> <span class="n">m_</span> <span class="ow">in</span> <span class="n">legal_offsets</span><span class="p">])</span>
    <span class="c1"># must land on the board and not on another critter</span>
    <span class="n">legal_destinations</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pieces</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">legal_destinations</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([(</span><span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span>
                              <span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">legal_destinations</span><span class="p">)])</span>
    <span class="c1"># legal moves satisfy both these conditions</span>
    <span class="n">legal_moves</span> <span class="o">=</span> <span class="n">legal_offsets</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">legal_destinations</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">legal_moves</span>


  <span class="k">def</span> <span class="nf">get_perceptions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Generates a vector representation of the critter perceptions, oriented</span>
<span class="sd">    around the critter.</span>

<span class="sd">    Args:</span>
<span class="sd">      radius: int, how many grid squared the critter can see around it</span>
<span class="sd">        using L1  (Manhattan/cityblock) distance</span>

<span class="sd">    Returns:</span>
<span class="sd">      A batch_size x 2*radius*(radius+1) + 1, giving the values</span>
<span class="sd">      of the percept reading left to right, top to bottom over the board,</span>
<span class="sd">      for each board in the batch</span>
<span class="sd">    """</span>
    <span class="c1"># define the L1 ball mask</span>
    <span class="n">diameter</span> <span class="o">=</span> <span class="n">radius</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">diameter</span><span class="p">,</span> <span class="n">diameter</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
    <span class="n">mask_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="n">i</span><span class="o">-</span><span class="n">radius</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="n">radius</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">diameter</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">diameter</span><span class="p">)])</span>
    <span class="n">mask_distances</span> <span class="o">=</span> <span class="n">cdist</span><span class="p">(</span><span class="n">mask_coords</span><span class="p">,</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
                           <span class="s1">'cityblock'</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">mask</span><span class="p">[</span><span class="n">mask_distances</span> <span class="o">&lt;=</span> <span class="n">radius</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">mask</span><span class="p">[</span><span class="n">radius</span><span class="p">,</span><span class="n">radius</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># exclude the center</span>

    <span class="c1"># pad the array</span>
    <span class="n">padded_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pieces</span><span class="p">,</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">radius</span><span class="p">),</span>
     <span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">radius</span><span class="p">)),</span> <span class="n">constant_values</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># get locations of critters</span>
    <span class="n">critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">padded_arr</span> <span class="o">==</span> <span class="n">critter</span><span class="p">)</span>

    <span class="n">percepts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">critter_loc</span> <span class="ow">in</span> <span class="n">critter_locs</span><span class="p">:</span>
      <span class="n">b</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">critter_loc</span>
      <span class="n">surrounding</span> <span class="o">=</span> <span class="n">padded_arr</span><span class="p">[</span><span class="n">b</span><span class="p">,</span> <span class="n">r</span><span class="o">-</span><span class="n">radius</span><span class="p">:</span><span class="n">r</span><span class="o">+</span><span class="n">radius</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">-</span><span class="n">radius</span><span class="p">:</span><span class="n">c</span><span class="o">+</span><span class="n">radius</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
      <span class="n">percept</span> <span class="o">=</span> <span class="n">surrounding</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
      <span class="n">percepts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">percept</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">percepts</span><span class="p">))</span>


<span class="c1">#######################################################################</span>
<span class="c1"># extend GridworldGame class locally before integrating in shared utils</span>
<span class="c1">#######################################################################</span>



<span class="k">class</span> <span class="nc">GridworldGame</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  A collection methods and parameters of a gridworld game that allow</span>
<span class="sd">  for interaction with and display of GridwordlBoard objects.</span>
<span class="sd">  """</span>


  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
               <span class="n">num_critters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">num_food</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
               <span class="n">lifetime</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Initializes an instance of the class with the specified parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">      batch_size (int, optional): Number of instances in a batch. Default is 1.</span>
<span class="sd">      n_rows (int, optional): Number of rows in the grid. Default is 7.</span>
<span class="sd">      n_cols (int, optional): Number of columns in the grid. Default is 7.</span>
<span class="sd">      num_critters (int, optional): Number of different agents running around</span>
<span class="sd">        on each board in the batch. Default is 2.</span>
<span class="sd">      num_food (int, optional): Number of food items. Default is 10.</span>
<span class="sd">      lifetime (int, optional): Time before critter's life ends, in terms of</span>
<span class="sd">        time steps. Default is 30.</span>
<span class="sd">      rng (numpy random number generator, optional): Random number generator</span>
<span class="sd">        for reproducibility. If None, uses default RNG with a preset seed.</span>
<span class="sd">    """</span>

    <span class="c1"># Check for positive integer inputs</span>
    <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span>
               <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">num_critters</span><span class="p">,</span> <span class="n">num_food</span><span class="p">,</span>
                         <span class="n">lifetime</span><span class="p">]),</span> <span class="s2">"All inputs must be non-negative integers."</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="n">batch_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span> <span class="o">=</span> <span class="n">n_rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span> <span class="o">=</span> <span class="n">n_cols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span> <span class="o">=</span> <span class="n">num_critters</span>
    <span class="c1"># Check for num_food exceeding maximum possible value</span>
    <span class="n">max_food</span> <span class="o">=</span> <span class="n">n_rows</span> <span class="o">*</span> <span class="n">n_cols</span> <span class="o">-</span> <span class="n">num_critters</span>
    <span class="k">if</span> <span class="n">num_food</span> <span class="o">&gt;</span> <span class="n">max_food</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'num_food is too large, setting it to maximum possible value: </span><span class="si">{</span><span class="n">max_food</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>
      <span class="n">num_food</span> <span class="o">=</span> <span class="n">max_food</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num_food</span> <span class="o">=</span> <span class="n">num_food</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span> <span class="o">=</span> <span class="n">lifetime</span>
    <span class="c1"># Set up random number generator</span>
    <span class="k">if</span> <span class="n">rng</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="n">SEED</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">rng</span>


  <span class="k">def</span> <span class="nf">get_init_board</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Generates a starting board given the parameters of the game.</span>
<span class="sd">    Returns a tuple giving current state of the game</span>
<span class="sd">    """</span>
    <span class="c1"># current score, and rounds left in the episode</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">GridworldBoard</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="p">,</span>
                       <span class="n">n_cols</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">,</span> <span class="n">num_critters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
                       <span class="n">num_food</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_food</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span><span class="p">,</span>
                       <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">b</span><span class="o">.</span><span class="n">get_init_board_state</span><span class="p">()</span>


  <span class="k">def</span> <span class="nf">get_board_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Shape of a single board, doesn't give batch size"""</span>
    <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">get_action_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Returns the number of all possible actions, even though only  2-4 of</span>
<span class="sd">    these will ever be valid on a given turn.</span>
<span class="sd">    Actions correspond to integer indexes of board locations,</span>
<span class="sd">    moves to g,r,c coordinate indexes of board locations</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span>


  <span class="k">def</span> <span class="nf">get_batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Returns the number of actions, only 0-4 of these will ever be valid.</span>
<span class="sd">    Actions correspond to integer indexes of board locations,</span>
<span class="sd">    moves to r,c indexes of board locations</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span>


  <span class="k">def</span> <span class="nf">string_rep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" A bytestring representation board g's state in the batch of boards"""</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="n">g</span><span class="p">]</span><span class="o">.</span><span class="n">tobytes</span><span class="p">()</span> <span class="o">+</span> <span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][</span><span class="n">g</span><span class="p">]</span><span class="o">.</span><span class="n">tobytes</span><span class="p">()</span> <span class="o">+</span>
            <span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="n">g</span><span class="p">]</span><span class="o">.</span><span class="n">tobytes</span><span class="p">())</span>


  <span class="k">def</span> <span class="nf">get_square_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">piece</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" Translate integer piece value to symbol for display"""</span>
    <span class="k">if</span> <span class="n">piece</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">"X"</span>
    <span class="k">elif</span> <span class="n">piece</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">"-"</span>
    <span class="k">elif</span> <span class="n">piece</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">"0"</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">"???????????????????????????"</span>


  <span class="k">def</span> <span class="nf">string_rep_readable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" A human readable representation of g-th board's state in the batch"""</span>
    <span class="n">board_s</span> <span class="o">=</span> <span class="s2">""</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_square_symbol</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="n">g</span><span class="p">]</span>
                          <span class="k">for</span> <span class="n">square</span> <span class="ow">in</span> <span class="n">row</span><span class="p">])</span>
    <span class="n">board_s</span> <span class="o">=</span> <span class="n">board_s</span> <span class="o">+</span> <span class="s1">'_'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][</span><span class="n">g</span><span class="p">])</span>
    <span class="n">board_s</span> <span class="o">=</span> <span class="n">board_s</span> <span class="o">+</span> <span class="s1">'_'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="n">g</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">board_s</span>


  <span class="k">def</span> <span class="nf">get_scores</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


  <span class="k">def</span> <span class="nf">get_rounds_left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


  <span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Displays the g-th games in the batch of boards"""</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"   "</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">c_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">):</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">c_</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">" "</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"-----------------------"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">c_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">):</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">c_</span><span class="p">,</span> <span class="s2">"|"</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>    <span class="c1"># Print the row</span>
      <span class="k">for</span> <span class="n">r_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="p">):</span>
        <span class="n">piece</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="n">g</span><span class="p">,</span><span class="n">c_</span><span class="p">,</span><span class="n">r_</span><span class="p">]</span>    <span class="c1"># Get the piece to print</span>
        <span class="c1">#print(piece)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_square_symbol</span><span class="p">(</span><span class="n">piece</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">" "</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">"|"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"-----------------------"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Rounds Left: "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="n">g</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Score: "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][</span><span class="n">g</span><span class="p">]))</span>


  <span class="k">def</span> <span class="nf">get_critter_rc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">critter_index</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="n">g</span><span class="p">]</span><span class="o">==</span><span class="n">critter_index</span><span class="p">)))</span>


  <span class="k">def</span> <span class="nf">plot_moves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">player0</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">player1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">fig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">p0_name</span><span class="o">=</span><span class="s1">'Player 0'</span><span class="p">,</span> <span class="n">p1_name</span><span class="o">=</span><span class="s1">'Player 1'</span><span class="p">,</span>
                 <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">critter_name</span><span class="o">=</span><span class="s1">'Critter'</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">deterministic</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Uses plotting functions to make picture of the current board state, and what</span>
<span class="sd">    a critter would do at each non-food location in the current board state</span>
<span class="sd">    """</span>
    <span class="k">def</span> <span class="nf">make_prob_dict</span><span class="p">(</span><span class="n">critter_locs</span><span class="p">,</span> <span class="n">play</span><span class="p">):</span>
      <span class="n">offset_dict</span> <span class="o">=</span> <span class="p">{(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="s1">'right'</span><span class="p">,</span>
                     <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span> <span class="s1">'left'</span><span class="p">,</span>
                     <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="s1">'down'</span><span class="p">,</span>
                     <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="s1">'up'</span><span class="p">}</span>
      <span class="n">index_probs</span> <span class="o">=</span> <span class="n">play</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
      <span class="n">loc_prob_dict</span> <span class="o">=</span> <span class="p">{}</span>
      <span class="c1"># for each non food locations</span>
      <span class="k">for</span> <span class="n">g</span><span class="p">,</span> <span class="n">loc_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">critter_locs</span><span class="p">):</span>
        <span class="c1"># this is the location as an r, c tuple</span>
        <span class="n">rc_tup</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="n">loc_</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">loc_</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
        <span class="c1"># the relevant probabilities</span>
        <span class="n">raw_probs</span> <span class="o">=</span> <span class="n">index_probs</span><span class="p">[</span><span class="n">g</span><span class="p">]</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="n">raw_probs</span><span class="p">[</span><span class="n">raw_probs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">indexes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">raw_probs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="c1"># turn the probability indexes into r, c coords</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">floor_divide</span><span class="p">(</span><span class="n">indexes</span><span class="p">,</span> <span class="n">gwg</span><span class="o">.</span><span class="n">n_cols</span><span class="p">)</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">remainder</span><span class="p">(</span><span class="n">indexes</span><span class="p">,</span> <span class="n">gwg</span><span class="o">.</span><span class="n">n_cols</span><span class="p">)</span>
        <span class="n">moves</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">z</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">)]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="c1">#compute the offsets and turn them to strings</span>
        <span class="n">offsets</span> <span class="o">=</span> <span class="n">moves</span> <span class="o">-</span> <span class="n">loc_</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">str_offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">offset_dict</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="n">offsets</span><span class="p">))))</span>
        <span class="c1"># update the loc_prob_dict for plotting</span>
        <span class="n">prob_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">str_offsets</span><span class="p">,</span> <span class="n">probs</span><span class="p">))</span>
        <span class="n">loc_prob_dict</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">rc_tup</span><span class="p">:</span> <span class="n">prob_dict</span><span class="p">})</span>
      <span class="k">return</span> <span class="n">loc_prob_dict</span>

    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">fig</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">make_grid</span><span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>

    <span class="n">rc_food_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">rc_food_plotting</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rc_food_index</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
    <span class="n">food</span> <span class="o">=</span> <span class="n">plot_food</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">rc_food_plotting</span><span class="p">)</span>

    <span class="n">expanded_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_everywhere_state_expansion</span><span class="p">(</span>
      <span class="n">board</span><span class="p">,</span> <span class="n">player0</span><span class="o">.</span><span class="n">critter_index</span><span class="p">,</span> <span class="n">to_expand</span><span class="o">=</span><span class="n">g</span><span class="p">)</span>
    <span class="n">critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">expanded_board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">==</span><span class="n">player0</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="c1">#play the expanded state</span>
    <span class="n">p0_play</span> <span class="o">=</span> <span class="n">player0</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">expanded_board</span><span class="p">)</span>
    <span class="c1">#get the prob dict</span>
    <span class="n">p0_loc_prob_dict</span> <span class="o">=</span> <span class="n">make_prob_dict</span><span class="p">(</span><span class="n">critter_locs</span><span class="p">,</span> <span class="n">p0_play</span><span class="p">)</span>
    <span class="c1"># same for player1 if there is one</span>
    <span class="k">if</span> <span class="n">player1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">p1_play</span> <span class="o">=</span> <span class="n">player1</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">expanded_board</span><span class="p">)</span>
      <span class="n">p1_loc_prob_dict</span> <span class="o">=</span> <span class="n">make_prob_dict</span><span class="p">(</span><span class="n">critter_locs</span><span class="p">,</span> <span class="n">p1_play</span><span class="p">)</span>

    <span class="n">existing_handels</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">player1</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">leg_handles_0</span> <span class="o">=</span> <span class="n">plot_directions</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">p0_loc_prob_dict</span><span class="p">,</span>
        <span class="n">critter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="n">deterministic</span><span class="p">)</span>
      <span class="n">leg_handles</span> <span class="o">=</span> <span class="n">existing_handels</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">leg_handles_0</span> <span class="o">=</span> <span class="n">plot_directions</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">p0_loc_prob_dict</span><span class="p">,</span>
        <span class="n">critter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="n">deterministic</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">p0_name</span><span class="p">)</span>
      <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">leg_handles_1</span> <span class="o">=</span> <span class="n">plot_directions</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">p1_loc_prob_dict</span><span class="p">,</span>
        <span class="n">critter</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="n">deterministic</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">p1_name</span><span class="p">)</span>
      <span class="n">leg_handles</span> <span class="o">=</span> <span class="n">existing_handels</span> <span class="o">+</span> <span class="n">leg_handles_0</span> <span class="o">+</span> <span class="n">leg_handles_1</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">leg_handles</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s2">"outside right upper"</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>


  <span class="k">def</span> <span class="nf">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">fig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">critter_specs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">food</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fov</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">legend_type</span><span class="o">=</span><span class="s1">'included'</span><span class="p">,</span>
                 <span class="n">has_fov</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1">#fog_of_war feild_of_view</span>
                 <span class="n">radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">name</span><span class="o">=</span><span class="s1">'Critter'</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Uses plotting functions to make picture of the current board state"""</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">fig</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">make_grid</span><span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>

    <span class="c1"># generate critter plotting specs if we don't already have them</span>
    <span class="k">if</span> <span class="n">critter_specs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">critter_specs</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'h'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">]</span>  <span class="c1"># hexagon and diamond</span>
      <span class="n">colors</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">"colorblind"</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">):</span>
        <span class="n">critter_name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">'</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'marker'</span><span class="p">:</span> <span class="n">markers</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">markers</span><span class="p">)],</span>
                <span class="s1">'color'</span><span class="p">:</span> <span class="n">colors</span><span class="p">[</span><span class="n">i</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="n">markers</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)],</span>
                <span class="s1">'name'</span><span class="p">:</span> <span class="n">critter_name</span><span class="p">,</span>
                <span class="s1">'int_id'</span><span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span>
        <span class="n">critter_specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
    <span class="c1"># get critter locs and plot them</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">critter_specs</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span> <span class="s2">"More/fewer specs than critters"</span>
    <span class="k">for</span> <span class="n">spec</span> <span class="ow">in</span> <span class="n">critter_specs</span><span class="p">:</span>
      <span class="n">rc_loc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">==</span> <span class="n">spec</span><span class="p">[</span><span class="s1">'int_id'</span><span class="p">]))</span><span class="o">.</span><span class="n">T</span>
      <span class="n">spec</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">'rc_loc'</span><span class="p">:</span> <span class="n">rc_loc</span><span class="p">})</span>
    <span class="n">critter_specs</span> <span class="o">=</span> <span class="n">plot_critters</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">critter_specs</span><span class="p">)</span>

    <span class="c1"># get food locs and plot them</span>
    <span class="n">rc_food_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="n">g</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">rc_food_plotting</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rc_food_index</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
    <span class="k">if</span> <span class="n">food</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">food</span> <span class="o">=</span> <span class="n">plot_food</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">rc_food_plotting</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">food</span> <span class="o">=</span> <span class="n">plot_food</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">rc_food_plotting</span><span class="p">,</span> <span class="n">food</span><span class="p">)</span>

    <span class="c1">#plot field of view if doing that</span>
    <span class="k">if</span> <span class="n">has_fov</span><span class="p">:</span>
      <span class="c1"># will need to think about how to do this for multiple</span>
      <span class="c1"># critters, currently just use rc of first critter in the spec list</span>
      <span class="k">if</span> <span class="n">fov</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fov</span> <span class="o">=</span> <span class="n">plot_fov</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">critter_specs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'rc_loc'</span><span class="p">],</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span>
                       <span class="n">radius</span><span class="p">,</span> <span class="n">has_fov</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">fov</span> <span class="o">=</span> <span class="n">plot_fov</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">critter_specs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'rc_loc'</span><span class="p">],</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span>
                       <span class="n">radius</span><span class="p">,</span> <span class="n">has_fov</span><span class="p">,</span> <span class="n">fov</span><span class="p">)</span>
    <span class="c1"># make legend and draw and return figure</span>
    <span class="k">if</span> <span class="n">legend_type</span> <span class="o">==</span> <span class="s1">'included'</span><span class="p">:</span>
      <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="s2">"outside right upper"</span><span class="p">,</span> <span class="n">markerscale</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
      <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
      <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">critter_specs</span><span class="p">,</span> <span class="n">food</span><span class="p">,</span> <span class="n">fov</span>
    <span class="k">elif</span> <span class="n">legend_type</span> <span class="o">==</span> <span class="s1">'separate'</span><span class="p">:</span>
      <span class="n">fig_legend</span><span class="p">,</span> <span class="n">ax_legend</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">)</span>
      <span class="n">fig_legend</span><span class="o">.</span><span class="n">get_layout_engine</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">w_pad</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">h_pad</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
      <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
      <span class="n">ax_legend</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">'center'</span><span class="p">,</span> <span class="n">markerscale</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
      <span class="n">ax_legend</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">'off'</span><span class="p">)</span>
      <span class="n">fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">header_visible</span> <span class="o">=</span> <span class="kc">False</span>
      <span class="n">fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">toolbar_visible</span> <span class="o">=</span> <span class="kc">False</span>
      <span class="n">fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">resizable</span> <span class="o">=</span> <span class="kc">False</span>
      <span class="n">fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">footer_visible</span> <span class="o">=</span> <span class="kc">False</span>
      <span class="n">fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
      <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">critter_specs</span><span class="p">,</span> <span class="n">food</span><span class="p">,</span> <span class="n">fov</span><span class="p">,</span> <span class="n">fig_legend</span><span class="p">,</span> <span class="n">ax_legend</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1">#no legend</span>
      <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
      <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">critter_specs</span><span class="p">,</span> <span class="n">food</span><span class="p">,</span> <span class="n">fov</span>


  <span class="k">def</span> <span class="nf">get_valid_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    A Helper function to translate the g,x,y, tuples provided the</span>
<span class="sd">    GridworldBoard.get_legal_moves method into valid actions, represented</span>
<span class="sd">    as binary vectors of len num_actions.</span>

<span class="sd">    Args:</span>
<span class="sd">      board: a triple of np arrays representing board state</span>
<span class="sd">        pieces,       - batch_size x n_rows x n_cols</span>
<span class="sd">        scores,       - batch_size</span>
<span class="sd">        rounds_left   - batch_size</span>

<span class="sd">    Returns:</span>
<span class="sd">      valids: np.ndarray(binary) batch_size x num_actions, 1's represent</span>
<span class="sd">              valid moves</span>
<span class="sd">    """</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">GridworldBoard</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="n">n_rows</span><span class="p">,</span>
                       <span class="n">n_cols</span><span class="o">=</span><span class="n">n_cols</span><span class="p">,</span> <span class="n">num_critters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
                       <span class="n">num_food</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_food</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span><span class="p">,</span>
                       <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
    <span class="n">legal_moves</span> <span class="o">=</span>  <span class="n">b</span><span class="o">.</span><span class="n">get_legal_moves</span><span class="p">(</span><span class="n">critter</span><span class="p">)</span>
    <span class="n">valids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span> <span class="o">*</span> <span class="n">n_cols</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">legal_moves</span><span class="p">:</span>
      <span class="n">valids</span><span class="p">[</span><span class="n">g</span><span class="p">,</span> <span class="n">r</span> <span class="o">*</span> <span class="n">n_cols</span> <span class="o">+</span> <span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">valids</span>


  <span class="k">def</span> <span class="nf">display_moves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Displays possible moves for the g-th games in the batch of boards"""</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_valid_actions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">)[</span><span class="n">g</span><span class="p">],</span>
                 <span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"  "</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"possible moves"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"   "</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">):</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">" "</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"-----------------------"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">):</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="s2">"|"</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>    <span class="c1"># Print the row</span>
      <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="p">):</span>
        <span class="n">piece</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">row</span><span class="p">]</span>    <span class="c1"># Get the piece to print</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_square_symbol</span><span class="p">(</span><span class="n">piece</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">" "</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">"|"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"-----------------------"</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">get_perceptions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">GridworldBoard</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="n">n_rows</span><span class="p">,</span>
                       <span class="n">n_cols</span><span class="o">=</span><span class="n">n_cols</span><span class="p">,</span> <span class="n">num_critters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
                       <span class="n">num_food</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_food</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span><span class="p">,</span>
                       <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">get_perceptions</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">critter</span><span class="p">))</span>


  <span class="k">def</span> <span class="nf">get_next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">,</span> <span class="n">actions</span><span class="p">,</span> <span class="n">a_indx</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Helper function using GridworldBoard.execute_moves to update board state</span>
<span class="sd">    given actions on a batch of boards, for a given critter</span>

<span class="sd">    Args:</span>
<span class="sd">      board: a triple of np arrays representing board state</span>
<span class="sd">        pieces,       - batch_size x n_rows x n_cols</span>
<span class="sd">        scores,       - batch_size</span>
<span class="sd">        rounds_left   - batch_size</span>
<span class="sd">      critter: integer index of the critter type</span>
<span class="sd">      actions: list of flat integer indexes of critter's new board positions</span>
<span class="sd">      a_indx: list of integer indexes indicating which actions are being taken</span>
<span class="sd">        on which boards in the batch</span>

<span class="sd">    Returns:</span>
<span class="sd">      a board triple signifying next state</span>

<span class="sd">    Note:</span>
<span class="sd">      if len(actions) &gt; batch_size of board the returned board state will have</span>
<span class="sd">      an expanded batch size, allowing multiple paths in the game tree to be</span>
<span class="sd">      explored in parallel</span>

<span class="sd">    """</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
      <span class="c1"># assumes all boards in the batch have the same rounds left</span>
      <span class="c1"># no rounds left return the board unchanged</span>
      <span class="k">return</span> <span class="n">board</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">moves</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_moves</span><span class="p">(</span><span class="n">actions</span><span class="p">)</span>
      <span class="n">b</span> <span class="o">=</span> <span class="n">GridworldBoard</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">),</span> <span class="n">n_rows</span><span class="o">=</span><span class="n">n_rows</span><span class="p">,</span>
                         <span class="n">n_cols</span><span class="o">=</span><span class="n">n_cols</span><span class="p">,</span> <span class="n">num_critters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
                         <span class="n">num_food</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_food</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span><span class="p">,</span>
                         <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">a_indx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># just one move on each board in the batch</span>
        <span class="k">assert</span> <span class="n">batch_size</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="c1"># potentially multiple moves on each board, expand the batch</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">a_indx</span><span class="p">)</span>
        <span class="n">new_pieces</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="n">ai</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">ai</span> <span class="ow">in</span> <span class="n">a_indx</span><span class="p">])</span>
        <span class="n">new_scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][</span><span class="n">ai</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">ai</span> <span class="ow">in</span> <span class="n">a_indx</span><span class="p">])</span>
        <span class="n">new_rounds_left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="n">ai</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">ai</span> <span class="ow">in</span> <span class="n">a_indx</span><span class="p">])</span>
        <span class="n">new_active_player</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'active_player'</span><span class="p">])</span>
        <span class="n">new_state</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'pieces'</span><span class="p">:</span> <span class="n">new_pieces</span><span class="p">,</span>
                     <span class="s1">'scores'</span><span class="p">:</span> <span class="n">new_scores</span><span class="p">,</span>
                     <span class="s1">'rounds_left'</span><span class="p">:</span> <span class="n">new_rounds_left</span><span class="p">,</span>
                     <span class="s1">'active_player'</span><span class="p">:</span> <span class="n">new_active_player</span><span class="p">}</span>
        <span class="n">b</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">new_state</span><span class="p">)</span>
      <span class="n">b</span><span class="o">.</span><span class="n">execute_moves</span><span class="p">(</span><span class="n">moves</span><span class="p">,</span> <span class="n">critter</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">b</span><span class="o">.</span><span class="n">get_state</span><span class="p">()</span>


  <span class="k">def</span> <span class="nf">actions_to_moves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actions</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Args:</span>
<span class="sd">      actions: a batch length list of integer indexes for the flattened boards,</span>
<span class="sd">      i.e. in the range(n_cols * n_rows) actions are often much easier to use</span>
<span class="sd">      as training targets for NN based RL agents.</span>
<span class="sd">    Returns</span>
<span class="sd">      moves: a 3-tuple of 1-d arrays each of length batch_size,</span>
<span class="sd">        the first array gives the specific board within the batch,</span>
<span class="sd">        the second array in the tuple gives the new row coord for each critter</span>
<span class="sd">        on each board and the third gives the new col coord. Note this is</span>
<span class="sd">        exactly the format expected by GridworldBoard.execute_moves, and</span>
<span class="sd">        is a canonical way of indexing arrays for quick numpy operations.</span>
<span class="sd">    """</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)),</span>
             <span class="n">np</span><span class="o">.</span><span class="n">floor_divide</span><span class="p">(</span><span class="n">actions</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">),</span>
             <span class="n">np</span><span class="o">.</span><span class="n">remainder</span><span class="p">(</span><span class="n">actions</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">moves</span>


  <span class="k">def</span> <span class="nf">moves_to_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">moves</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Args:</span>
<span class="sd">      moves: a 3-tuple of 1-d arrays each of length batch_size,</span>
<span class="sd">        the first array gives the specific board within the batch,</span>
<span class="sd">        the second array in the tuple gives the new row coord for each critter</span>
<span class="sd">        on each board and the third gives the new col coord. Note this is</span>
<span class="sd">        exactly the format expected by GridworldBoard.execute_moves, and</span>
<span class="sd">        is a canonical way of indexing arrays for quick numpy operations.</span>
<span class="sd">    Returns:</span>
<span class="sd">      actions: a batch length list of integer indexes for the flattened boards,</span>
<span class="sd">      i.e. in the range(n_cols * n_rows) actions are often much easier to use</span>
<span class="sd">      as training targets for NN based RL agents.</span>
<span class="sd">    """</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">moves</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="n">rows</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span> <span class="o">+</span> <span class="n">cols</span>
    <span class="k">return</span> <span class="n">actions</span>


  <span class="k">def</span> <span class="nf">critter_oriented_get_next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">,</span> <span class="n">offsets</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Translates directions in reference to the critter's location into</span>
<span class="sd">    moves on the board in absolute terms, while checking for</span>
<span class="sd">    bouncing/reflecting then get's the next state.</span>

<span class="sd">    Args:</span>
<span class="sd">      board: a triple of np arrays representing board state</span>
<span class="sd">        pieces,       - batch_size x n_rows x n_cols</span>
<span class="sd">        scores,       - batch_size</span>
<span class="sd">        rounds_left   - batch_size</span>
<span class="sd">      offsets: batch length list of strings one 'up', 'down', 'left', 'right'</span>

<span class="sd">    Returns:</span>
<span class="sd">      a board triple signifying next state</span>

<span class="sd">    Note:</span>
<span class="sd">      Unlike get_next_state, this method does not allow for expansion</span>
<span class="sd">      of the game tree, i.e. len(offsets)==batch_size required</span>
<span class="sd">    """</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">offsets</span><span class="p">)</span> <span class="o">==</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">GridworldBoard</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="n">n_rows</span><span class="p">,</span>
                       <span class="n">n_cols</span><span class="o">=</span><span class="n">n_cols</span><span class="p">,</span> <span class="n">num_critters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
                       <span class="n">num_food</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_food</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span><span class="p">,</span>
                       <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_direction_to_move</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">offsets</span><span class="p">,</span> <span class="n">critter</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">execute_moves</span><span class="p">(</span><span class="n">moves</span><span class="p">,</span> <span class="n">critter</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">get_state</span><span class="p">())</span>


  <span class="k">def</span> <span class="nf">critter_direction_to_move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">offsets</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Translates directions in reference to the critter's location into</span>
<span class="sd">    moves on the board in absolute terms, while checking for</span>
<span class="sd">    bouncing/reflecting then returns moves. Doesn't check for collisions with</span>
<span class="sd">    other critters though. In general player's move methods should be checking</span>
<span class="sd">    valid moves and only making legal ones.</span>

<span class="sd">    Args:</span>
<span class="sd">      board: dict of np arrays representing board state</span>
<span class="sd">        'pieces':       batch_size x n_rows x n_cols</span>
<span class="sd">        'scores':       batch_size</span>
<span class="sd">        'rounds_left':  batch_size</span>
<span class="sd">      offsets: batch length list of strings,</span>
<span class="sd">        one of 'up', 'down', 'left', 'right'</span>
<span class="sd">      critter: integer index for the critter we want moves for</span>

<span class="sd">    Returns:</span>
<span class="sd">      moves: a 3-tuple of 1-d arrays each of length batch_size,</span>
<span class="sd">        the first array gives the specific board within the batch,</span>
<span class="sd">        the second array in the tuple gives the new row coord for each critter</span>
<span class="sd">        on each board and the third gives the new col coord. Note this is</span>
<span class="sd">        exactly the format expected by GridworldBoard.execute_moves, and</span>
<span class="sd">        is a canonical way of indexing arrays for numpy.</span>

<span class="sd">    Note:</span>
<span class="sd">      Unlike get_next_state, this method does not allow for expansion</span>
<span class="sd">      of the game tree, i.e. len(offsets)==batch_size required</span>
<span class="sd">    """</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">offsets</span><span class="p">)</span> <span class="o">==</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">offset_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'up'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="s1">'down'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="s1">'left'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                   <span class="s1">'right'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="s1">'still'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
    <span class="n">this_critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span> <span class="o">==</span> <span class="n">critter</span><span class="p">)</span>
    <span class="n">all_critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">offsets_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">offset_dict</span><span class="p">[</span><span class="n">ost_</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
                           <span class="k">for</span> <span class="n">ost_</span> <span class="ow">in</span> <span class="n">offsets</span><span class="p">])</span>
    <span class="n">new_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">this_critter_locs</span><span class="p">)</span> <span class="o">+</span> <span class="n">offsets_array</span>
    <span class="c1">#check bounces at boundaries</span>
    <span class="n">new_locs</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">new_locs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span>
                               <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">new_locs</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">new_locs</span><span class="p">[</span><span class="mi">2</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">new_locs</span><span class="p">[</span><span class="mi">2</span><span class="p">,:]</span> <span class="o">&gt;=</span>
                               <span class="n">n_cols</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">new_locs</span><span class="p">[</span><span class="mi">2</span><span class="p">,:])</span>
    <span class="n">new_locs</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">new_locs</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">new_locs</span><span class="p">[</span><span class="mi">1</span><span class="p">,:])</span>
    <span class="n">new_locs</span><span class="p">[</span><span class="mi">2</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">new_locs</span><span class="p">[</span><span class="mi">2</span><span class="p">,:]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">new_locs</span><span class="p">[</span><span class="mi">2</span><span class="p">,:])</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">new_locs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">moves</span>


  <span class="k">def</span> <span class="nf">direction_probs_to_flat_probs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">direction_probs</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Converts direction probabilities in reference to the critter's location into</span>
<span class="sd">    probability arrays on the flattened board.</span>

<span class="sd">    Args:</span>
<span class="sd">      board: dict of np arrays representing board state</span>
<span class="sd">        'pieces':       batch_size x n_rows x n_cols</span>
<span class="sd">        'scores':       batch_size</span>
<span class="sd">        'rounds_left':  batch_size</span>
<span class="sd">      direction_probs: batch length list of dictionaries with keys</span>
<span class="sd">        ['up', 'down', 'left', 'right'] and corresponding probabilities.</span>

<span class="sd">    Returns:</span>
<span class="sd">      probs_arrays: list of arrays, where each array is of length n_rows*n_cols</span>
<span class="sd">                    and represents the flattened probability distribution for</span>
<span class="sd">                    board in the batch.</span>
<span class="sd">    """</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">offset_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'up'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
        <span class="s1">'down'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
        <span class="s1">'left'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)),</span>
        <span class="s1">'right'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))}</span>
    <span class="n">critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span> <span class="o">==</span> <span class="n">critter</span><span class="p">)</span>
    <span class="n">probs_arrays</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span> <span class="o">*</span> <span class="n">n_cols</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">batch_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">):</span>
      <span class="n">prob_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_rows</span> <span class="o">*</span> <span class="n">n_cols</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">direction</span><span class="p">,</span> <span class="n">prob</span> <span class="ow">in</span> <span class="n">direction_probs</span><span class="p">[</span><span class="n">batch_index</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
          <span class="n">offset</span> <span class="o">=</span> <span class="n">offset_dict</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span>
          <span class="n">new_loc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">critter_locs</span><span class="p">)[:,</span> <span class="n">batch_index</span><span class="p">]</span> <span class="o">+</span> <span class="n">offset</span>
          <span class="c1"># Check bounces at boundaries</span>
          <span class="n">new_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">new_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">new_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
          <span class="n">new_loc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">new_loc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">new_loc</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
          <span class="n">new_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">new_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">new_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
          <span class="n">new_loc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">new_loc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">new_loc</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
          <span class="c1"># Convert 2D location to flattened index</span>
          <span class="n">flattened_index</span> <span class="o">=</span> <span class="n">new_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_cols</span> <span class="o">+</span> <span class="n">new_loc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
          <span class="n">prob_array</span><span class="p">[</span><span class="n">flattened_index</span><span class="p">]</span> <span class="o">+=</span> <span class="n">prob</span>
      <span class="n">probs_arrays</span><span class="p">[</span><span class="n">batch_index</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">prob_array</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">probs_arrays</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">action_to_critter_direction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">,</span> <span class="n">actions</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Translates an integer index action into up/down/left/right</span>

<span class="sd">    Args:</span>
<span class="sd">      board: a triple of np arrays representing board state</span>
<span class="sd">        pieces,       - batch_size x n_rows x n_cols</span>
<span class="sd">        scores,       - batch_size</span>
<span class="sd">        rounds_left   - batch_size</span>
<span class="sd">      actions: a batch size ndarry of integer indexes for actions on each board</span>

<span class="sd">    Returns:</span>
<span class="sd">      offsets: a batch length list of strings 'up', 'down', 'left', 'right'</span>
<span class="sd">    """</span>
    <span class="n">offset_dict</span> <span class="o">=</span> <span class="p">{(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="s1">'right'</span><span class="p">,</span>
                   <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span> <span class="s1">'left'</span><span class="p">,</span>
                   <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="s1">'down'</span><span class="p">,</span>
                   <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="s1">'up'</span><span class="p">}</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span> <span class="o">==</span> <span class="n">critter</span><span class="p">)</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)),</span>
               <span class="n">np</span><span class="o">.</span><span class="n">floor_divide</span><span class="p">(</span><span class="n">actions</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">),</span>
               <span class="n">np</span><span class="o">.</span><span class="n">remainder</span><span class="p">(</span><span class="n">actions</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">))</span>
    <span class="c1"># need to reverse this from above, moves is equiv to new_locs</span>
    <span class="c1"># new_locs = np.array(critter_locs) + offsets_array</span>
    <span class="n">offsets_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">critter_locs</span><span class="p">)</span>
    <span class="n">offsets</span> <span class="o">=</span> <span class="p">[</span><span class="n">offset_dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">o_</span><span class="p">)]</span> <span class="k">for</span> <span class="n">o_</span> <span class="ow">in</span> <span class="n">offsets_array</span><span class="o">.</span><span class="n">T</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">offsets</span>


  <span class="k">def</span> <span class="nf">get_valid_directions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Transforms output of get_valid_actions to a list of the valid directions</span>
<span class="sd">    for each board in the batch for a given critter.</span>
<span class="sd">    """</span>
    <span class="n">offset_dict</span> <span class="o">=</span> <span class="p">{(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="s1">'right'</span><span class="p">,</span>
                   <span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span> <span class="s1">'left'</span><span class="p">,</span>
                   <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="s1">'down'</span><span class="p">,</span>
                   <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="s1">'up'</span><span class="p">}</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">valid_actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_valid_actions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">critter</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">batch_size</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid_actions</span><span class="p">):</span>
      <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Need Exactly one set of valid actions per board in batch"</span><span class="p">)</span>
    <span class="n">critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span> <span class="o">==</span> <span class="n">critter</span><span class="p">))</span>
    <span class="n">valid_directions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">g</span><span class="p">,</span> <span class="n">batch_valid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">valid_actions</span><span class="p">):</span>
      <span class="n">valid_int_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">batch_valid</span><span class="o">==</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">critter_loc</span> <span class="o">=</span> <span class="n">critter_locs</span><span class="p">[</span><span class="n">critter_locs</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">g</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span>
      <span class="c1"># critter_loc shape is (1, 2)</span>
      <span class="n">critter_loc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">critter_loc</span><span class="p">)</span>
      <span class="n">moves</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">([</span><span class="n">valid_int_indices</span> <span class="o">//</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">valid_int_indices</span> <span class="o">%</span> <span class="n">n_cols</span><span class="p">])</span>
      <span class="n">offsets</span> <span class="o">=</span> <span class="n">moves</span> <span class="o">-</span> <span class="n">critter_loc</span>
      <span class="n">batch_valid_directions</span> <span class="o">=</span> <span class="p">[</span><span class="n">offset_dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">offset</span><span class="p">)]</span> <span class="k">for</span> <span class="n">offset</span> <span class="ow">in</span> <span class="n">offsets</span><span class="p">]</span>
      <span class="n">valid_directions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">batch_valid_directions</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">valid_directions</span>


  <span class="k">def</span> <span class="nf">get_game_ended</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Helper function to signify if game has ended</span>
<span class="sd">    Returns a batch size np.array of -1 if not ended, and scores for each game</span>
<span class="sd">    in the batch if it is ended, note only returns scores if all games in the</span>
<span class="sd">    batch have ended</span>
<span class="sd">    """</span>
    <span class="n">rounds_left</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">]</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">rounds_left</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="mf">1.0</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">scores</span>


  <span class="k">def</span> <span class="nf">critter_everywhere_state_expansion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board_state</span><span class="p">,</span>
                                         <span class="n">critter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to_expand</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Expand a given board state by placing a critter at each non-food location.</span>

<span class="sd">    The function takes a game state and returns an expanded version of it. For</span>
<span class="sd">    each board in the state, it creates a new version of the board for every</span>
<span class="sd">    non-food location, placing a critter at that location. The scores and</span>
<span class="sd">    remaining rounds are copied for each new board. The result is a new game state</span>
<span class="sd">    with a larger number of boards, each representing a possible configuration</span>
<span class="sd">    with a critter at a different location.</span>

<span class="sd">    Args:</span>
<span class="sd">      board_state (dict): A dictionary containing the current game state.</span>
<span class="sd">      It should have the following keys:</span>
<span class="sd">        - 'pieces': a 3D numpy array (batch x n_col x n_row) representing the game</span>
<span class="sd">          board. -1 -&gt; food, 0 -&gt; empty cell, and 1 -&gt; critter.</span>
<span class="sd">        - 'scores': 1D numpy array of the score for each board in the batch.</span>
<span class="sd">        - 'rounds_left': a 1D numpy array of the rounds left for</span>
<span class="sd">          each board in the batch.</span>
<span class="sd">      critter: integer index to place on the expanded board state</span>
<span class="sd">      to_expand (list (int)): list of batch indices to have state expanded</span>

<span class="sd">    Returns:</span>
<span class="sd">      dict: A dictionary containing the expanded game state with the same keys</span>
<span class="sd">        as the input. The number of boards will be larger than the input state.</span>
<span class="sd">    """</span>
    <span class="n">pieces</span> <span class="o">=</span> <span class="n">board_state</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">board_state</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">rounds_left</span> <span class="o">=</span> <span class="n">board_state</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">active_player</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'active_player'</span><span class="p">])</span>
    <span class="c1"># Determine non-food locations</span>
    <span class="n">non_food_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">pieces</span><span class="p">[</span><span class="n">to_expand</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1">#scrub all existing critter locations,</span>
    <span class="c1"># maybe later only scrub specific critter type</span>
    <span class="n">pieces</span><span class="p">[</span><span class="n">pieces</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># lists to store expanded states</span>
    <span class="n">expanded_pieces</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">expanded_scores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">expanded_rounds_left</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Iterate over each non-food location</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">non_food_locs</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
      <span class="c1"># Create a copy of the board</span>
      <span class="n">expanded_board</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">pieces</span><span class="p">[</span><span class="n">to_expand</span><span class="p">])</span>
      <span class="c1"># Place the critter at the non-food location</span>
      <span class="c1"># later consider only placing at non-food,</span>
      <span class="c1"># non-other critter locs</span>
      <span class="n">expanded_board</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">non_food_locs</span><span class="p">[</span><span class="n">i</span><span class="p">])]</span> <span class="o">=</span> <span class="n">critter</span>
      <span class="c1"># Add the expanded board to the list along score and rounds_left</span>
      <span class="n">expanded_pieces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expanded_board</span><span class="p">)</span>
      <span class="n">expanded_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="p">[</span><span class="n">to_expand</span><span class="p">])</span>
      <span class="n">expanded_rounds_left</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rounds_left</span><span class="p">[</span><span class="n">to_expand</span><span class="p">])</span>
    <span class="c1"># Convert to arrays and create expanded board state</span>
    <span class="n">expanded_state</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'pieces'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">expanded_pieces</span><span class="p">),</span>
                      <span class="s1">'scores'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">expanded_scores</span><span class="p">),</span>
                      <span class="s1">'rounds_left'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">expanded_rounds_left</span><span class="p">),</span>
                      <span class="s1">'active_player'</span><span class="p">:</span> <span class="n">active_player</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">expanded_state</span>


  <span class="k">def</span> <span class="nf">play_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">players</span><span class="o">=</span><span class="p">[],</span> <span class="n">collect_fov_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fov_radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">visualize</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""This method takes a list of players the same length as num_critters,</span>
<span class="sd">        and then plays a batch of games with them and returns the final board</span>
<span class="sd">        state"""</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">players</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">:</span>
      <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"number of players different than expected"</span><span class="p">)</span>

    <span class="n">board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_init_board</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">visualize</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">collect_fov_data</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
      <span class="n">b</span> <span class="o">=</span> <span class="n">GridworldBoard</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">,</span>
                         <span class="n">n_rows</span><span class="o">=</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">=</span><span class="n">n_cols</span><span class="p">,</span>
                         <span class="n">num_critters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
                         <span class="n">num_food</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_food</span><span class="p">,</span>
                         <span class="n">lifetime</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">lifetime</span><span class="p">,</span>
                         <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>


    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span><span class="p">):</span>
      <span class="k">for</span> <span class="n">jj</span><span class="p">,</span> <span class="n">player</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">players</span><span class="p">):</span>
        <span class="n">active_player_index</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'active_player'</span><span class="p">]</span>
        <span class="n">old_scores</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">collect_fov_data</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
          <span class="n">b</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
          <span class="n">percepts</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">get_perceptions</span><span class="p">(</span><span class="n">fov_radius</span><span class="p">)</span>

        <span class="n">a_player</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">players</span><span class="p">[</span><span class="n">active_player_index</span><span class="p">]</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
        <span class="n">board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next_state</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">active_player_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">a_player</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">visualize</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">board</span>

<span class="c1">###########################################################################</span>
<span class="c1"># make a separate player zoo</span>
<span class="c1">###########################################################################</span>

<span class="k">class</span> <span class="nc">RandomValidPlayer</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Instantiate random player for GridWorld</span>
<span class="sd">  """</span>


  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">critter_index</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game</span> <span class="o">=</span> <span class="n">game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span> <span class="o">=</span> <span class="n">critter_index</span>
    <span class="k">assert</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">critter_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span>
        <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">critter_index</span> <span class="o">&lt;=</span> <span class="n">game</span><span class="o">.</span><span class="n">num_critters</span><span class="p">),</span> <span class="s2">"Value is not a positive integer or exceeds the upper limit."</span>


  <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Simulates a batch of random game plays based on the given board state.</span>

<span class="sd">    This function computes the probability of each valid move being played</span>
<span class="sd">    (uniform for valid moves, 0 for others), then selects a move randomly for</span>
<span class="sd">    each game in the batch based on these probabilities.</span>

<span class="sd">    Args:</span>
<span class="sd">      board (dict): A dictionary representing the state of the game. It</span>
<span class="sd">          contains:</span>
<span class="sd">          - 'pieces': A (batch_size, x_size, y_size) numpy array indicating</span>
<span class="sd">                      the pieces on the board.</span>
<span class="sd">          - 'scores' (not used directly in this function, but expected in dict)</span>
<span class="sd">          - 'rounds_left' (not used directly in this function, but expected in dict)</span>

<span class="sd">    Returns:</span>
<span class="sd">      tuple:</span>
<span class="sd">      - a (numpy array): An array of shape (batch_size,) containing randomly</span>
<span class="sd">                         chosen actions for each game in the batch.</span>
<span class="sd">      - a_1hots (numpy array): An array of shape (batch_size, action_size)</span>
<span class="sd">                               with one-hot encoded actions.</span>
<span class="sd">      - probs (numpy array): An array of the same shape as 'valids' containing</span>
<span class="sd">                             the probability of each move being played.</span>
<span class="sd">    """</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">x_size</span><span class="p">,</span> <span class="n">y_size</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">valids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_valid_actions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">action_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_action_size</span><span class="p">()</span>

    <span class="n">probs</span> <span class="o">=</span> <span class="n">valids</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">valids</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">batch_size</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">action_size</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">probs</span><span class="p">[</span><span class="n">ii</span><span class="p">])</span>
                                <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)]</span>
    <span class="n">a_1hots</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">action_size</span><span class="p">))</span>
    <span class="n">a_1hots</span><span class="p">[(</span><span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">),</span> <span class="n">a</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">a_1hots</span><span class="p">,</span> <span class="n">probs</span>




<span class="k">class</span> <span class="nc">RandomDirectionPlayer</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Instantiate random player for GridWorld</span>
<span class="sd">  """</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">critter_index</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game</span> <span class="o">=</span> <span class="n">game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span> <span class="o">=</span> <span class="n">critter_index</span>
    <span class="k">assert</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">critter_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span>
        <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">critter_index</span> <span class="o">&lt;=</span> <span class="n">game</span><span class="o">.</span><span class="n">num_critters</span><span class="p">),</span> <span class="s2">"Value is not a positive integer or exceeds the upper limit."</span>

  <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Simulates a batch of random game plays based on the given board state.</span>

<span class="sd">    This function assigns a uniform probability to going up down left or right</span>
<span class="sd">    independent of whether it is at an edge or corner or not. Then because of</span>
<span class="sd">    bouncing off edges it will have a higher probability of moving away from</span>
<span class="sd">    edges as opposed to along them than the random valid move player.</span>

<span class="sd">    Args:</span>
<span class="sd">      board (dict): A dictionary representing the state of the game. It</span>
<span class="sd">          contains:</span>
<span class="sd">          - 'pieces': A (batch_size, x_size, y_size) numpy array indicating</span>
<span class="sd">                      the pieces on the board.</span>
<span class="sd">          - 'scores' (not used directly in this function, but expected in dict)</span>
<span class="sd">          - 'rounds_left' (not used directly in this function, but expected in dict)</span>

<span class="sd">    Returns:</span>
<span class="sd">      tuple:</span>
<span class="sd">      - a (numpy array): An array of shape (batch_size,) containing randomly</span>
<span class="sd">                         chosen actions for each game in the batch.</span>
<span class="sd">      - a_1hots (numpy array): An array of shape (batch_size, action_size)</span>
<span class="sd">                               with one-hot encoded actions.</span>
<span class="sd">      - probs (numpy array): An array of the same shape as 'valids' containing</span>
<span class="sd">                             the probability of each move being played.</span>
<span class="sd">    """</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">action_probs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'up'</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">'down'</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">}</span>

    <span class="n">critter_oriented_moves</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">action_probs</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
                                                  <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">batch_size</span><span class="p">))</span>
    <span class="n">direction_probs</span> <span class="o">=</span> <span class="p">[</span><span class="n">action_probs</span><span class="p">]</span> <span class="o">*</span> <span class="n">batch_size</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">critter_direction_to_move</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">critter_oriented_moves</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">probs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">direction_probs_to_flat_probs</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">direction_probs</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">sampled_actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">moves_to_actions</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span>
    <span class="n">a_1hots</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">*</span><span class="n">n_cols</span><span class="p">))</span>
    <span class="n">a_1hots</span><span class="p">[(</span><span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">),</span> <span class="n">sampled_actions</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="k">return</span> <span class="n">sampled_actions</span><span class="p">,</span> <span class="n">a_1hots</span><span class="p">,</span> <span class="n">probs</span>




<span class="k">class</span> <span class="nc">MonteCarloBasedPlayer</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  Simulate Player based on Monte Carlo Algorithm</span>

<span class="sd">  Note: Has dependencies in the gw_NN_RL.py util, namely a policy/value</span>
<span class="sd">  network and the Monte Carlo class.</span>
<span class="sd">  """</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">nnet</span><span class="p">,</span>
               <span class="n">critter_index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">default_depth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">default_rollouts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">default_K</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
               <span class="n">default_temp</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
               <span class="n">random_seed</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Initialize Monte Carlo Parameters</span>

<span class="sd">    Args:</span>
<span class="sd">      game: Gridworld Game instance</span>
<span class="sd">        Instance of the gridworldGame class above;</span>
<span class="sd">      nnet: gridworldNet instance</span>
<span class="sd">        Instance of the gridworldNNet class above;</span>
<span class="sd">      args: dictionary</span>
<span class="sd">        Instantiates number of iterations and episodes, controls temperature threshold, queue length,</span>
<span class="sd">        arena, checkpointing, and neural network parameters:</span>
<span class="sd">        learning-rate: 0.001, dropout: 0.3, epochs: 10, batch_size: 64,</span>
<span class="sd">        num_channels: 512</span>

<span class="sd">    Returns:</span>
<span class="sd">      Nothing</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game</span> <span class="o">=</span> <span class="n">game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span> <span class="o">=</span> <span class="n">critter_index</span>
    <span class="k">assert</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">critter_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span>
        <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">critter_index</span> <span class="o">&lt;=</span> <span class="n">game</span><span class="o">.</span><span class="n">num_critters</span><span class="p">),</span> <span class="s2">"Value is not a positive integer or exceeds the upper limit."</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nnet</span> <span class="o">=</span> <span class="n">nnet</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">default_depth</span> <span class="o">=</span> <span class="n">default_depth</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">default_rollouts</span> <span class="o">=</span> <span class="n">default_rollouts</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mc</span> <span class="o">=</span> <span class="n">MonteCarlo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nnet</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_depth</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">default_K</span> <span class="o">=</span> <span class="n">default_K</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">default_temp</span> <span class="o">=</span> <span class="n">default_temp</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="n">random_seed</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span>
           <span class="n">num_rollouts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
           <span class="n">rollout_depth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
           <span class="n">K</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
           <span class="n">softmax_temp</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Simulates a batch Monte Carlo based plays on the given board state.</span>

<span class="sd">    Computes the probability of each valid move being played using a softmax</span>
<span class="sd">    activation on the Monte Carlo based value (Q) of each action then selects a</span>
<span class="sd">    move randomly for each game in the batch based on those probabilities.</span>

<span class="sd">    Args:</span>
<span class="sd">      board (dict): A dictionary representing the state of the game. It</span>
<span class="sd">          contains:</span>
<span class="sd">          - 'pieces': A (batch_size, x_size, y_size) numpy array indicating</span>
<span class="sd">                      the pieces on the board.</span>
<span class="sd">          - 'scores' (not used directly in this function, but expected in dict)</span>
<span class="sd">          - 'rounds_left' (not used directly in this function, but expected in dict)</span>

<span class="sd">    Returns:</span>
<span class="sd">      tuple:</span>
<span class="sd">      - a (numpy array): An array of shape (batch_size,) containing randomly</span>
<span class="sd">                         chosen actions for each game in the batch.</span>
<span class="sd">      - a_1hots (numpy array): An array of shape (batch_size, action_size)</span>
<span class="sd">                               with one-hot encoded actions.</span>
<span class="sd">      - probs (numpy array): An array of the same shape as 'valids' containing</span>
<span class="sd">                             the probability of each move being played.</span>
<span class="sd">    """</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="k">if</span> <span class="n">num_rollouts</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">num_rollouts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_rollouts</span>
    <span class="k">if</span> <span class="n">rollout_depth</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">rollout_depth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_depth</span>
    <span class="k">if</span> <span class="n">K</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">K</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_K</span>
    <span class="k">if</span> <span class="n">softmax_temp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">softmax_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_temp</span>

    <span class="c1"># figure out top k actions according to normalize action probability</span>
    <span class="c1"># given by our policy network prediction</span>
    <span class="c1">#co_pieces = board['pieces'].copy()</span>
    <span class="c1">#this_critter_locs = np.where(co_pieces == self.critter_index+1)</span>
    <span class="c1">#all_critter_locs = np.where(co_pieces &gt;= 1)</span>
    <span class="c1"># other critters are invisible to this player</span>
    <span class="c1">#co_pieces[all_critter_locs] = 0</span>
    <span class="c1"># nnet trained to see self as 1</span>
    <span class="c1">#co_pieces[this_critter_locs] = 1</span>
    <span class="c1">#scalar_rounds_left = board['rounds_left'][0]</span>
    <span class="c1">#co_rounds_left = scalar_rounds_left // self.game.num_critters</span>
    <span class="c1">#if self.critter_index-1 &lt; scalar_rounds_left % self.game.num_critters:</span>
       <span class="c1"># add an extra if we haven't had this players turn yet in the round cycle</span>
    <span class="c1">#   co_rounds_left = co_rounds_left + 1</span>
    <span class="c1">#co_rounds_left = np.array([co_rounds_left]*batch_size)</span>
    <span class="c1">#pis, vs = self.nnet.predict(co_pieces,</span>
    <span class="c1">#                            board['scores'][:,self.critter_index-1],</span>
    <span class="c1">#                            co_rounds_left)</span>
    <span class="n">pis</span><span class="p">,</span> <span class="n">vs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mc</span><span class="o">.</span><span class="n">pis_vs_from_board</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">valids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_valid_actions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">masked_pis</span> <span class="o">=</span> <span class="n">pis</span> <span class="o">*</span> <span class="n">valids</span>  <span class="c1"># Masking invalid moves</span>
    <span class="n">sum_pis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">masked_pis</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">num_valid_actions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">valids</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">effective_topk</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">num_valid_actions</span><span class="p">,</span> <span class="n">K</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span> <span class="nb">int</span><span class="p">)</span>
    <span class="n">probs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">masked_pi</span> <span class="o">/</span> <span class="n">masked_pi</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="k">if</span> <span class="n">masked_pi</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span>
                      <span class="k">else</span> <span class="n">valid</span> <span class="o">/</span> <span class="n">valid</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                      <span class="k">for</span> <span class="n">valid</span><span class="p">,</span> <span class="n">masked_pi</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">valids</span><span class="p">,</span> <span class="n">masked_pis</span><span class="p">)])</span>
    <span class="n">partioned</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argpartition</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span><span class="o">-</span><span class="n">effective_topk</span><span class="p">)</span>
    <span class="n">topk_actions</span> <span class="o">=</span> <span class="p">[</span><span class="n">partioned</span><span class="p">[</span><span class="n">g</span><span class="p">,</span><span class="o">-</span><span class="p">(</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
                      <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">effective_topk</span><span class="p">[</span><span class="n">g</span><span class="p">])]</span>
    <span class="n">topk_actions_index</span> <span class="o">=</span> <span class="p">[</span><span class="n">ii</span>
                            <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">etk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">effective_topk</span><span class="p">)</span>
                              <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">etk</span><span class="p">)]</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">topk_actions</span><span class="p">))</span>
    <span class="c1"># Do some rollouts</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_rollouts</span><span class="p">):</span>
      <span class="n">values</span> <span class="o">=</span> <span class="n">values</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">mc</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">topk_actions</span><span class="p">,</span>
                                         <span class="n">topk_actions_index</span><span class="p">,</span>
                                         <span class="n">critter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">,</span>
                                         <span class="n">depth</span><span class="o">=</span><span class="n">rollout_depth</span><span class="p">)</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">values</span> <span class="o">/</span> <span class="n">num_rollouts</span>

    <span class="n">value_expand</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">*</span><span class="n">n_cols</span><span class="p">))</span>
    <span class="n">value_expand</span><span class="p">[(</span><span class="n">topk_actions_index</span><span class="p">,</span> <span class="n">topk_actions</span><span class="p">)]</span> <span class="o">=</span> <span class="n">values</span>
    <span class="n">value_expand_shift</span> <span class="o">=</span> <span class="n">value_expand</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">value_expand</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">value_expand_scale</span> <span class="o">=</span> <span class="n">value_expand_shift</span><span class="o">/</span><span class="n">softmax_temp</span>
    <span class="n">v_probs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">value_expand_scale</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">value_expand_scale</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">v_probs</span> <span class="o">=</span> <span class="n">v_probs</span> <span class="o">*</span> <span class="n">valids</span>
    <span class="n">v_probs</span> <span class="o">=</span> <span class="n">v_probs</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">v_probs</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">samp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">sampled_actions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">v_probs</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">samp</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">a_1Hots</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">*</span><span class="n">n_cols</span><span class="p">))</span>
    <span class="n">a_1Hots</span><span class="p">[(</span><span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">),</span> <span class="n">sampled_actions</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">return</span> <span class="n">sampled_actions</span><span class="p">,</span> <span class="n">a_1Hots</span><span class="p">,</span> <span class="n">v_probs</span>




<span class="k">class</span> <span class="nc">SimpleRulePlayer</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  A Player based on the following simple policy:</span>
<span class="sd">  If there is any food immediately nearby move towards it,</span>
<span class="sd">  otherwise it move randomly.</span>
<span class="sd">  """</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">fov_radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">critter_index</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>

<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game</span> <span class="o">=</span> <span class="n">game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span> <span class="o">=</span> <span class="n">critter_index</span>
    <span class="k">assert</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">critter_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span>
        <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">critter_index</span> <span class="o">&lt;=</span> <span class="n">game</span><span class="o">.</span><span class="n">num_critters</span><span class="p">),</span> <span class="s2">"Value is not a positive integer or exceeds the upper limit."</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fov_radius</span> <span class="o">=</span> <span class="n">fov_radius</span>


  <span class="k">def</span> <span class="nf">simple_action_from_percept</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percept</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Determine an action based on perception.</span>

<span class="sd">    Args:</span>
<span class="sd">      percept: A 1D array (len 12 if fov_radius = 2)representing the perception</span>
<span class="sd">        of the organism. Indices correspond to spaces around the organism. The</span>
<span class="sd">        values in the array can be -2 (out-of-bounds), 0 (empty space), or</span>
<span class="sd">        -1 (food).</span>

<span class="sd">    Returns:</span>
<span class="sd">      action: a str, one of 'up', 'down', 'left', 'right'. If food in one or</span>
<span class="sd">        more of the spaces immediately beside the organism, the function will</span>
<span class="sd">        return a random choice among these directions. If there is no food</span>
<span class="sd">        nearby, the function will return a random direction.</span>
<span class="sd">    """</span>
    <span class="c1"># a human interpretable overview of the percept structure</span>
    <span class="n">percept_struct</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s1">'far up'</span><span class="p">,</span> <span class="s1">'left up'</span><span class="p">,</span> <span class="s1">'near up'</span><span class="p">,</span> <span class="s1">'right up'</span><span class="p">,</span>
      <span class="s1">'far left'</span><span class="p">,</span> <span class="s1">'near left'</span><span class="p">,</span> <span class="s1">'near right'</span><span class="p">,</span> <span class="s1">'far right'</span><span class="p">,</span>
      <span class="s1">'left down'</span><span class="p">,</span> <span class="s1">'near down'</span><span class="p">,</span> <span class="s1">'right down'</span><span class="p">,</span> <span class="s1">'far down'</span><span class="p">]</span>
    <span class="c1"># Defines directions corresponding to different perception indices</span>
    <span class="n">direction_struct</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s1">'None'</span><span class="p">,</span> <span class="s1">'None'</span><span class="p">,</span> <span class="s1">'up'</span><span class="p">,</span> <span class="s1">'None'</span><span class="p">,</span>
      <span class="s1">'None'</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">,</span> <span class="s1">'None'</span><span class="p">,</span>
      <span class="s1">'None'</span><span class="p">,</span> <span class="s1">'down'</span><span class="p">,</span> <span class="s1">'None'</span><span class="p">,</span> <span class="s1">'None'</span><span class="p">]</span>
    <span class="c1"># these are what count as nearby in the percept</span>
    <span class="n">nearby_directions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'near up'</span><span class="p">,</span> <span class="s1">'near left'</span><span class="p">,</span> <span class="s1">'near right'</span><span class="p">,</span> <span class="s1">'near down'</span><span class="p">]</span>
    <span class="c1"># Get the corresponding indices in the percept array</span>
    <span class="n">nearby_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">percept_struct</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span> <span class="k">for</span> <span class="n">dir_</span> <span class="ow">in</span> <span class="n">nearby_directions</span><span class="p">]</span>
    <span class="c1"># Identify the directions where food is located</span>
    <span class="n">food_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">index</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">nearby_indices</span> <span class="k">if</span> <span class="n">percept</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">food_directions</span> <span class="o">=</span> <span class="p">[</span><span class="n">direction_struct</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">food_indices</span><span class="p">]</span>

    <span class="n">action_probs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'up'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s1">'down'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">food_directions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># If there is any food nearby</span>
      <span class="c1"># If there is any food nearby randomly choose a direction with food</span>
      <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">food_directions</span><span class="p">)</span>  <span class="c1"># Move towards a random one</span>
      <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="n">food_directions</span><span class="p">:</span>
        <span class="n">action_probs</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">food_directions</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># If there is no food nearby, move randomly</span>
      <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">'up'</span><span class="p">,</span> <span class="s1">'down'</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">])</span>
      <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'up'</span><span class="p">,</span> <span class="s1">'down'</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">]:</span>
        <span class="n">action_probs</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.25</span>

    <span class="k">return</span> <span class="n">action</span><span class="p">,</span> <span class="n">action_probs</span>


  <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Simulate Play on a Board</span>

<span class="sd">    Args:</span>
<span class="sd">      board: dict {'pieces':</span>
<span class="sd">      (batch x num_rows x num_cols) np.ndarray of board position,</span>
<span class="sd">                  'scores': batch len array of current scores,</span>
<span class="sd">                  'rounds_left': batch len array of rounds left</span>

<span class="sd">    Returns:</span>
<span class="sd">      sampled_actions: a batch, row, col index of the move taken</span>
<span class="sd">      by each player on each board</span>
<span class="sd">      a_1hots: a batch nrow*ncol array of 1hot indices of those same moves</span>
<span class="sd">      probs: sampling probabilities for those 1hots (If the policy</span>
<span class="sd">      is deterministic a_1hots is returned here as well... or if getting the</span>
<span class="sd">      probs is an un-needed fuss to compute)</span>

<span class="sd">    """</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">perceptions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_perceptions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fov_radius</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>

    <span class="n">critter_oriented_moves</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">direction_probs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">):</span>
      <span class="n">action</span><span class="p">,</span> <span class="n">action_probs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simple_action_from_percept</span><span class="p">(</span><span class="n">perceptions</span><span class="p">[</span><span class="n">g</span><span class="p">])</span>
      <span class="n">critter_oriented_moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
      <span class="n">direction_probs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">action_probs</span><span class="p">)</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">critter_direction_to_move</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">critter_oriented_moves</span><span class="p">,</span>
                                                <span class="n">direction_probs</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">probs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">direction_probs_to_flat_probs</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">direction_probs</span><span class="p">)</span>
    <span class="n">sampled_actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">moves_to_actions</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span>
    <span class="n">a_1hots</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">*</span><span class="n">n_cols</span><span class="p">))</span>
    <span class="n">a_1hots</span><span class="p">[(</span><span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">),</span> <span class="n">sampled_actions</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="k">return</span> <span class="n">sampled_actions</span><span class="p">,</span> <span class="n">a_1hots</span><span class="p">,</span> <span class="n">probs</span>




<span class="k">class</span> <span class="nc">PerceptParamPlayer</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  A Player playing a parameterized policy defined by the given weights</span>
<span class="sd">  """</span>


  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fov_radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">critter_index</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Args:</span>
<span class="sd">      game: Gridworld Game instance</span>
<span class="sd">        Instance of the gridworldGame class above;</span>
<span class="sd">      weights: 4 x 12 numpy array (assumes fov_radius = 2), that gives the</span>
<span class="sd">        connection strengths between the 'perception' neurons and the direction</span>
<span class="sd">        'neurons'</span>
<span class="sd">      fov_radius: int how far around itself the critter perceives, weights is</span>
<span class="sd">        expecting fov_radius = 2</span>
<span class="sd">    Returns:</span>
<span class="sd">      Nothing</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game</span> <span class="o">=</span> <span class="n">game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span> <span class="o">=</span> <span class="n">critter_index</span>
    <span class="k">assert</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">critter_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span>
        <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">critter_index</span> <span class="o">&lt;=</span> <span class="n">game</span><span class="o">.</span><span class="n">num_critters</span><span class="p">),</span> <span class="s2">"Value is not a positive integer or exceeds the upper limit."</span>
    <span class="k">if</span> <span class="n">weights</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">W</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
      <span class="p">[[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]])</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">W</span> <span class="o">=</span> <span class="n">weights</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fov_radius</span> <span class="o">=</span> <span class="n">fov_radius</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">default_softmax_temp</span> <span class="o">=</span> <span class="mf">0.05</span>


  <span class="k">def</span> <span class="nf">param_action_from_percept</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percept</span><span class="p">,</span> <span class="n">valid_directions</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span>
                                <span class="n">softmax_temp</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Determine an action based on perception.</span>

<span class="sd">    Args:</span>
<span class="sd">      percept: A 1D len 12 array representing the perception of the organism.</span>
<span class="sd">        Indices correspond to spaces around the organism. The values in the</span>
<span class="sd">        array can be -2 (out-of-bounds), 0 (empty space), or -1 (food).</span>
<span class="sd">      W: a 4 x 12 weight matrix parameter representing the connection strengths</span>
<span class="sd">        between the 12 perceptions inputs and the 4 possible output actions.</span>

<span class="sd">    Returns:</span>
<span class="sd">      direction: a str, one of 'up', 'down', 'left', 'right'. If food in one or</span>
<span class="sd">        more of the spaces immediately beside the organism, the function will</span>
<span class="sd">        return a random choice among these directions. If there is no food</span>
<span class="sd">        nearby, the function will return a random direction.</span>
<span class="sd">      direction_probs: dictionary with probabilities of taking each action.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid_directions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="c1"># if there is no where legit to move, stay put</span>
      <span class="k">return</span> <span class="s1">'still'</span><span class="p">,</span> <span class="p">{</span><span class="n">direction</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="n">output_struct</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">softmax_temp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="c1"># very low temp, basically deterministic for this range of values</span>
      <span class="n">softmax_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_softmax_temp</span>
    <span class="c1"># a human interpretable overview of the percept structure</span>
    <span class="n">percept_struct</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s1">'far up'</span><span class="p">,</span> <span class="s1">'left up'</span><span class="p">,</span> <span class="s1">'near up'</span><span class="p">,</span> <span class="s1">'right up'</span><span class="p">,</span>
      <span class="s1">'far left'</span><span class="p">,</span> <span class="s1">'near left'</span><span class="p">,</span> <span class="s1">'near right'</span><span class="p">,</span> <span class="s1">'far right'</span><span class="p">,</span>
      <span class="s1">'left down'</span><span class="p">,</span> <span class="s1">'near down'</span><span class="p">,</span> <span class="s1">'right down'</span><span class="p">,</span> <span class="s1">'far down'</span><span class="p">]</span>
    <span class="c1"># a human interpretable overview of the out structure</span>
    <span class="n">output_struct</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'up'</span><span class="p">,</span> <span class="s1">'down'</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">]</span>
    <span class="c1"># boolean representation of percept, no edges, just 1's where food is,</span>
    <span class="c1"># zero otherwise, also means other organisms are invisible</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">percept</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="n">output_activations</span> <span class="o">=</span> <span class="n">W</span> <span class="o">@</span> <span class="n">x</span>

    <span class="c1"># softmax shift by max, scale by temp</span>
    <span class="n">shift_scale_ex</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">((</span><span class="n">output_activations</span> <span class="o">-</span>
                             <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">output_activations</span><span class="p">))</span><span class="o">/</span><span class="n">softmax_temp</span><span class="p">)</span>
    <span class="c1"># set invalid direction activations to zero</span>
    <span class="n">invalid_directions</span> <span class="o">=</span> <span class="p">[</span><span class="n">direction</span> <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="n">output_struct</span>
                           <span class="k">if</span> <span class="n">direction</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_directions</span><span class="p">]</span>
    <span class="n">invalid_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">output_struct</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">direction</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="n">valid_directions</span><span class="p">]</span>
    <span class="n">sm</span> <span class="o">=</span> <span class="n">shift_scale_ex</span> <span class="o">/</span> <span class="n">shift_scale_ex</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="c1">#normalized</span>
    <span class="c1"># set invalid direction probabilities to zero</span>
    <span class="n">invalid_directions</span> <span class="o">=</span> <span class="p">[</span><span class="n">direction</span> <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="n">output_struct</span>
                           <span class="k">if</span> <span class="n">direction</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_directions</span><span class="p">]</span>
    <span class="n">invalid_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">output_struct</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">direction</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="n">invalid_directions</span><span class="p">]</span>
    <span class="n">sm</span><span class="p">[</span><span class="n">invalid_indices</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">probs_sm</span> <span class="o">=</span> <span class="n">sm</span> <span class="o">/</span> <span class="n">sm</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#re-normalized again for fp issues</span>
    <span class="n">direction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">output_struct</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">probs_sm</span><span class="p">)</span>
    <span class="n">direction_probs</span> <span class="o">=</span> <span class="p">{</span><span class="n">direction</span><span class="p">:</span> <span class="n">prob</span>
                        <span class="k">for</span> <span class="n">direction</span><span class="p">,</span> <span class="n">prob</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">output_struct</span><span class="p">,</span> <span class="n">probs_sm</span><span class="p">)}</span>
    <span class="k">return</span> <span class="n">direction</span><span class="p">,</span> <span class="n">direction_probs</span>


  <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Simulate Play on a Board</span>

<span class="sd">    Args:</span>
<span class="sd">      board: dict {'pieces':</span>
<span class="sd">      (batch x num_rows x num_cols) np.ndarray of board position,</span>
<span class="sd">                  'scores': batch len array of current scores,</span>
<span class="sd">                  'rounds_left': batch len array of rounds left</span>

<span class="sd">    Returns:</span>
<span class="sd">      sampled_actions: a batch, row, col index of the move taken</span>
<span class="sd">      by each player on each board</span>
<span class="sd">      a_1hots: a batch nrow*ncol array of 1hot indices of those same moves</span>
<span class="sd">      v_probs: sampling probabilities for those 1hots (If the policy</span>
<span class="sd">      is deterministic a_1hots is returned here as well... or if getting the</span>
<span class="sd">      probs is an un-needed fuss to compute)</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">temp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_softmax_temp</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">perceptions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_perceptions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fov_radius</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">critter_oriented_moves</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">direction_probs</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Get valid actions for each game in the batch</span>
    <span class="n">valid_directions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_valid_directions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">):</span>
      <span class="n">direction</span><span class="p">,</span> <span class="n">batch_direction_probs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">param_action_from_percept</span><span class="p">(</span>
        <span class="n">perceptions</span><span class="p">[</span><span class="n">g</span><span class="p">],</span> <span class="n">valid_directions</span><span class="p">[</span><span class="n">g</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">W</span><span class="p">,</span> <span class="n">softmax_temp</span><span class="o">=</span><span class="n">temp</span><span class="p">)</span>
      <span class="n">critter_oriented_moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">direction</span><span class="p">)</span>
      <span class="n">direction_probs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">batch_direction_probs</span><span class="p">)</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">critter_direction_to_move</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">critter_oriented_moves</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">probs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">direction_probs_to_flat_probs</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">direction_probs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="n">sampled_actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">moves_to_actions</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span>
    <span class="n">a_1hots</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">*</span><span class="n">n_cols</span><span class="p">))</span>
    <span class="n">a_1hots</span><span class="p">[(</span><span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">),</span> <span class="n">sampled_actions</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="k">return</span> <span class="n">sampled_actions</span><span class="p">,</span> <span class="n">a_1hots</span><span class="p">,</span> <span class="n">probs</span>




<span class="k">class</span> <span class="nc">BatchOptPerceptParamPlayer</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  A Player playing a parameterized policy defined by the given weights</span>
<span class="sd">  """</span>


  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fov_radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">critter_index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">get_probs</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Args:</span>
<span class="sd">      game: Gridworld Game instance</span>
<span class="sd">        Instance of the gridworldGame class above;</span>
<span class="sd">      weights: 4 x 12 numpy array (assumes fov_radius = 2), that gives the</span>
<span class="sd">        connection strengths between the 'perception' neurons and the direction</span>
<span class="sd">        'neurons'</span>
<span class="sd">      fov_radius: int how far around itself the critter perceives, weights is</span>
<span class="sd">        expecting fov_radius = 2</span>
<span class="sd">    Returns:</span>
<span class="sd">      Nothing</span>
<span class="sd">    """</span>
    <span class="c1"># all critters need these things</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game</span> <span class="o">=</span> <span class="n">game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span> <span class="o">=</span> <span class="n">critter_index</span>
    <span class="k">assert</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">critter_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span>
        <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">critter_index</span> <span class="o">&lt;=</span> <span class="n">game</span><span class="o">.</span><span class="n">num_critters</span><span class="p">),</span> <span class="s2">"Value is not a positive integer or exceeds the upper limit."</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">get_probs</span> <span class="o">=</span> <span class="n">get_probs</span>
    <span class="c1"># these things are specific to this kind of critter</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">deterministic</span> <span class="o">=</span> <span class="n">deterministic</span>
    <span class="k">if</span> <span class="n">weights</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">W</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
      <span class="p">[[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]])</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">W</span> <span class="o">=</span> <span class="n">weights</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fov_radius</span> <span class="o">=</span> <span class="n">fov_radius</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">default_softmax_temp</span> <span class="o">=</span> <span class="mf">0.05</span>


  <span class="k">def</span> <span class="nf">direction_value_from_percept</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percepts</span><span class="p">,</span> <span class="n">W</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Determine an action based on perception.</span>

<span class="sd">    Args:</span>
<span class="sd">      percept: A batch by 1D len 12 array representing the perceptions of the</span>
<span class="sd">      organism. Indices correspond to spaces around the organism. The values in</span>
<span class="sd">      the array can be -2 (out-of-bounds), 0 (empty space), or -1 (food).</span>
<span class="sd">      W: a 4 x 12 weight matrix parameter representing the connection strengths</span>
<span class="sd">        between the 12 perceptions inputs and the 4 possible output actions.</span>

<span class="sd">    Returns:</span>
<span class="sd">      direction_probs: array of probabilities of taking each action.</span>
<span class="sd">    """</span>
    <span class="c1"># a human interpretable overview of the percept structure</span>
    <span class="c1">#percept_struct = [</span>
    <span class="c1">#  'far up', 'left up', 'near up', 'right up',</span>
    <span class="c1">#  'far left', 'near left', 'near right', 'far right',</span>
    <span class="c1">#  'left down', 'near down', 'right down', 'far down']</span>
    <span class="c1"># a human interpretable overview of the out structure</span>
    <span class="c1">#output_struct = ['up', 'down', 'left', 'right']</span>
    <span class="c1"># boolean representation of percept, no edges, just 1's where food is,</span>
    <span class="c1"># zero otherwise, also means other organisms are invisible</span>
    <span class="c1"># x is batch x 12</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">percepts</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="c1"># W is 4 x 12</span>
    <span class="c1"># this does the broadcasting we want</span>
    <span class="n">output_activations</span> <span class="o">=</span> <span class="p">(</span><span class="n">W</span> <span class="o">@</span> <span class="n">x</span><span class="o">.</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
    <span class="c1"># output activations is batch by 4</span>
    <span class="k">return</span> <span class="n">output_activations</span>


  <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">W</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Simulate Play on a Board</span>

<span class="sd">    Args:</span>
<span class="sd">      board: dict {'pieces':</span>
<span class="sd">      (batch x num_rows x num_cols) np.ndarray of board position,</span>
<span class="sd">                  'scores': batch len array of current scores,</span>
<span class="sd">                  'rounds_left': batch len array of rounds left</span>

<span class="sd">    Returns:</span>
<span class="sd">      sampled_actions: a batch, row, col index of the move taken</span>
<span class="sd">      by each player on each board</span>
<span class="sd">      a_1hots: a batch nrow*ncol array of 1hot indices of those same moves</span>
<span class="sd">      v_probs: sampling probabilities for those 1hots (If the policy</span>
<span class="sd">      is deterministic a_1hots is returned here as well... or if getting the</span>
<span class="sd">      probs is an un-needed fuss to compute)</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">temp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_softmax_temp</span>
    <span class="k">if</span> <span class="n">W</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">W</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">W</span>
    <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">perceptions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">get_perceptions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fov_radius</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="c1"># note the fragile order based dependency on how legal offsets is written,</span>
    <span class="c1"># and how output activations are interpreted</span>
    <span class="n">direction_v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">direction_value_from_percept</span><span class="p">(</span><span class="n">perceptions</span><span class="p">,</span> <span class="n">W</span><span class="p">)</span>
    <span class="n">flat_ds</span> <span class="o">=</span> <span class="n">direction_v</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>

    <span class="n">critter_locs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">))</span>
    <span class="n">legal_offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span>
    <span class="n">critter_locs</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">])]</span><span class="o">*</span><span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="c1"># up</span>
    <span class="n">critter_locs</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">])]</span><span class="o">*</span><span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="c1"># down</span>
    <span class="n">critter_locs</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])]</span><span class="o">*</span><span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="c1"># left</span>
    <span class="n">critter_locs</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">])]</span><span class="o">*</span><span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">])</span> <span class="c1">#right</span>
    <span class="n">legal_offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">legal_offsets</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>

    <span class="c1"># conditions for offsets on the board</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="n">legal_offsets</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">legal_offsets</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">n_rows</span><span class="o">-</span><span class="mi">1</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">legal_offsets</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span>
    <span class="n">c4</span> <span class="o">=</span> <span class="n">legal_offsets</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">n_cols</span><span class="o">-</span><span class="mi">1</span>
    <span class="n">all_c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="o">.</span><span class="n">reduce</span><span class="p">([</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">c3</span><span class="p">,</span> <span class="n">c4</span><span class="p">])</span>

    <span class="n">batch_indexes</span> <span class="o">=</span> <span class="n">legal_offsets</span><span class="p">[:,</span><span class="mi">0</span><span class="p">][</span><span class="n">all_c</span><span class="p">]</span>
    <span class="n">action_indexes</span> <span class="o">=</span> <span class="n">legal_offsets</span><span class="p">[:,</span><span class="mi">1</span><span class="p">][</span><span class="n">all_c</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_cols</span> <span class="o">+</span> <span class="n">legal_offsets</span><span class="p">[:,</span><span class="mi">2</span><span class="p">][</span><span class="n">all_c</span><span class="p">]</span>
    <span class="n">direction_values</span> <span class="o">=</span> <span class="n">flat_ds</span><span class="p">[</span><span class="n">all_c</span><span class="p">]</span>
    <span class="n">value_expand</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">*</span><span class="n">n_cols</span><span class="p">))</span>
    <span class="n">value_expand</span><span class="p">[(</span><span class="n">batch_indexes</span><span class="p">,</span> <span class="n">action_indexes</span><span class="p">)]</span> <span class="o">=</span> <span class="n">direction_values</span>
    <span class="n">valids</span> <span class="o">=</span> <span class="n">gwg</span><span class="o">.</span><span class="n">get_valid_actions</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">critter_index</span><span class="p">)</span>
    <span class="c1"># Set invalid positions to -inf</span>
    <span class="n">valid_value_expand</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">valids</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">value_expand</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">deterministic</span><span class="p">:</span>
      <span class="n">sampled_actions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">valid_value_expand</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
      <span class="n">a_1Hots</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span> <span class="o">*</span> <span class="n">n_cols</span><span class="p">))</span>
      <span class="n">a_1Hots</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">batch_size</span><span class="p">),</span> <span class="n">sampled_actions</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
      <span class="n">v_probs</span> <span class="o">=</span> <span class="n">a_1Hots</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># Subtract max for numerical stability</span>
      <span class="n">value_expand_shift</span> <span class="o">=</span> <span class="n">valid_value_expand</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">valid_value_expand</span><span class="p">,</span>
                                                       <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
      <span class="c1"># softmax temp scaling</span>
      <span class="n">value_expand_scale</span> <span class="o">=</span> <span class="n">value_expand_shift</span><span class="o">/</span><span class="n">temp</span>
      <span class="n">exp_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">value_expand_scale</span><span class="p">)</span>
      <span class="c1"># Normalize by the sum of the exponentiated values for each row</span>
      <span class="n">v_probs</span> <span class="o">=</span> <span class="n">exp_value</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">exp_value</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
      <span class="n">v_probs</span> <span class="o">=</span> <span class="n">v_probs</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">v_probs</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
      <span class="n">samp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="n">batch_size</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
      <span class="n">sampled_actions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">v_probs</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">samp</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
      <span class="n">a_1Hots</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">*</span><span class="n">n_cols</span><span class="p">))</span>
      <span class="n">a_1Hots</span><span class="p">[(</span><span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">),</span> <span class="n">sampled_actions</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">return</span> <span class="n">sampled_actions</span><span class="p">,</span> <span class="n">a_1Hots</span><span class="p">,</span> <span class="n">v_probs</span>


<span class="c1">########################################</span>
<span class="c1"># widgets refactor for multi-critter</span>
<span class="c1">#########################################</span>
<span class="c1"># Interactive Gridworld Game Widgets</span>




<span class="k">class</span> <span class="nc">InteractiveGridworld</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  A widget based object for interacting with a gridworld game</span>
<span class="sd">  """</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gridworld_game</span><span class="p">,</span> <span class="n">init_board</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">has_fov</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">collect_fov_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">critter_names</span><span class="o">=</span><span class="p">[</span><span class="s1">'Critter'</span><span class="p">],</span> <span class="n">players</span><span class="o">=</span><span class="p">[</span><span class="s1">'human'</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Initializes a widget based object for interacting with a gridworld game</span>

<span class="sd">    Args:</span>
<span class="sd">      gridworld_game: an instance of GridworldGame object</span>
<span class="sd">        expects this to have batchsize 1</span>
<span class="sd">      init_board: (optional) a triple of np arrays representing board state</span>
<span class="sd">        pieces,       - batch_size x n_rows x n_cols</span>
<span class="sd">        scores,       - batch_size</span>
<span class="sd">        rounds_left   - batch_size</span>
<span class="sd">        if left out will initialize with a random board state</span>
<span class="sd">      has_fov: bool, whether or not to display fog of war around the critter</span>
<span class="sd">      radius: int, number of squares the critter can "see" around it</span>
<span class="sd">      figsize: tuple (int, int), size of the figure</span>
<span class="sd">      critter_names: a list of strings that determines what the critter is called</span>
<span class="sd">        in the plot legend, order should align with players</span>
<span class="sd">      player: a list of either 'human', None, or a player object with a play</span>
<span class="sd">        method and a critter_index attribute. If 'human' use buttons,  if None</span>
<span class="sd">        default to making a RandomValidPlayer object, otherwise use the</span>
<span class="sd">        player class provided to make the player objects and use a start button.</span>
<span class="sd">        The list needs to be as long as the gridworld_game.num_critters</span>
<span class="sd">        attribute. Order should align with critter_name.</span>

<span class="sd">      Note: fov is going to look pretty janky with more than one player, maybe</span>
<span class="sd">      we get fov to only turn on for the 'active' player?</span>
<span class="sd">    """</span>

    <span class="c1"># Set GridworldGame object and initialize the board state</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span> <span class="o">=</span> <span class="n">gridworld_game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span> <span class="o">=</span> <span class="n">has_fov</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">percept_len</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="o">=</span> <span class="n">collect_fov_data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">figsize</span> <span class="o">=</span> <span class="n">figsize</span>
    <span class="c1"># initialize players and plotting specs together to ensure alignment</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">players</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">any_human_players</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">crit_specs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'h'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">]</span>  <span class="c1"># hexagon and diamond</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">"colorblind"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">):</span>
      <span class="n">spec</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'marker'</span><span class="p">:</span> <span class="n">markers</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">markers</span><span class="p">)],</span>
              <span class="s1">'color'</span><span class="p">:</span> <span class="n">colors</span><span class="p">[</span><span class="n">i</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="n">markers</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)],</span>
              <span class="s1">'name'</span><span class="p">:</span> <span class="n">critter_names</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
              <span class="s1">'int_id'</span><span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">crit_specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
      <span class="n">player</span> <span class="o">=</span> <span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="c1">#implict check that players is at least long enough</span>
      <span class="k">if</span> <span class="n">player</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">RandomValidPlayer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="p">,</span> <span class="n">critter_index</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
      <span class="k">elif</span> <span class="n">player</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'human'</span><span class="p">)</span>
        <span class="c1"># right now only ever have on human player with index 1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">any_human_players</span> <span class="o">=</span> <span class="kc">True</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">critter_index</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">init_board</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">get_init_board</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span> <span class="o">=</span> <span class="n">init_board</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
      <span class="c1"># keep raw records of percept and eating for manipulation later</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">percept_eat_records</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="c1"># keep data in contingency table of how many food items were in</span>
      <span class="c1"># the percept, and whether or not food was eaten</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">percept_len</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="c1"># Initialize widgets and buttons</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
      <span class="n">width</span> <span class="o">=</span> <span class="s1">'20.0em'</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="s1">'20.0em'</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s1">'21.0em'</span><span class="p">,</span>
      <span class="n">min_height</span><span class="o">=</span><span class="s1">'10.0em'</span><span class="p">,</span> <span class="n">overflow</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
      <span class="n">min_width</span><span class="o">=</span><span class="s1">'12.5em'</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s1">'18.8em'</span><span class="p">,</span>
      <span class="n">min_height</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">,</span> <span class="n">overflow</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
      <span class="n">min_width</span><span class="o">=</span><span class="s1">'25.0em'</span><span class="p">,</span> <span class="n">min_height</span><span class="o">=</span><span class="s1">'18.8em'</span><span class="p">,</span> <span class="n">overflow</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">up_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Up"</span><span class="p">,</span>
      <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Down"</span><span class="p">,</span>
      <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Left"</span><span class="p">,</span>
      <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Right"</span><span class="p">,</span>
      <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Start"</span><span class="p">,</span>
      <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>

    <span class="c1"># get plot canvas widgets and other plotting objects</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">any_human_players</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">legend_type</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># don't keep regenerating the legend</span>
      <span class="c1"># do legend separately if showing observations and no human player</span>
      <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov</span><span class="p">,</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax_legend</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">critter_specs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crit_specs</span><span class="p">,</span>
          <span class="n">legend_type</span><span class="o">=</span><span class="s1">'separate'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">,</span> <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span>
          <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">legend_type</span><span class="o">=</span><span class="kc">None</span> <span class="c1"># don't keep regenerating the legend</span>
      <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov</span><span class="p">,</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax_legend</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">critter_specs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crit_specs</span><span class="p">,</span>
          <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span> <span class="n">legend_type</span><span class="o">=</span><span class="s1">'separate'</span><span class="p">,</span>
          <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">legend_type</span> <span class="o">=</span> <span class="s1">'included'</span>
      <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                <span class="n">critter_specs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crit_specs</span><span class="p">,</span>
                                <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span>
                                <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">)</span>
    <span class="c1"># lump buttons together</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">left_button</span><span class="p">,</span>
                               <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">up_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span><span class="p">]),</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span><span class="p">])</span>
    <span class="c1"># automatically pick different layouts for different situations</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">any_human_players</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">board_and_buttons</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span>
                                             <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">])</span>

      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_and_score</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_table_final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">board_and_buttons</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">output_and_score</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
          <span class="c1"># a single human player collecting data</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">no_table_final_display</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_display</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># self.collect_fov_data == False:</span>
          <span class="c1"># a single human player not collecting data</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">no_table_final_display</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="c1"># more than one player, one of them human</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">V_board_outbput</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">board_and_buttons</span><span class="p">,</span>
                                             <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">V_scoreboard_start_legend</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">V_board_outbput</span><span class="p">,</span>
                                             <span class="bp">self</span><span class="o">.</span><span class="n">V_scoreboard_start_legend</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># player is some kind of ai</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># an ai player with recording</span>
        <span class="c1"># in this case legend is separate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">V_score_start_output_legend</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">,</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">V_board_table</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_display</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">V_board_table</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">V_score_start_output_legend</span><span class="p">])</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
          <span class="c1"># an ai player without recording</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">H_score_output_start</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="p">])</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_score_output_start</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="c1"># more than one ai player</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">V_board_outbput</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">])</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">V_scoreboard_start_legend</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="p">])</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">V_board_outbput</span><span class="p">,</span>
                                             <span class="bp">self</span><span class="o">.</span><span class="n">V_scoreboard_start_legend</span><span class="p">])</span>

    <span class="c1"># initialize text outputs</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">:</span>
      <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'High Score:'</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">'--'</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
               <span class="p">[</span><span class="s1">'Last Score:'</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">'--'</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
               <span class="p">[</span><span class="s1">'Average Score:'</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">'--'</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,]</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">''</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="sa">f</span><span class="s1">'P</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">'</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)]</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span> <span class="c1"># len(self.players) == 1</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">:</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">any_human_players</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Click a button to start playing'</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Click the start button to run the simulation'</span><span class="p">)</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_display</span><span class="p">:</span>
      <span class="n">printmd</span><span class="p">(</span><span class="s2">"**Observations**"</span><span class="p">)</span>
      <span class="n">table_data</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">str</span><span class="p">(</span><span class="n">ii</span><span class="p">),</span>
                     <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">ii</span><span class="p">]),</span>
                     <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_data</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="n">ii</span><span class="p">])]</span> <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)]</span>
      <span class="n">table</span> <span class="o">=</span> <span class="p">([[</span><span class="s1">'Food in Percept'</span><span class="p">,</span> <span class="s1">'Food Not Eaten'</span><span class="p">,</span> <span class="s1">'Food Eaten'</span><span class="p">]]</span> <span class="o">+</span>
               <span class="n">table_data</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>

    <span class="c1"># Connect the buttons to functions that do something</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">up_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_up_button_clicked</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_down_button_clicked</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_left_button_clicked</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_button_clicked</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_start_button_clicked</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">button_output_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">which_button</span><span class="p">):</span>
    <span class="n">old_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="c1"># index is 0 through num_critter-1, critter value in pieces is</span>
    <span class="c1"># index + 1</span>
    <span class="n">active_player_index</span> <span class="o">=</span> <span class="n">old_board</span><span class="p">[</span><span class="s1">'active_player'</span><span class="p">]</span>
    <span class="n">old_scores</span> <span class="o">=</span> <span class="n">old_board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">old_board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
      <span class="n">b</span> <span class="o">=</span> <span class="n">GridworldBoard</span><span class="p">(</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_food</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">lifetime</span><span class="p">,</span>
                         <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
      <span class="n">b</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">old_board</span><span class="p">)</span>
      <span class="n">percept</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">get_perceptions</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1">#print(self.players[active_player_index])</span>
    <span class="c1">#print(active_player_index)</span>
    <span class="c1">#if not self.players[active_player_index] == 'human':</span>
    <span class="c1">#  print(self.players[active_player_index].critter_index)</span>
    <span class="c1">#else:</span>
    <span class="c1">#  print('human has no critter_index attribute')</span>

    <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">[</span><span class="n">active_player_index</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span>
        <span class="s1">'human'</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">[</span><span class="n">active_player_index</span><span class="p">]):</span>
      <span class="n">direction</span> <span class="o">=</span> <span class="n">which_button</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">a_player</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">[</span><span class="n">active_player_index</span><span class="p">]</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">old_board</span><span class="p">)</span>
      <span class="n">a_player</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">action_to_critter_direction</span><span class="p">(</span><span class="n">old_board</span><span class="p">,</span>
                                                      <span class="n">active_player_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
                                                      <span class="n">a_player</span><span class="p">)</span>
      <span class="c1"># but we only want to apply their move to the appropriate board</span>
      <span class="n">direction</span> <span class="o">=</span> <span class="n">a_player</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">critter_oriented_get_next_state</span><span class="p">(</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">active_player_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">direction</span><span class="p">])</span>
    <span class="n">new_scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#first batch first critter type</span>
    <span class="n">rounds_left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">num_moves</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">lifetime</span> <span class="o">-</span>
                         <span class="n">rounds_left</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">new_scores</span><span class="p">[</span><span class="n">active_player_index</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">old_scores</span><span class="p">[</span><span class="n">active_player_index</span><span class="p">]:</span>
      <span class="c1">#eating happened</span>
      <span class="n">eating_string</span> <span class="o">=</span> <span class="s2">"They ate the food there!"</span>
      <span class="n">did_eat</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1">#eating didn't happen</span>
      <span class="n">eating_string</span> <span class="o">=</span> <span class="s2">"There's no food there."</span>
      <span class="n">did_eat</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">get_critter_rc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                       <span class="n">active_player_index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov</span>
     <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                             <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">b_ax</span><span class="p">,</span>
                             <span class="n">critter_specs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs</span><span class="p">,</span> <span class="n">food</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">b_food</span><span class="p">,</span>
                             <span class="n">fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fov</span><span class="p">,</span> <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span>
                             <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">legend_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">legend_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">p_e_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'perception'</span><span class="p">:</span> <span class="n">percept</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
                  <span class="s1">'state'</span><span class="p">:</span> <span class="n">old_board</span><span class="p">,</span>
                  <span class="s1">'did_eat'</span><span class="p">:</span> <span class="nb">bool</span><span class="p">(</span><span class="n">did_eat</span><span class="p">)}</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">percept_eat_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p_e_data</span><span class="p">)</span>
      <span class="n">percept_int</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">percept</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># number of food items in FoV</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_data</span><span class="p">[</span><span class="n">did_eat</span><span class="p">,</span> <span class="n">percept_int</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">:</span>
      <span class="n">clear_output</span><span class="p">()</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"The critter (tried) to move "</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">+</span>
              <span class="s2">" and is now at (</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">)."</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">eating_string</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Rounds Left: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">Food Eaten: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">Food Per Move: </span><span class="si">{:.2f}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">rounds_left</span><span class="p">,</span> <span class="n">new_scores</span><span class="p">[</span><span class="n">active_player_index</span><span class="p">],</span>
            <span class="n">new_scores</span><span class="p">[</span><span class="n">active_player_index</span><span class="p">]</span> <span class="o">/</span> <span class="n">num_moves</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span> <span class="c1"># more than one players</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Critter </span><span class="si">{}</span><span class="s2"> (tried) to move "</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">active_player_index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
              <span class="n">direction</span> <span class="o">+</span>
              <span class="s2">" and is now at (</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">)."</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">eating_string</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Rounds Left: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">Food Eaten: </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">rounds_left</span><span class="p">,</span> <span class="n">new_scores</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">rounds_left</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_scores</span><span class="p">)</span>
      <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">:</span>
        <span class="n">clear_output</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Game Over. Final Score </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">new_scores</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Resetting the board for another game'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">get_init_board</span><span class="p">()</span>
      <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov</span>
       <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov</span><span class="p">,</span>
                               <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                               <span class="n">legend_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">legend_type</span><span class="p">)</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">:</span>
        <span class="n">clear_output</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Games Played: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
          <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">table</span> <span class="o">=</span> <span class="p">[</span>
              <span class="p">[</span><span class="s1">'High Score:'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)))],</span>
              <span class="p">[</span><span class="s1">'Last Score:'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])],</span>
              <span class="p">[</span><span class="s1">'Average Score'</span><span class="p">,</span>
              <span class="s1">'</span><span class="si">{:.2f}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)))]]</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'High Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">],</span>
                     <span class="p">[</span><span class="s1">'Last Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">],</span>
                     <span class="p">[</span><span class="s1">'Average Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">]]</span>
          <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># len(self.players) &gt; 1</span>
          <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">''</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="sa">f</span><span class="s1">'P</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">'</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">)]</span>
          <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">table</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="c1"># Assuming the batch size is 1 for now</span>
            <span class="n">current_scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">max_scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">average_scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s1">'High Scores:'</span><span class="p">]</span> <span class="o">+</span>
              <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">max_scores</span><span class="p">])</span>
            <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s1">'Last Scores:'</span><span class="p">]</span> <span class="o">+</span>
              <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">current_scores</span><span class="p">])</span>
            <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s1">'Average Scores:'</span><span class="p">]</span> <span class="o">+</span>
              <span class="p">[</span><span class="s1">'</span><span class="si">{:.2f}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">average_scores</span><span class="p">])</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span> <span class="o">=</span> <span class="p">[</span>
              <span class="p">[</span><span class="s1">'High Score:'</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">'--'</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
              <span class="p">[</span><span class="s1">'Last Score:'</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">'--'</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,</span>
              <span class="p">[</span><span class="s1">'Average Score:'</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">'--'</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">,]</span>
          <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">))</span>

    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_display</span><span class="p">:</span>
      <span class="n">clear_output</span><span class="p">()</span>
      <span class="n">printmd</span><span class="p">(</span><span class="s2">"**Observations**"</span><span class="p">)</span>
      <span class="n">table_data</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">str</span><span class="p">(</span><span class="n">ii</span><span class="p">),</span>
                     <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">ii</span><span class="p">]),</span>
                     <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_data</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="n">ii</span><span class="p">])]</span> <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)]</span>
      <span class="n">table</span> <span class="o">=</span> <span class="p">([[</span><span class="s1">'Food in Percept'</span><span class="p">,</span> <span class="s1">'Food Not Eaten'</span><span class="p">,</span> <span class="s1">'Food Eaten'</span><span class="p">]]</span> <span class="o">+</span>
               <span class="n">table_data</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>

  <span class="k">def</span> <span class="nf">disable_direction_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">up_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>

  <span class="k">def</span> <span class="nf">enable_direction_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">up_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>

  <span class="k">def</span> <span class="nf">human_ai_player_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disable_direction_buttons</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">players</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">player</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_output_update</span><span class="p">(</span><span class="n">direction</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_output_update</span><span class="p">(</span><span class="s1">'tbd'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">enable_direction_buttons</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">on_up_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">human_ai_player_loop</span><span class="p">(</span><span class="s1">'up'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">on_down_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">human_ai_player_loop</span><span class="p">(</span><span class="s1">'down'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">on_left_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">human_ai_player_loop</span><span class="p">(</span><span class="s1">'left'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">on_right_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">human_ai_player_loop</span><span class="p">(</span><span class="s1">'right'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">on_start_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">lifetime</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_critters</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">button_output_update</span><span class="p">(</span><span class="s1">'tbd'</span><span class="p">)</span>
      <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>




<span class="k">class</span> <span class="nc">Head2HeadGridworld</span><span class="p">():</span>
<span class="w">  </span><span class="sd">"""</span>
<span class="sd">  A widget for interacting with a gridworld game while an artificial player</span>
<span class="sd">  plays on an identical board or watching two artificial players play, again</span>
<span class="sd">  with identical starting positions (though RNG not synched between the two</span>
<span class="sd">  boards, so not like duplicate bridge). We are not going to worry about having</span>
<span class="sd">  more than 1 critter type playing in head to head, (maybe we will to talk</span>
<span class="sd">  about cooperation... maybe).</span>
<span class="sd">  """</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gridworld_game</span><span class="p">,</span> <span class="n">init_board</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">player0</span><span class="o">=</span><span class="s1">'human'</span><span class="p">,</span> <span class="n">p0_short_name</span><span class="o">=</span><span class="s1">'YOU'</span><span class="p">,</span> <span class="n">p0_long_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">player1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">p1_short_name</span><span class="o">=</span><span class="s1">'THEM'</span><span class="p">,</span> <span class="n">p1_long_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">has_fov</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">collect_fov_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">critter_name</span><span class="o">=</span><span class="s1">'Critter'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span>
               <span class="n">has_temp_slider</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Initializes a widget based object for interacting with a gridworld game</span>

<span class="sd">    Args:</span>
<span class="sd">      gridworld_game: an instance of GridworldGame object</span>
<span class="sd">        expects this to have batch_size of 2</span>
<span class="sd">      init_board: (optional) a triple of np arrays representing board state</span>
<span class="sd">        pieces,       - batch_size x n_rows x n_cols</span>
<span class="sd">        scores,       - batch_size</span>
<span class="sd">        rounds_left   - batch_size</span>
<span class="sd">        if left out will initialize with a random board state</span>
<span class="sd">      player0: object with a play method that takes a board state</span>
<span class="sd">        as an argument and returns a move. If none will use a random player</span>
<span class="sd">        if the special string 'human' is passed make arrow keys for that player</span>
<span class="sd">      player1: same deal as player0, never more than 1 human player</span>
<span class="sd">      has_fov: bool, whether or not to display field of view around the critter</span>
<span class="sd">      radius: int, number of squares the critter can "see" around it</span>
<span class="sd">    """</span>
    <span class="c1"># Set GridworldGame object and initialize the board state</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span> <span class="o">=</span> <span class="n">gridworld_game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">=</span> <span class="n">player0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">p0_short_name</span> <span class="o">=</span> <span class="n">p0_short_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">p0_long_name</span> <span class="o">=</span> <span class="n">p0_long_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">=</span> <span class="n">player1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">p1_short_name</span> <span class="o">=</span> <span class="n">p1_short_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">p1_long_name</span> <span class="o">=</span> <span class="n">p1_long_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">no_human</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
      <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">!=</span> <span class="s1">'human'</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">no_human</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
      <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">!=</span> <span class="s1">'human'</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">no_human</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">p0_next_move</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">p1_next_move</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span> <span class="o">=</span> <span class="n">has_fov</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">percept_len</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="o">=</span> <span class="n">collect_fov_data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">critter_name</span> <span class="o">=</span> <span class="n">critter_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">figsize</span> <span class="o">=</span> <span class="n">figsize</span>
    <span class="k">if</span> <span class="n">player0</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">=</span> <span class="n">RandomValidPlayer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">=</span> <span class="n">player0</span>
    <span class="k">if</span> <span class="n">player1</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">=</span> <span class="n">RandomValidPlayer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">=</span> <span class="n">player1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">has_temp_slider</span> <span class="o">=</span> <span class="n">has_temp_slider</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">percept_eat_records</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">percept_len</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">init_board</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">get_init_board</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span> <span class="o">=</span> <span class="n">init_board</span>
    <span class="c1">#print(self.board_state)</span>

    <span class="c1"># both players have same starting board</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># Initialize widgets and buttons</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_temp_slider</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">sft_slider_label</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">'Softmax Temperature'</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">sft_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                                            <span class="nb">max</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">softmax_temp_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">sft_slider_label</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">sft_slider</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output0</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
      <span class="n">width</span> <span class="o">=</span> <span class="s1">'20.0em'</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="s1">'20.0em'</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s1">'21.0em'</span><span class="p">,</span>
      <span class="n">min_height</span><span class="o">=</span><span class="s1">'10.0em'</span><span class="p">,</span> <span class="n">overflow</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
      <span class="n">width</span> <span class="o">=</span> <span class="s1">'20.0em'</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="s1">'20.0em'</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s1">'21.0em'</span><span class="p">,</span>
      <span class="n">min_height</span><span class="o">=</span><span class="s1">'10.0em'</span><span class="p">,</span> <span class="n">overflow</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
      <span class="n">min_width</span><span class="o">=</span><span class="s1">'20em'</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s1">'21em'</span><span class="p">,</span> <span class="n">min_height</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">,</span> <span class="n">overflow</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">up_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Up"</span><span class="p">,</span>
                                    <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Down"</span><span class="p">,</span>
                                      <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Left"</span><span class="p">,</span>
                                      <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Right"</span><span class="p">,</span>
                                       <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Start"</span><span class="p">,</span>
      <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'6.3em'</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s1">'0.6em 0 0 0'</span><span class="p">))</span>  <span class="c1"># 0.6em top margin</span>

    <span class="c1">#set up buttons and outputs and layouts</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">left_button</span><span class="p">,</span>
                               <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">up_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span><span class="p">]),</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">()</span>
    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov0</span><span class="p">,</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax_legend</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">legend_type</span><span class="o">=</span><span class="s1">'separate'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">,</span>
        <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">critter_name</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p0_long_name</span><span class="p">)</span>
    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov1</span>
     <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">legend_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="n">figsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">,</span> <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span>
                             <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p1_long_name</span><span class="p">)</span>
    <span class="c1"># player 0 is human</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">board_buttons_and_output0</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">(</span>
      <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig0</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output0</span><span class="p">])</span>
    <span class="c1"># player 1 is human</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">board_buttons_and_output1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">(</span>
      <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig1</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output1</span><span class="p">])</span>
    <span class="c1"># non human players</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">board_and_output0</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig0</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output0</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">board_and_output1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig1</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output1</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">legend_and_scores</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_temp_slider</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">legend_scores_start</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">softmax_temp_slider</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">legend_scores_start</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">board_buttons_and_output0</span><span class="p">,</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">legend_and_scores</span><span class="p">,</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">board_and_output1</span><span class="p">])</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">board_and_output0</span><span class="p">,</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">legend_and_scores</span><span class="p">,</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">board_buttons_and_output1</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># no human player</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">board_and_output0</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">legend_scores_start</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">board_and_output1</span><span class="p">])</span>
    <span class="c1"># initial text outputs</span>
    <span class="c1"># if there's a temp slider check who, if anyone uses it</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">p0_uses_temp</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">p1_uses_temp</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_temp_slider</span><span class="p">:</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span><span class="o">==</span><span class="s1">'human'</span><span class="p">:</span>
        <span class="k">pass</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
          <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">p0_uses_temp</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span> <span class="k">pass</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
        <span class="k">pass</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
          <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">p1_uses_temp</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span> <span class="k">pass</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">p0_uses_temp</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">p1_uses_temp</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output0</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="s2">"Warning: neither player supports temperature adjustment. "</span>
                <span class="s2">"The slider will have no effect."</span><span class="p">)</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output0</span><span class="p">:</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">no_human</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Click a button to start.'</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Click the start button to run the simulation'</span><span class="p">)</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">'Games Played: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)))</span>
      <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">''</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">p0_short_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">p1_short_name</span><span class="p">],</span>
          <span class="p">[</span><span class="s1">'High Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">],</span>
          <span class="p">[</span><span class="s1">'Last Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">],</span>
          <span class="p">[</span><span class="s1">'Avg. Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">]]</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>

    <span class="c1"># Connect the buttons to functions that do something</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">up_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_up_button_clicked</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_down_button_clicked</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_left_button_clicked</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_button_clicked</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_start_button_clicked</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">button_output_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">which_button</span><span class="p">):</span>
    <span class="n">old_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">old_scores</span> <span class="o">=</span> <span class="n">old_board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][:,</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#both batches only one critter type</span>
    <span class="n">active_player_index</span> <span class="o">=</span> <span class="n">old_board</span><span class="p">[</span><span class="s1">'active_player'</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disable_buttons</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
      <span class="n">a_player0</span> <span class="o">=</span> <span class="n">which_button</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p0_next_move</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">a_player0_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">p0_next_move</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p0_next_move</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output0</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="s2">"AI is thinking..."</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p0_uses_temp</span><span class="p">:</span>
          <span class="n">a_player0_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">old_board</span><span class="p">,</span>
                                               <span class="n">temp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sft_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">a_player0_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">old_board</span><span class="p">)</span>
      <span class="n">a_player0_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">action_to_critter_direction</span><span class="p">(</span><span class="n">old_board</span><span class="p">,</span>
                                                        <span class="n">active_player_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
                                                        <span class="n">a_player0_</span><span class="p">)</span>
      <span class="n">a_player0</span> <span class="o">=</span> <span class="n">a_player0_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
      <span class="n">a_player1</span> <span class="o">=</span> <span class="n">which_button</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p1_next_move</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">a_player1_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">p1_next_move</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p1_next_move</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output1</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="s2">"AI is thinking..."</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p1_uses_temp</span><span class="p">:</span>
          <span class="n">a_player1_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">old_board</span><span class="p">,</span>
                                               <span class="n">temp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sft_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">a_player1_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">old_board</span><span class="p">)</span>
      <span class="n">a_player1_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">action_to_critter_direction</span><span class="p">(</span><span class="n">old_board</span><span class="p">,</span>
                                                        <span class="n">active_player_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
                                                        <span class="n">a_player1_</span><span class="p">)</span>
      <span class="n">a_player1</span> <span class="o">=</span> <span class="n">a_player1_</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">enable_buttons</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">critter_oriented_get_next_state</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">active_player_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">a_player0</span><span class="p">,</span> <span class="n">a_player1</span><span class="p">])</span>

    <span class="c1"># Try to precompute next AI player move(s) if there are any rounds left</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">!=</span> <span class="s1">'human'</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p0_uses_temp</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">p0_next_move</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span><span class="o">.</span><span class="n">play</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sft_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">p0_next_move</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">)</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">!=</span> <span class="s1">'human'</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p1_uses_temp</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">p1_next_move</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span><span class="o">.</span><span class="n">play</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sft_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">p1_next_move</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span> <span class="o">=</span> <span class="n">old_board</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
      <span class="n">b</span> <span class="o">=</span> <span class="n">GridworldBoard</span><span class="p">(</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">num_food</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">lifetime</span><span class="p">,</span>
                         <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
      <span class="n">b</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">old_board</span><span class="p">)</span>
      <span class="n">percept</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">get_perceptions</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>

    <span class="n">new_scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">][:,</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#both batches one critter type</span>
    <span class="n">rounds_left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'rounds_left'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">num_moves</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">lifetime</span> <span class="o">-</span> <span class="n">rounds_left</span>

    <span class="k">if</span> <span class="n">new_scores</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">old_scores</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
      <span class="n">eating_string0</span> <span class="o">=</span> <span class="s2">"They ate the food there!"</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">eating_string0</span> <span class="o">=</span> <span class="s2">"There's no food there."</span>
    <span class="k">if</span> <span class="n">new_scores</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">old_scores</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
      <span class="n">eating_string1</span> <span class="o">=</span> <span class="s2">"They ate the food there!"</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">eating_string1</span> <span class="o">=</span> <span class="s2">"There's no food there."</span>
    <span class="n">did_eat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">new_scores</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">old_scores</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">row0</span><span class="p">,</span> <span class="n">col0</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">get_critter_rc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov0</span>
     <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fig0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax0</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov0</span><span class="p">,</span>
                             <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                             <span class="n">legend_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">row1</span><span class="p">,</span> <span class="n">col1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">get_critter_rc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov1</span>
     <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fig1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax1</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov1</span><span class="p">,</span>
                             <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                             <span class="n">legend_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output0</span><span class="p">:</span>
      <span class="n">clear_output</span><span class="p">()</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player0</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"You clicked the "</span> <span class="o">+</span> <span class="n">which_button</span> <span class="o">+</span>
              <span class="s2">" button and your critter is now at (</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">)."</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row0</span><span class="p">,</span><span class="n">col0</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"This player (tried) to move "</span> <span class="o">+</span> <span class="n">a_player0</span> <span class="o">+</span>
              <span class="s2">" and is now at (</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">)."</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row0</span><span class="p">,</span><span class="n">col0</span><span class="p">))</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">eating_string0</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">"Rounds Left: </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">Food Eaten: </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">Food Per Move: </span><span class="si">{:.2f}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
          <span class="n">rounds_left</span><span class="p">,</span> <span class="n">new_scores</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">new_scores</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">num_moves</span><span class="p">))</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output1</span><span class="p">:</span>
      <span class="n">clear_output</span><span class="p">()</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player1</span> <span class="o">==</span> <span class="s1">'human'</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"You clicked the "</span> <span class="o">+</span> <span class="n">which_button</span> <span class="o">+</span>
              <span class="s2">" button and your critter is now at (</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">)."</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row1</span><span class="p">,</span><span class="n">col1</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"This player (tried) to move "</span> <span class="o">+</span> <span class="n">a_player1</span> <span class="o">+</span>
              <span class="s2">" and is now at (</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">)."</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row1</span><span class="p">,</span><span class="n">col1</span><span class="p">))</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">eating_string1</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">"Rounds Left: </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">Food Eaten: </span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">Food Per Move: </span><span class="si">{:.2f}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">rounds_left</span><span class="p">,</span> <span class="n">new_scores</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">new_scores</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">num_moves</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect_fov_data</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">p_e_data</span> <span class="o">=</span> <span class="p">(</span><span class="n">percept</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">did_eat</span><span class="p">,</span> <span class="n">old_board</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">percept_eat_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p_e_data</span><span class="p">)</span>
      <span class="n">percept_int</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">percept</span><span class="o">==-</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">fov_eat_table_data</span><span class="p">[</span><span class="n">did_eat</span><span class="p">,</span> <span class="n">percept_int</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">rounds_left</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_scores</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">get_init_board</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">[</span><span class="s1">'pieces'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
      <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov0</span>
       <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fig0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax0</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov0</span><span class="p">,</span>
                             <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                             <span class="n">legend_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
      <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_fig1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov1</span>
       <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">plot_board</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board_state</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fig1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ax1</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">b_crit_specs1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_food1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_fov1</span><span class="p">,</span>
                             <span class="n">has_fov</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_fov</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                             <span class="n">legend_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
      <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output0</span><span class="p">:</span>
        <span class="n">clear_output</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Game Over. Final Score </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">new_scores</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Resetting the board for another game'</span><span class="p">)</span>
      <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output1</span><span class="p">:</span>
        <span class="n">clear_output</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Game Over. Final Score </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">new_scores</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'Resetting the board for another game'</span><span class="p">)</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">scoreboard</span><span class="p">:</span>
      <span class="n">clear_output</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">b_fig_legend</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">'Games Played: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)))</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">''</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">p0_short_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">p1_short_name</span><span class="p">],</span>
          <span class="p">[</span><span class="s1">'High Score:'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)[:,</span><span class="mi">0</span><span class="p">])),</span>
                          <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]))],</span>
          <span class="p">[</span><span class="s1">'Last Score:'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span>
                          <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])],</span>
          <span class="p">[</span><span class="s1">'Average Score'</span><span class="p">,</span>
            <span class="s1">'</span><span class="si">{:.2f}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)[:,</span><span class="mi">0</span><span class="p">])),</span>
            <span class="s1">'</span><span class="si">{:.2f}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_scores</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]))]]</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">''</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">p0_short_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">p1_short_name</span><span class="p">],</span>
          <span class="p">[</span><span class="s1">'High Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">],</span>
          <span class="p">[</span><span class="s1">'Last Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">],</span>
          <span class="p">[</span><span class="s1">'Average Score:'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">,</span> <span class="s1">'--'</span><span class="p">]]</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>


  <span class="k">def</span> <span class="nf">on_up_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">button_output_update</span><span class="p">(</span><span class="s1">'up'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">on_down_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">button_output_update</span><span class="p">(</span><span class="s1">'down'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">on_left_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">button_output_update</span><span class="p">(</span><span class="s1">'left'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">on_right_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">button_output_update</span><span class="p">(</span><span class="s1">'right'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">on_start_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_temp_slider</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">softmax_temp_slider</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gwg</span><span class="o">.</span><span class="n">lifetime</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">button_output_update</span><span class="p">(</span><span class="s1">'tbd'</span><span class="p">)</span>
      <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_temp_slider</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">softmax_temp_slider</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>

  <span class="k">def</span> <span class="nf">disable_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">up_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>

  <span class="k">def</span> <span class="nf">enable_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">up_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_button</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">False</span>




<span class="k">class</span> <span class="nc">ExploreWeightsWidget</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game</span> <span class="o">=</span> <span class="n">game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span>  <span class="c1"># four directions, twelve fov cells</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">row_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Up'</span><span class="p">,</span> <span class="s1">'Down'</span><span class="p">,</span> <span class="s1">'Left'</span><span class="p">,</span> <span class="s1">'Right'</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">col_labels</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s1">'Far&lt;br&gt;Up'</span><span class="p">,</span> <span class="s1">'Left&lt;br&gt;Up'</span><span class="p">,</span> <span class="s1">'Near&lt;br&gt;Up'</span><span class="p">,</span> <span class="s1">'Right&lt;br&gt;Up'</span><span class="p">,</span>
      <span class="s1">'Far&lt;br&gt;Left'</span><span class="p">,</span> <span class="s1">'Near&lt;br&gt;Left'</span><span class="p">,</span> <span class="s1">'Near&lt;br&gt;Right'</span><span class="p">,</span> <span class="s1">'Far&lt;br&gt;Right'</span><span class="p">,</span>
      <span class="s1">'Left&lt;br&gt;Down'</span><span class="p">,</span> <span class="s1">'Near&lt;br&gt;Down'</span><span class="p">,</span> <span class="s1">'Right&lt;br&gt;Down'</span><span class="p">,</span> <span class="s1">'Far&lt;br&gt;Down'</span>
      <span class="p">]</span>

    <span class="c1"># Create column headers</span>
    <span class="n">col_header</span> <span class="o">=</span> <span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">''</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'50px'</span><span class="p">))]</span> <span class="o">+</span> \
                 <span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'60px'</span><span class="p">,</span> <span class="n">min_height</span><span class="o">=</span><span class="s1">'60px'</span><span class="p">))</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">col_labels</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">text_fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">(</span><span class="n">col_header</span><span class="p">)]</span>

    <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_labels</span><span class="p">:</span>
      <span class="n">row_fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">FloatText</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'60px'</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">)]</span>
      <span class="n">row_label</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">:"</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">'50px'</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">text_fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">row_label</span><span class="p">]</span> <span class="o">+</span> <span class="n">row_fields</span><span class="p">))</span>

    <span class="c1"># Create a button to start the game</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Run Game"</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run_game</span><span class="p">)</span>

    <span class="c1"># set up fig and create placeholders for vertical lines and histograms</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">"colorblind"</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current_color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prev_color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">remove_ip_clutter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current_avg_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_color</span><span class="p">,</span>
                                            <span class="n">linestyle</span><span class="o">=</span><span class="s1">'dashed'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                            <span class="n">label</span><span class="o">=</span><span class="s1">'Current'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prev_avg_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_color</span><span class="p">,</span>
                                         <span class="n">linestyle</span><span class="o">=</span><span class="s1">'dashed'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                         <span class="n">label</span><span class="o">=</span><span class="s1">'Previous'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_avg_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">best_color</span><span class="p">,</span>
                                         <span class="n">linestyle</span><span class="o">=</span><span class="s1">'dashed'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                         <span class="n">label</span><span class="o">=</span><span class="s1">'Best'</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
      <span class="c1">#only do hist for batches</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">current_hist_bars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span>
                                           <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_color</span><span class="p">,</span>
                                           <span class="n">label</span><span class="o">=</span><span class="s1">'Current Run'</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">prev_hist_bars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_color</span><span class="p">,</span>
                                        <span class="n">label</span><span class="o">=</span><span class="s1">'Previous Run'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">'outside right upper'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

    <span class="c1"># Output widget to display game output and any other information</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">out</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>

    <span class="c1"># keep track of important values</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_avg_score</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'-inf'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_params</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>

    <span class="c1"># Button to set the best weights</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Set Best Weights"</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_best_weights</span><span class="p">)</span>

    <span class="c1"># Add a ToggleButton for symmetry</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">symmetry_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">ToggleButton</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                <span class="n">description</span><span class="o">=</span><span class="s1">'Enforce Symmetry'</span><span class="p">,</span>
                                                <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                <span class="n">button_style</span><span class="o">=</span><span class="s1">''</span><span class="p">,</span>
                                                <span class="n">tooltip</span><span class="o">=</span><span class="s1">'Toggle symmetry enforcement'</span><span class="p">,</span>
                                                <span class="n">icon</span><span class="o">=</span><span class="s1">'check'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">symmetry_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_symmetry</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span>
      <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">text_fields</span><span class="p">,</span>
      <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">symmetry_toggle</span><span class="p">]),</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">out</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># To keep track of the jslink objects</span>


  <span class="k">def</span> <span class="nf">run_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">hbox</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_fields</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>  <span class="c1"># Skip the header row</span>
      <span class="n">row_weights</span> <span class="o">=</span> <span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">hbox</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>  <span class="c1"># Skip the label at the first position</span>
      <span class="n">weights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_weights</span><span class="p">)</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>
    <span class="n">boppp</span> <span class="o">=</span> <span class="n">BatchOptPerceptParamPlayer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)</span>
    <span class="c1"># Run the game</span>
    <span class="n">final_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">play_game</span><span class="p">(</span><span class="n">players</span><span class="o">=</span><span class="p">[</span><span class="n">boppp</span><span class="p">],</span> <span class="n">visualize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">final_board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">avg_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scores</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">avg_score</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_avg_score</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">best_avg_score</span> <span class="o">=</span> <span class="n">avg_score</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">best_params</span> <span class="o">=</span> <span class="n">weights</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
      <span class="c1"># Compute and update histogram data</span>
      <span class="n">counts</span><span class="p">,</span> <span class="n">edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scores</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
      <span class="n">counts</span> <span class="o">=</span> <span class="n">counts</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span>
      <span class="n">prev_counts</span><span class="p">,</span> <span class="n">prev_edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="p">([</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>
      <span class="n">prev_sum</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">prev_counts</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">prev_sum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">prev_counts</span> <span class="o">=</span> <span class="n">prev_counts</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">prev_counts</span><span class="p">)</span>
      <span class="c1"># Update the height of bars for the current scores</span>
      <span class="k">for</span> <span class="n">bar</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">left</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_hist_bars</span><span class="p">,</span> <span class="n">counts</span><span class="p">,</span> <span class="n">edges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
          <span class="n">bar</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
          <span class="n">bar</span><span class="o">.</span><span class="n">set_x</span><span class="p">(</span><span class="n">left</span><span class="p">)</span>
          <span class="n">bar</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">edges</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="c1"># Update the height of bars for the previous scores</span>
      <span class="k">for</span> <span class="n">bar</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">left</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_hist_bars</span><span class="p">,</span> <span class="n">prev_counts</span><span class="p">,</span> <span class="n">prev_edges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
          <span class="n">bar</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
          <span class="n">bar</span><span class="o">.</span><span class="n">set_x</span><span class="p">(</span><span class="n">left</span><span class="p">)</span>
          <span class="n">bar</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="n">prev_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">prev_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="c1"># set vline data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current_avg_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">([</span><span class="n">avg_score</span><span class="p">])</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">prev_avg_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_avg_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">([</span><span class="n">prev_avg_score</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_avg_line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">best_avg_score</span><span class="p">])</span>

    <span class="c1">#update the fig</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">'outside right upper'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="c1"># Display the output</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">out</span><span class="p">:</span>
      <span class="n">clear_output</span><span class="p">()</span>

      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Average Score This Time: </span><span class="si">{</span><span class="n">avg_score</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
          <span class="n">prev_avg_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
          <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Average Score Last Time: </span><span class="si">{</span><span class="n">prev_avg_score</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Best Ever Average Score: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">best_avg_score</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Score This Run: </span><span class="si">{</span><span class="n">avg_score</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Score Last Run: </span><span class="si">{</span><span class="n">prev_avg_score</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Best Score: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">best_avg_score</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">prev_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scores</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>


  <span class="k">def</span> <span class="nf">link_symmetric_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">):</span>
    <span class="c1"># Each row's symmetry permutation indices</span>
    <span class="n">symmetry_indices</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s1">'Up'</span><span class="p">:</span>    <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
      <span class="s1">'Down'</span><span class="p">:</span>  <span class="p">[</span> <span class="mi">7</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
      <span class="s1">'Left'</span><span class="p">:</span>  <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
      <span class="s1">'Right'</span><span class="p">:</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">3</span><span class="p">]}</span>

    <span class="k">if</span> <span class="n">change</span><span class="p">[</span><span class="s1">'new'</span><span class="p">]:</span>  <span class="c1"># If the toggle button is activated</span>
      <span class="n">base_row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_fields</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># The 'Up' row</span>
      <span class="n">base_perm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">symmetry_indices</span><span class="p">[</span><span class="s1">'Up'</span><span class="p">])</span>  <span class="c1"># Convert to a NumPy array for easier manipulation</span>

      <span class="k">for</span> <span class="n">row_label</span><span class="p">,</span> <span class="n">hbox</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_labels</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_fields</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>  <span class="c1"># Include all rows</span>
        <span class="n">link_row</span> <span class="o">=</span> <span class="n">hbox</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># Skip the label</span>
        <span class="n">perm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">symmetry_indices</span><span class="p">[</span><span class="n">row_label</span><span class="p">])</span>  <span class="c1"># Convert to a NumPy array for easier manipulation</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">perm</span><span class="p">):</span>
          <span class="n">base_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">flatnonzero</span><span class="p">(</span><span class="n">base_perm</span> <span class="o">==</span> <span class="n">j</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
          <span class="k">if</span> <span class="n">row_label</span> <span class="o">!=</span> <span class="s1">'Up'</span> <span class="ow">or</span> <span class="n">base_index</span> <span class="o">!=</span> <span class="n">i</span><span class="p">:</span>  <span class="c1"># Skip self-links</span>
            <span class="n">link</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">jslink</span><span class="p">((</span><span class="n">base_row</span><span class="p">[</span><span class="n">base_index</span><span class="p">],</span> <span class="s1">'value'</span><span class="p">),</span> <span class="p">(</span><span class="n">link_row</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">'value'</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">unlink_symmetric_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">links</span><span class="p">:</span>
      <span class="n">link</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>


  <span class="k">def</span> <span class="nf">toggle_symmetry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">change</span><span class="o">.</span><span class="n">new</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">link_symmetric_widgets</span><span class="p">(</span><span class="n">change</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">unlink_symmetric_widgets</span><span class="p">()</span>


  <span class="k">def</span> <span class="nf">set_best_weights</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">hbox</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_fields</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">hbox</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
          <span class="n">field</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_params</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Random seed 2021 has been set.
This notebook isn't using and doesn't need a GPU. Good.
Running in colab
Not running in colab
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="artisanal-hand-tuned-optimization">
<h1>1.2.1.1: Artisanal Hand-Tuned Optimization<a class="headerlink" href="#artisanal-hand-tuned-optimization" title="Permalink to this headline">¶</a></h1>
<p>To start our optimization journey use the widget below to hand-tune the parameters of the policy. When you are happy with your parameter selection click the ‘Go!’ button to run a simulation and get a result. Try it twice or thrice. Is the stochasticity of the Gridworld environment making your optimization task harder or easier? Is the enforce symmetry button helpful? What does it do?</p>
<div class="section" id="interactive-twiddle-gridworld-policy-weights">
<h2>Interactive: Twiddle Gridworld Policy Weights<a class="headerlink" href="#interactive-twiddle-gridworld-policy-weights" title="Permalink to this headline">¶</a></h2>
<p><strong>Run this cell</strong> to adjust the weights of simple  policy.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown **Run this cell** to adjust the weights of simple  policy.</span>
<span class="n">gwg</span> <span class="o">=</span> <span class="n">GridworldGame</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
                    <span class="n">num_critters</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_food</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">eww</span> <span class="o">=</span> <span class="n">ExploreWeightsWidget</span><span class="p">(</span><span class="n">gwg</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">eww</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>
<span class="n">clear_output</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">eww</span><span class="o">.</span><span class="n">final_display</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "29042a1f8b9649b79c81f970753f7710"}
</script></div>
</div>
<p>Okay, so it will probably take a long time to optimize if we can only get feedback on one stochastic simulation at a time. Also what are we even trying to optimize for. Our best score out of 10 simulation runs? The highest low score out of 100 simulation runs? The highest average score over 10, 100, 1000 simulation runs? The policy that achieves one of these goals might not be the same as the policy that achieves another of these goals, so we need to choose. A well defined evolutionary process often implies a specific goal, but we don’t have a well defined evolutionary process just yet so instead we’re going to have to just pick something. For now we’re going to go with maximizing the <em><strong>expected</strong></em> score. This means the goal is to have a policy with a high average score over many simulations.</p>
</div>
<hr class="docutils"/>
<div class="section" id="stats-box-interaction-expectation-of-sample-mean-law-of-large-numbers">
<h2>Stats Box + Interaction: Expectation of Sample Mean Law of Large Numbers<a class="headerlink" href="#stats-box-interaction-expectation-of-sample-mean-law-of-large-numbers" title="Permalink to this headline">¶</a></h2>
<p>The expectation of a random variable is connected to the mean of a set of samples of that variable by teo important theorems in probability theory called the Law of Large Numbers. Specifically, the sample mean can be made arbitrarily close to the true expected value of the random variable from which the samples are drawn by making the sample size larger and larger. Imagine flipping a fair coin. Even though the chance of getting heads is 50%, in just 10 flips, there could easily be 7 heads and 3 tails just due to randomness, and 70% heads is very different from the true expected value of 50%. But, flip that same coin a million times and the proportion of heads will be much closer to 50%. In fact, after a million flips the proportion of heads will be within 49.4% and 50.6% with near certainty. Essentially, together the Law of Large Numbers and the Central Limit Theorem the more flips, the closer to that true 50% mark.</p>
<p>You can run the cell below to get a sense of how the distribution of the sample average become closer to the true proportion as the as the number of samples increases</p>
<p><strong>Run this cell</strong> to explore how the distribution of sample averages becomes more tightly concentrated around the true mean as sample size increases.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown **Run this cell** to explore how the distribution of sample averages becomes more tightly concentrated around the true mean as sample size increases.</span>
<span class="k">class</span> <span class="nc">CLT_Bin_Explore</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">rng</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">rng</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">heads_prob</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
      <span class="n">value</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">'Heads Prob'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num_flips_per_trial</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatLogSlider</span><span class="p">(</span>
      <span class="n">value</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">'Sample Size'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num_trials</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
        <span class="n">value</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">' # Trials'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Flip The Coins!"</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run_experiment</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">remove_ip_clutter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">out</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_experiment</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="c1"># Layout the widgets and output</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">final_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span>
      <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">heads_prob</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_flips_per_trial</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_trials</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="p">,]),</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">out</span><span class="p">])])</span>

  <span class="k">def</span> <span class="nf">run_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">num_trials</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_trials</span><span class="o">.</span><span class="n">value</span>
    <span class="n">flips_per_trial</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_flips_per_trial</span><span class="o">.</span><span class="n">value</span>
    <span class="n">heads_prob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">heads_prob</span><span class="o">.</span><span class="n">value</span>
    <span class="n">flips</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">flips_per_trial</span><span class="p">,</span> <span class="n">heads_prob</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">num_trials</span><span class="p">)</span>
    <span class="n">heads_props</span> <span class="o">=</span> <span class="n">flips</span> <span class="o">/</span> <span class="n">flips_per_trial</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">min_prop</span> <span class="o">=</span> <span class="n">heads_props</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="n">max_prop</span> <span class="o">=</span> <span class="n">heads_props</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">bin_edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">min_prop</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">/</span><span class="n">flips_per_trial</span><span class="p">,</span> <span class="n">max_prop</span> <span class="o">+</span> <span class="mf">1.5</span><span class="o">/</span><span class="n">flips_per_trial</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">flips_per_trial</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">heads_props</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bin_edges</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">'mid'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Distribution of Head Proportions'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'Sample Proportion of Heads'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Frequency'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">heads_prob</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'--'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">'True Heads Probability'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">'upper right'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="c1"># Display the output</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">out</span><span class="p">:</span>
      <span class="n">clear_output</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Flipped a virtual coin </span><span class="si">{</span><span class="n">num_trials</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">flips_per_trial</span><span class="si">}</span><span class="s2"> times,"</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials with </span><span class="si">{</span><span class="n">flips_per_trial</span><span class="si">}</span><span class="s2"> flips per trial."</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"The probability of heads on each trial was </span><span class="si">{</span><span class="n">heads_prob</span><span class="si">}</span><span class="s2">."</span><span class="p">)</span>

<span class="n">cbe</span> <span class="o">=</span> <span class="n">CLT_Bin_Explore</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">cbe</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>
<span class="n">clear_output</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">cbe</span><span class="o">.</span><span class="n">final_display</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "10ce1a2e6d85414bb0ac33cf34334468"}
</script></div>
</div>
</div>
<hr class="docutils"/>
<div class="section" id="interactive-twiddle-gridworld-policy-weights-better-feedback">
<h2>Interactive: Twiddle Gridworld Policy Weights - Better Feedback<a class="headerlink" href="#interactive-twiddle-gridworld-policy-weights-better-feedback" title="Permalink to this headline">¶</a></h2>
<p>The law of large numbers tells us that we can get better feedback on how well we are doing on the goal of maximizing expected reward, despite the stochasticity of the environment and the policy, by averaging the score over many episode run throughs. Run the cell below to continue exploring the impact of weight changes on score, but now getting feedback from 400 simulations run in parallel, instead of just a single simulation run.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown **Run this cell** to play with the weights for our 'Parameterized Weights' policy. This time getting feedback on 400 simulation runs instead of just one. It may take a few seconds to run the simulations.</span>
<span class="n">gwg</span> <span class="o">=</span> <span class="n">GridworldGame</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
                    <span class="n">num_critters</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_food</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">eww</span> <span class="o">=</span> <span class="n">ExploreWeightsWidget</span><span class="p">(</span><span class="n">gwg</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">eww</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>
<span class="n">clear_output</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">eww</span><span class="o">.</span><span class="n">final_display</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "d973a77e29df42c38c0d3af1a86eb2cf"}
</script></div>
</div>
<p><strong>Reflection Questions</strong></p>
<ol class="simple">
<li><p>How well did you do?</p></li>
<li><p>What differences did you notice between evaluating weights based on 400 simulations versus one?</p></li>
</ol>
<details>
<summary>Answer</summary>
  The simulations take longer to run, but the feedback is more consistent. This is due to an important theorems in statistics called the Law of Large Numbers and the Central Limit Theorem. The Central Limit Theorem states that, for large sample sizes, the average (or mean) of the sample values will follow a normal distribution, centered around the true average of the entire population. Furthermore the variability (or spread) of these averages decreases as you increase the sample size. Specifically, the standard deviation of the sample mean distribution is close to the standard deviation of the population divided by the square root of the sample size. These means that with a sample size of 400 we expect the standard deviation in the feedback to be 20 times smaller than in the single simulation case.
</details>
<p>You may now be wondering if there are ways of choosing parameter weights that are less tedious than dialing them in by hand and looking at the feedback. You may even be imagining what they might be, and how to implement them. There are <em><strong>many</strong></em> ways of setting parameter values to improve an objective function and we are going to start implementing and thinking about some of the simplest and most foundational ones. We start with grid search.</p>
<p>Submit your feedback</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown Submit your feedback</span>
<span class="n">content_review</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">feedback_prefix</span><span class="si">}</span><span class="s2">_M1"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "ef2cba46085346c4a2d772fde38528f3"}
</script></div>
</div>
</div>
</div>
<div class="section" id="grid-search-parameter-tuning">
<h1>1.2.1.2 Grid Search Parameter Tuning<a class="headerlink" href="#grid-search-parameter-tuning" title="Permalink to this headline">¶</a></h1>
<p>Grid search is both simple and computationally intensive, and so is often referred to as a ‘Brute Force’ method. The basic idea, in our case, is to think of the parameters of the policy as sitting in a 48 dimensional, real valued, vector space (one for each element of the weights matrix). In math symbols this is <span class="math notranslate nohighlight">\(\theta \in \mathbb{R}^{48}\)</span>. We can make a grid over a plausible set of parameters in this vector space, and evaluate the performance of a policy with weights corresponding to each point on the grid. Grids of evenly spaced numbers in vector spaces of arbitrary dimension come up frequently in many applications, so there are nice libraries and functions to help us make such grids. Let’s start by only allowing parameters to be one of three values, <span class="math notranslate nohighlight">\(0\)</span>, <span class="math notranslate nohighlight">\(0.5\)</span>, or <span class="math notranslate nohighlight">\(1\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># numpy's linspace makes an array of evenly spaced points on a line,</span>
<span class="c1"># we need 48 of those</span>
<span class="n">dimensions</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">48</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"'dimensions' is a: "</span> <span class="o">+</span> <span class="nb">type</span><span class="p">(</span><span class="n">dimensions</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'It has a length of '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dimensions</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Each element of dimensions looks like:'</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">dimensions</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'dimensions' is a: list
It has a length of 48
Each element of dimensions looks like:
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0. , 0.5, 1. ])
</pre></div>
</div>
</div>
</div>
<p>Now let’s make a grid of all those dimensions to evaluate our policy at.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># numpy.meshgrid or itertools.product can be used to enumerate every possible</span>
<span class="c1"># combination of values in each of those parameter dimension.</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">grid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="o">*</span><span class="n">dimensions</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">'ij'</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Caught an error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'Caught an error: maximum supported dimension for an ndarray is 32, found 48'
</pre></div>
</div>
</div>
</div>
<p>This should throw an error. The reason that the meshgrid function is throwing an error is because we are asking it to make a grid with <span class="math notranslate nohighlight">\(3^{48} \approx 7.9766 \times 10^{22}\)</span> points in it. For context this is many orders of magnitude greater than the number of synapses in a human brain or the number of grains of sand on all the earth’s beaches. More directly relevant, this is also much larger than the maximum number of float64’s (<span class="math notranslate nohighlight">\(6.85 \times 10^9\)</span>) that could theoretically be stored in 51 GB of memory (The memory provision of a ‘High-Ram’ Colab instance circa September 2023). It is simply not feasible for us to iterate through all of those grid-points. We can reduce our problem to something more tractable by enforcing symmetry (though maybe the optimal strategy isn’t symmetric). Because Gridworld is symmetric and the organism is symmetric, it is plausible that a good weight strength between the ‘near right’ perceptive cell and the ‘right direction’ output neuron should be the same as the weight strength between the ‘near left’ perceptive cell and the ‘left direction’ output neuron, which should also be the same as between ‘near up’ and ‘up direction’ and the same as between ‘near down’ and ‘down direction’. Generalizing this thinking we can apply rotational symmetry to reduce the parameters by a factor of 4, down to 12 and then apply flip symmetries (e.g. down and up perceptions should be treated the same for purposes of deciding to move left or right) to further reduce from 12 parameters to 8. In contrast <span class="math notranslate nohighlight">\(3^8=6561\)</span> is not such a big number. This scale of grid easily fits in a (modern) computer’s memory, we can readily work with it.</p>
<hr class="docutils"/>
<div class="section" id="algo-box-how-big-is-too-big">
<h2>Algo Box: How Big is Too Big<a class="headerlink" href="#algo-box-how-big-is-too-big" title="Permalink to this headline">¶</a></h2>
<p>From a practical perspective when thinking about each of data set sizes, model sizes, and algorithm memory use three distinct order of magnitude categories should be considered.</p>
<ol class="simple">
<li><p>Fits in memory life is great.</p></li>
<li><p>Fits on disk but not on memory, need to use a database to manage input and output between disk and memory but life is okay.</p></li>
<li><p>Does not fit on disk, need to set up a cluster and coordinate computation between different hardware, life is complicated.</p></li>
</ol>
<hr class="docutils"/>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sym_dimensions</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="k">try</span><span class="p">:</span>
  <span class="c1"># Generate all possible combinations of symmetry parameters</span>
  <span class="n">param_combinations</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">sym_dimensions</span><span class="p">))</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Caught an error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Okay, now that we have a tractable set of parameters to iterate through, let’s implement grid search.</p>
</div>
<div class="section" id="coding-exercise-implement-grid-search">
<h2>Coding Exercise: Implement Grid Search<a class="headerlink" href="#coding-exercise-implement-grid-search" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">################################################################################</span>
<span class="c1"># TODO for students: Complete the lines with ...  to correctly map the symmetric</span>
<span class="c1"># parameters to the expanded weight matrix, and to update the best params and</span>
<span class="c1"># average score based on each evaluation of the params. Then comment out the</span>
<span class="c1"># line below.</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">"Exercise: implement symmetry, and param updates"</span><span class="p">)</span>
<span class="c1">################################################################################</span>

<span class="n">game</span> <span class="o">=</span> <span class="n">GridworldGame</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
                     <span class="n">num_critters</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_food</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                     <span class="n">rng</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">48</span><span class="p">))</span>
<span class="n">best_avg_score</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'-inf'</span><span class="p">)</span>
<span class="n">best_params</span> <span class="o">=</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">convert_symmetry_to_weights</span><span class="p">(</span><span class="n">symmetry_params</span><span class="p">):</span>
  <span class="c1"># Initialize the weight matrix with zeros</span>
  <span class="n">weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
  <span class="n">symmetry_indices</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'Up'</span><span class="p">:</span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
    <span class="s1">'Down'</span><span class="p">:</span>  <span class="p">[</span><span class="mi">7</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
    <span class="s1">'Left'</span><span class="p">:</span>  <span class="p">[</span><span class="mi">3</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
    <span class="s1">'Right'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">3</span><span class="p">]}</span>
  <span class="c1"># Use the symmetry indices to populate the 48-dimensional weight vector</span>
  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">direction</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s1">'Up'</span><span class="p">,</span> <span class="s1">'Down'</span><span class="p">,</span> <span class="s1">'Left'</span><span class="p">,</span> <span class="s1">'Right'</span><span class="p">]):</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">symmetry_indices</span><span class="p">[</span><span class="n">direction</span><span class="p">]):</span>
      <span class="n">weights</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="n">symmetry_params</span><span class="p">[</span><span class="o">...</span><span class="p">]</span>
  <span class="k">return</span> <span class="n">weights</span>

<span class="c1"># Loop through each combination</span>
<span class="k">for</span> <span class="n">params</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">param_combinations</span><span class="p">):</span>
  <span class="c1"># Convert symmetry parameters to the actual weights</span>
  <span class="n">weights</span> <span class="o">=</span> <span class="n">convert_symmetry_to_weights</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

  <span class="c1"># Run the game with the weights</span>
  <span class="n">boppp</span> <span class="o">=</span> <span class="n">BatchOptPerceptParamPlayer</span><span class="p">(</span><span class="n">game</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">final_board</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">play_game</span><span class="p">(</span><span class="n">players</span><span class="o">=</span><span class="p">[</span><span class="n">boppp</span><span class="p">],</span> <span class="n">visualize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

  <span class="c1"># Evaluate the score</span>
  <span class="n">scores</span> <span class="o">=</span> <span class="n">final_board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
  <span class="n">avg_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>

  <span class="c1"># Update best parameters if needed</span>
  <span class="k">if</span> <span class="n">avg_score</span> <span class="o">&gt;</span> <span class="o">...</span><span class="p">:</span>
    <span class="n">best_avg_score</span> <span class="o">=</span> <span class="o">...</span>
    <span class="n">best_params</span> <span class="o">=</span> <span class="o">...</span>

<span class="nb">print</span><span class="p">(</span><span class="n">best_params</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">best_avg_score</span><span class="p">)</span>
</pre></div>
</div>
</div>

</div>
<p><a class="reference external" href="https://github.com/dcownden/PerennialProblemsOfLifeWithABrain/tree/main//sequences/P1C2_OptimizationAndEnvironment/solutions/P1C2_Sequence1_Solution_1766ac16.py"><em>Click for solution</em></a></p>
<p>Even just considering three points per dimension and only evaluating each grid point using nine simulation runs, this looks like it is going to take about three minutes (on a default Colab instance circa September 2023). If we want to get a better result from this grid search approach we are going to have to both increase the resolution of the grid, and do a better evaluation of each grid point. Edit your solution and the grid definition cell above to increase the grid resolution to 5 points ranging from -1 to 1, and to evaluate each grid point with 25 simulations runs (hint edit batch_size). What does this do to the expected time to complete? This could take awhile so keep reading while you wait for this grid search to complete. You can also cancel the execution of this cell by clicking the square ‘stop’ symbol to the upper right of the code cell (Colab) or going to the <code class="docutils literal notranslate"><span class="pre">Runtime</span></code> drop-down and selecting <code class="docutils literal notranslate"><span class="pre">Interrupt</span> <span class="pre">execution</span></code>.</p>
</div>
<div class="section" id="algorithmic-thinking-exercise-curse-of-dimensionality-combinatorial-explosion-and-memory">
<h2>Algorithmic Thinking Exercise: Curse of Dimensionality, Combinatorial Explosion, and Memory<a class="headerlink" href="#algorithmic-thinking-exercise-curse-of-dimensionality-combinatorial-explosion-and-memory" title="Permalink to this headline">¶</a></h2>
<p>Although the grid search idea is simple, ‘evaluate all the possible options and pick the best one’, from a practical perspective it suffers from what is called the <strong>Curse of Dimensionality</strong>. When ‘all possible options’ are derived from a combination of parameters in different dimensions, even if we consider only a very small number of possible values in each dimension, the total number of combinations to be explored is the product of the number of parameters to be considered in each dimension. This number of all possible combinations can thus grow very quickly as the number of points per dimension increases, so much so, that it is often referred to as a <strong>combinatorial explosion</strong>. As a result, approaches to finding good parameters using grid search can only ever be effective if the number of dimensions being considered is very low (or if selecting parameters before the heat-death of the universe is not a concern).</p>
<p><strong>Memory Awareness Exercise</strong> Warning, save your work before trying this, you might also crash your local machine! If you are running this notebook in a Colab instance pop open the resources tab (its in the dropdown menue in the upper right, beside RAM and Disk) and watch what happens to System RAM when you run the code cell below. (If you’re running this notebook locally you can use ‘top’ or similar in a linux environment, or the task manager in windows). Next increase the number of points considered from <span class="math notranslate nohighlight">\(3\)</span> to <span class="math notranslate nohighlight">\(10\)</span>, and run the cell again, still observing the memory usage. This is the combinatorial explosion in action! What number do you need to go to crash your Colab instance (or start using swapon you local machine? Swap is when your computer runs out space in memory (RAM) and starts to use the disk as ‘fake’ RAM, which is usually an order of magnitude slower to read an write from, and will considerably slow most processes.).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sym_dimensions</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="k">try</span><span class="p">:</span>
  <span class="c1"># Generate all possible combinations of symmetry parameters</span>
  <span class="n">param_combinations</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">sym_dimensions</span><span class="p">))</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
  <span class="n">display</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Caught an error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Submit your feedback</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown Submit your feedback</span>
<span class="n">content_review</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">feedback_prefix</span><span class="si">}</span><span class="s2">_M2"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "39d4ed2f0d34414ca3afe5cb3f46be5d"}
</script></div>
</div>
</div>
</div>
<div class="section" id="propose-accept-reject-parameter-tuning">
<h1>1.2.1.3 Propose-Accept-Reject Parameter Tuning<a class="headerlink" href="#propose-accept-reject-parameter-tuning" title="Permalink to this headline">¶</a></h1>
<p>This scaling issue with grid search motivates us to come up with a parameter selection process that does not depend on iterating through an excessively long list of possible values. So, instead of laboriously iterating through a vast array of combinations, we’ll ‘test’ parameter combinations (one at a time) that are close to the best known set of parameter values. If these proposed test parameters outperform relative to the current best parameters they are ‘accepted’ and become the new best parameters. If the test parameters underperform relative to the current best parameters they are ‘rejected’ and forgotten. After some fixed number of tests are rejected in a row we will say that the process has ‘converged’. Let’s make this.</p>
<div class="section" id="coding-exercise-implement-propose-accept-reject">
<h2>Coding Exercise: Implement Propose-Accept-Reject<a class="headerlink" href="#coding-exercise-implement-propose-accept-reject" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">################################################################################</span>
<span class="c1"># TODO for students: Complete the lines with ...  to set the stopping criterion</span>
<span class="c1"># for the while loop, and to update the best params and average score based on</span>
<span class="c1"># each evaluation of the params. Then comment out the line below.</span>
<span class="c1"># This optimization may take some a few minutes to complete.</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">"Exercise: implement stopping criteria and param updates"</span><span class="p">)</span>
<span class="c1">################################################################################</span>

<span class="k">def</span> <span class="nf">propose_and_test</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">high_batch_size</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
                     <span class="n">max_rejected</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                     <span class="n">step_scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                     <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

  <span class="n">game</span> <span class="o">=</span> <span class="n">GridworldGame</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
                       <span class="n">num_critters</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_food</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                       <span class="n">rng</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">48</span><span class="p">))</span>
  <span class="n">high_batch_game</span> <span class="o">=</span> <span class="n">GridworldGame</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="n">high_batch_size</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">n_cols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
                                  <span class="n">num_critters</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_food</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                                  <span class="n">rng</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">48</span><span class="p">))</span>
  <span class="c1"># Initialize parameters</span>
  <span class="n">initial_params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
  <span class="n">best_params</span> <span class="o">=</span> <span class="n">initial_params</span>
  <span class="n">best_avg_score</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'-inf'</span><span class="p">)</span>
  <span class="n">rejected_count</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">total_tests</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Number of iterations</span>
  <span class="n">std_dev</span> <span class="o">=</span> <span class="n">step_scale</span>  <span class="c1"># Standard deviation for Gaussian proposal</span>

  <span class="c1"># Propose-and-test loop</span>
  <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
  <span class="k">while</span> <span class="n">rejected_count</span> <span class="o">&lt;</span> <span class="o">...</span><span class="p">:</span>
    <span class="c1"># Propose new parameters: sample from Gaussian centered at best_params</span>
    <span class="n">delta_params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">std_dev</span><span class="p">,</span> <span class="n">best_params</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">proposal_params</span> <span class="o">=</span> <span class="n">best_params</span> <span class="o">+</span> <span class="n">delta_params</span>
    <span class="c1"># Convert symmetry parameters to actual weights</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="n">convert_symmetry_to_weights</span><span class="p">(</span><span class="n">proposal_params</span><span class="p">)</span>
    <span class="c1"># Run the game with the proposed weights</span>
    <span class="n">boppp</span> <span class="o">=</span> <span class="n">BatchOptPerceptParamPlayer</span><span class="p">(</span><span class="n">game</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">final_board</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">play_game</span><span class="p">(</span><span class="n">players</span><span class="o">=</span><span class="p">[</span><span class="n">boppp</span><span class="p">],</span> <span class="n">visualize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># Evaluate the score</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">final_board</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">avg_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>

    <span class="c1"># If a promising candidate is found, validate it with a high batch size evaluation</span>
    <span class="k">if</span> <span class="n">avg_score</span> <span class="o">&gt;</span> <span class="n">best_avg_score</span><span class="p">:</span>
      <span class="n">boppp_high_batch</span> <span class="o">=</span> <span class="n">BatchOptPerceptParamPlayer</span><span class="p">(</span><span class="n">high_batch_game</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
      <span class="n">final_board_high_batch</span> <span class="o">=</span> <span class="n">high_batch_game</span><span class="o">.</span><span class="n">play_game</span><span class="p">(</span><span class="n">players</span><span class="o">=</span><span class="p">[</span><span class="n">boppp_high_batch</span><span class="p">],</span> <span class="n">visualize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
      <span class="n">scores_high_batch</span> <span class="o">=</span> <span class="n">final_board_high_batch</span><span class="p">[</span><span class="s1">'scores'</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
      <span class="n">avg_score_high_batch</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores_high_batch</span><span class="p">)</span>
      <span class="c1"># Only update best parameters if the candidate also performs well in the</span>
      <span class="c1"># high batch size evaluation to avoid choosing parameters based on 'luck'</span>
      <span class="c1"># i.e. from a really exceptional batch of simulations</span>
      <span class="k">if</span> <span class="n">avg_score_high_batch</span> <span class="o">&gt;</span> <span class="o">...</span><span class="p">:</span>
        <span class="n">best_avg_score</span> <span class="o">=</span> <span class="o">...</span>
        <span class="n">best_params</span> <span class="o">=</span> <span class="o">...</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
          <span class="c1">#print('best params so far:')</span>
          <span class="c1">#display(best_params)</span>
          <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Best score so far: </span><span class="si">{</span><span class="n">best_avg_score</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
          <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Found after </span><span class="si">{</span><span class="n">rejected_count</span><span class="si">}</span><span class="s2"> tests"</span><span class="p">)</span>
        <span class="n">rejected_count</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">rejected_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">rejected_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">total_tests</span> <span class="o">+=</span><span class="mi">1</span>
  <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
  <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>

  <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
    <span class="c1"># Print the best found parameters and score</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Best Parameters:"</span><span class="p">,</span> <span class="n">best_params</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Best Average Score:"</span><span class="p">,</span> <span class="n">best_avg_score</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Parameter combinations tested:"</span><span class="p">,</span> <span class="n">total_tests</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Time taken for the optimization loop: </span><span class="si">{</span><span class="n">elapsed_time</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds"</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">best_params</span><span class="p">,</span> <span class="n">best_avg_score</span>

<span class="n">best_params</span><span class="p">,</span> <span class="n">best_avg_score</span> <span class="o">=</span> <span class="n">propose_and_test</span><span class="p">()</span>
</pre></div>
</div>
</div>

</div>
<p><a class="reference external" href="https://github.com/dcownden/PerennialProblemsOfLifeWithABrain/tree/main//sequences/P1C2_OptimizationAndEnvironment/solutions/P1C2_Sequence1_Solution_b7d3d820.py"><em>Click for solution</em></a></p>
<p>Okay that took less time than grid search and delivered a way better result. Now that we have this optimization process in place we can play with and think a bit about the ‘hyperparameters’ of the optimization process, i.e. the <em>parameters of the process</em> that we use to select the <em>parameters for our policy</em>.</p>
</div>
<div class="section" id="algo-thinking-exercise-propose-accept-reject-hyperparameters">
<h2>Algo Thinking Exercise: Propose-Accept-Reject Hyperparameters<a class="headerlink" href="#algo-thinking-exercise-propose-accept-reject-hyperparameters" title="Permalink to this headline">¶</a></h2>
<p>Run the code cells below. In each cell the values assigned to <code class="docutils literal notranslate"><span class="pre">max_rejected</span></code> or <code class="docutils literal notranslate"><span class="pre">step_scale</span></code> have been changed from the defaults above. As these cells execute, consider:</p>
<ol class="simple">
<li><p>What will happen when <code class="docutils literal notranslate"><span class="pre">max_rejected</span></code> is very low?</p></li>
<li><p>How will a very small or a very large <code class="docutils literal notranslate"><span class="pre">step_scale</span></code> affect results?</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">best_params</span><span class="p">,</span> <span class="n">best_avg_score</span> <span class="o">=</span> <span class="n">propose_and_test</span><span class="p">(</span><span class="n">max_rejected</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>

</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">best_params</span><span class="p">,</span> <span class="n">best_avg_score</span> <span class="o">=</span> <span class="n">propose_and_test</span><span class="p">(</span><span class="n">step_scale</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">max_rejected</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>

</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">best_params</span><span class="p">,</span> <span class="n">best_avg_score</span> <span class="o">=</span> <span class="n">propose_and_test</span><span class="p">(</span><span class="n">step_scale</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">max_rejected</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>

</div>
<p><strong>Answers:</strong></p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">max_rejected</span></code> determines how persistent the algorithm is in testing for better parameters before ‘giving up’ and accepting an answer. If <code class="docutils literal notranslate"><span class="pre">max_rejected</span></code> is too high the algorithm will take additional time to stop. On the other hand if <code class="docutils literal notranslate"><span class="pre">max_rejected</span></code> is too low, the algorithm might not search adequately for improvements and could stop prematurely, settling for a suboptimal solution.</p></li>
<li><p>The value of step_scale influences the speed of convergence towards optimal parameters. If it’s too small, the algorithm will inch towards a solution very slowly. Additionally, if the evaluation function is stochastic then the inherent variation in the evaluation function will overwhelm any changes in performance due to very small parameter changes, which will make improvement impossible. An excessively large step_scale can make the method act like it’s randomly sampling the parameter space since the guidance from the current best parameters becomes less relevant. A large <code class="docutils literal notranslate"><span class="pre">step_scale</span></code> is less of an issue in this context since the soft-max normalization means that good solutions are possible at many different scales of parameters, i.e. the relative proportions of the weights far more important than the order of magnitude of the weights.</p></li>
</ol>
<p>In this particular problem, we observed that setting <code class="docutils literal notranslate"><span class="pre">max_rejected</span></code> too low can lead to catastrophic failure, i.e., a good solution is never found. In contrast, setting <code class="docutils literal notranslate"><span class="pre">max_rejected</span></code> too high primarily results in taking longer to identify a solution. So, in this kind of problem, it’s better err on the side of setting <code class="docutils literal notranslate"><span class="pre">max_rejected</span></code> too high. Similarly, we can see that setting <code class="docutils literal notranslate"><span class="pre">step_scale</span></code> too small can lead to failure. This could be because the stochasticity of the feedback function is overwhelming the signal from parameter changes, or because the process is caught in a local minima, and small step sizes do not allow it to escape. On the other hand, due to softmax normalization, setting high <code class="docutils literal notranslate"><span class="pre">step_scale</span></code> values doesn’t seem too problematic, though with very large step sizes it may be difficult to really ‘dial in’ a good solution, i.e. the parameters will be close to optimal but unable to settle in on a precise peak due to the large step scale. Therefore, in a problem like this, where the parameter scale can roughly adapt to the step scale, it’s better to err on the side of setting <code class="docutils literal notranslate"><span class="pre">step_scale</span></code> higher.</p>
<p>Submit your feedback</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown Submit your feedback</span>
<span class="n">content_review</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">feedback_prefix</span><span class="si">}</span><span class="s2">_M3"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "509da3a28a5e448d8cdb7670517f13cb"}
</script></div>
</div>
</div>
</div>
<div class="section" id="reflections-on-symmetry">
<h1>1.2.1.4 Reflections on Symmetry<a class="headerlink" href="#reflections-on-symmetry" title="Permalink to this headline">¶</a></h1>
<p>In this sequence, symmetry emerged as a powerful tool for reducing the complexity of our problem. Evolutionary processes are also able to take advantage of symmetry. Many organisms, such as humans and most other vertebrates, exhibit bilateral symmetry, where one half of an organism (roughly) mirrors the other. Plants, too, display varied symmetries, from the radial symmetry of flowers to the repetitive patterns of leaves and branches. However, within these symmetrical development regimes, localized adaptivity breaks perfect symmetry. Take an oak tree, for instance. Each leaf follows the same developmental program encoded in its DNA. Yet, due to local conditions such as sunlight, moisture, and space, some leaves grow large, while others remain small. The developmental program for each leaf might be identical, but diverse outcomes can still arise from localized conditions.</p>
<p>This widespread symmetry in morphology is possible because cell structures in distal parts of the body can be intrinsically ‘linked’ by executing the same (or similar) developmental programs encoded in identical copies of DNA. Yet, just as with oak tree leaves, localized conditions and adaptions can lead to deviations from symmetry. As another example consider a person doing bicep curls with just one arm - over time, one arm becomes more muscular, breaking the bilateral symmetry typical in human bodies.</p>
<p>In neural systems, the applicability of symmetry is even more nuanced. On the surface, mammalian nervous systems, with their two brain hemispheres, might suggest that symmetry also governs neural systems. But, beyond the macro morphology and into the functional intricacies of the brain, the symmetry appears to break down. At a functional level, neural structures arise not just from pre-programmed ontogenetic processes but also—and often predominantly—from adaptive learning processes. These learning processes, dynamic adaptive adjustments in synaptic connections made in response to experience and environmental inputs, are inherently localized. Consider, does mastering writing with the right hand automatically confer equal proficiency to the left? Not really. Yet, does this deviation from symmetry imply its complete absence? Not quite. While the neural structures in the motor cortex governing the left and right hands will have followed different learning trajectories, the rules of neural plasticity guiding these trajectories are likely consistent. So, at this level of neural functionality, while we may not see direct physiological symmetry, shared plasticity rules between structures can be thought of as another, albeit more abstract, form of symmetry.</p>
<p>This concludes our introductory sequence on optimization. We learned about a few very basic optimization methods, and saw that while grid search was not powerful enough to solve our problem, a simple propose and test method was. We also looked into the importance of hyper-parameters in optimization processes. In the next sequence we will see just how robust this propose and test method is, looking at how it can be used to optimize a policy (behaviour) across of variety of environments, each with its own challenges.</p>
<p>Submit your feedback</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown Submit your feedback</span>
<span class="n">content_review</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">feedback_prefix</span><span class="si">}</span><span class="s2">_M4"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "825fda118a344ae8ae64735b130f67f6"}
</script></div>
</div>
</div>
<div class="section" id="quiz">
<h1>Quiz<a class="headerlink" href="#quiz" title="Permalink to this headline">¶</a></h1>
<p><strong>Run this cell</strong> to take the quiz</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @markdown **Run this cell** to take the quiz</span>
<span class="n">comprehension_quiz</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="s2">"question"</span><span class="p">:</span> <span class="s2">"Which of the following best describes the term 'combinatorial explosion'?"</span><span class="p">,</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"multiple_choice"</span><span class="p">,</span>
   <span class="s2">"answers"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"The rapid growth of combinations when considering multiple parameters, often making brute-force searches infeasible."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"Correct! The number of combinations grows exponentially with each added parameter."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"An unexpected surge in the number of possible combinations due to a system error."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. The increase is expected, not due to an error."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"The explosion of data points in a database due to redundant entries."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. This is not the primary meaning of combinatorial explosion."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"The branching out of possibilities in a decision tree."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. While decision trees can grow, this is not what's meant by combinatorial explosion."</span><span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span><span class="s2">"question"</span><span class="p">:</span> <span class="s2">"When conducting a larger number of simulation runs, which of the following statements is true in the context of the Central Limit Theorem and the Law of Large Numbers?"</span><span class="p">,</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"multiple_choice"</span><span class="p">,</span>
   <span class="s2">"answers"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"The sample mean will diverge from the expected value of the random variable."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. The law ensures convergence, not divergence."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"Only the Central Limit Theorem assures that the sample mean will be closer to the expected value."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. Both the CLT and LLN play roles in this context."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"The distribution of the sample mean will be normally distributed regardless of the original distribution, and as the sample size increases, the sample mean will get closer to the expected value."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"Correct! This captures the essence of both the Central Limit Theorem and the Law of Large Numbers."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"The Law of Large Numbers and the Central Limit Theorem both state that larger samples guarantee a narrower distribution."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. Only the CLT speaks about the distribution's shape; LLN focuses on the convergence of the sample mean."</span><span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span><span class="s2">"question"</span><span class="p">:</span> <span class="s2">"Which statement best describes the role of symmetry in neural systems compared to morphological structures?"</span><span class="p">,</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"multiple_choice"</span><span class="p">,</span>
   <span class="s2">"answers"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"Both morphological and neural systems in organisms are governed by perfect bilateral symmetry."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. While morphological systems often display symmetry, neural systems have more nuanced symmetry."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"While morphological structures like body shape often exhibit symmetry due to identical DNA instructions, neural systems show localized adaptivity and learning, making their symmetry more nuanced."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"Correct! Neural systems have functional adaptivity based on learning and environment."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"Neural systems are always symmetric, and any deviation from symmetry indicates a neural malfunction."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. Neural systems can deviate from perfect symmetry based on learning and localized adaptivity."</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">"answer"</span><span class="p">:</span> <span class="s2">"Symmetry in neural systems is only a byproduct of the symmetry seen in morphological structures."</span><span class="p">,</span>
       <span class="s2">"correct"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
       <span class="s2">"feedback"</span><span class="p">:</span> <span class="s2">"False. Symmetry in neural systems, while influenced by morphology, has its own complexities due to learning and adaptivity."</span><span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">display_quiz</span><span class="p">(</span><span class="n">comprehension_quiz</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div data-maxwidth="600" data-numquestions="1000000" data-preserveresponses="false" data-shuffleanswers="True" data-shufflequestions="False" id="zOIrpOcCEKeu" style="border-radius: 10px; text-align: left"> <style>
#zOIrpOcCEKeu {
   --jq-multiple-choice-bg: #6f78ffff;
   --jq-mc-button-bg: #fafafa;
   --jq-mc-button-border: #e0e0e0e0;
   --jq-mc-button-inset-shadow: #555555;
   --jq-many-choice-bg: #f75c03ff;
   --jq-numeric-bg: #392061ff;
   --jq-numeric-input-bg: #c0c0c0;
   --jq-numeric-input-label: #101010;
   --jq-numeric-input-shadow: #999999;
   --jq-incorrect-color: #c80202;
   --jq-correct-color: #009113;
   --jq-text-color: #fafafa;
}

.Quiz {
    max-width: 600px;
    margin-top: 15px;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 15px;
    padding-bottom: 4px;
    padding-top: 4px;
    line-height: 1.1;
    font-size: 16pt;
    border-radius: inherit;
}

.QuizCode {
    font-size: 14pt;
    margin-top: 10px;
    margin-left: 20px;
    margin-right: 20px;
}

.QuizCode>pre {
    padding: 4px;
}

.Answer {
    margin: 10px 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-gap: 10px;
    border-radius: inherit;
}

.Feedback {
    font-size: 16pt;
    text-align: center;
    min-height: 2em;
}

.Input {
    align: left;
    font-size: 20pt;
}

.Input-text {
    display: block;
    margin: 10px;
    color: inherit;
    width: 140px;
    background-color: var(--jq-numeric-input-bg);
    color: var(--jq-text-color);
    padding: 5px;
    padding-left: 10px;
    font-family: inherit;
    font-size: 20px;
    font-weight: inherit;
    line-height: 20pt;
    border: none;
    border-radius: 0.2rem;
    transition: box-shadow 0.1s);
}

.Input-text:focus {
    outline: none;
    background-color: var(--jq-numeric-input-bg);
    box-shadow: 0.6rem 0.8rem 1.4rem -0.5rem var(--jq-numeric-input-shadow);
}

.MCButton {
    background: var(--jq-mc-button-bg);
    border: 1px solid var(--jq-mc-button-border);
    border-radius: inherit;
    padding: 10px;
    font-size: 16px;
    cursor: pointer;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
}

.MCButton p {
    color: inherit;
}

.MultipleChoiceQn {
    padding: 10px;
    background: var(--jq-multiple-choice-bg);
    color: var(--jq-text-color);
    border-radius: inherit;
}

.ManyChoiceQn {
    padding: 10px;
    background: var(--jq-many-choice-bg);
    color: var(--jq-text-color);
    border-radius: inherit;
}

.NumericQn {
    padding: 10px;
    background: var(--jq-numeric-bg);
    color: var(--jq-text-color);
    border-radius: inherit;
}

.NumericQn p {
    color: inherit;
}

.InpLabel {
    line-height: 34px;
    float: left;
    margin-right: 10px;
    color: var(--jq-numeric-input-label);
    font-size: 15pt;
}

.incorrect {
    color: var(--jq-incorrect-color);
}

.correct {
    color: var(--jq-correct-color);
}

.correctButton {
    /*
    background: var(--jq-correct-color);
   */
    animation: correct-anim 0.6s ease;
    animation-fill-mode: forwards;
    color: var(--jq-text-color);
    box-shadow: inset 0px 0px 5px var(--jq-mc-button-inset-shadow);
    outline: none;
}

.incorrectButton {
    animation: incorrect-anim 0.8s ease;
    animation-fill-mode: forwards;
    color: var(--jq-text-color);
    box-shadow: inset 0px 0px 5px var(--jq-mc-button-inset-shadow);
    outline: none;
}

@keyframes incorrect-anim {
    100% {
        background-color: var(--jq-incorrect-color);
    }
}

@keyframes correct-anim {
    100% {
        background-color: var(--jq-correct-color);
    }
}
</style></div><script type="application/javascript">var questionszOIrpOcCEKeu=[{"question": "Which of the following best describes the term 'combinatorial explosion'?", "type": "multiple_choice", "answers": [{"answer": "The rapid growth of combinations when considering multiple parameters, often making brute-force searches infeasible.", "correct": true, "feedback": "Correct! The number of combinations grows exponentially with each added parameter."}, {"answer": "An unexpected surge in the number of possible combinations due to a system error.", "correct": false, "feedback": "False. The increase is expected, not due to an error."}, {"answer": "The explosion of data points in a database due to redundant entries.", "correct": false, "feedback": "False. This is not the primary meaning of combinatorial explosion."}, {"answer": "The branching out of possibilities in a decision tree.", "correct": false, "feedback": "False. While decision trees can grow, this is not what's meant by combinatorial explosion."}]}, {"question": "When conducting a larger number of simulation runs, which of the following statements is true in the context of the Central Limit Theorem and the Law of Large Numbers?", "type": "multiple_choice", "answers": [{"answer": "The sample mean will diverge from the expected value of the random variable.", "correct": false, "feedback": "False. The law ensures convergence, not divergence."}, {"answer": "Only the Central Limit Theorem assures that the sample mean will be closer to the expected value.", "correct": false, "feedback": "False. Both the CLT and LLN play roles in this context."}, {"answer": "The distribution of the sample mean will be normally distributed regardless of the original distribution, and as the sample size increases, the sample mean will get closer to the expected value.", "correct": true, "feedback": "Correct! This captures the essence of both the Central Limit Theorem and the Law of Large Numbers."}, {"answer": "The Law of Large Numbers and the Central Limit Theorem both state that larger samples guarantee a narrower distribution.", "correct": false, "feedback": "False. Only the CLT speaks about the distribution's shape; LLN focuses on the convergence of the sample mean."}]}, {"question": "Which statement best describes the role of symmetry in neural systems compared to morphological structures?", "type": "multiple_choice", "answers": [{"answer": "Both morphological and neural systems in organisms are governed by perfect bilateral symmetry.", "correct": false, "feedback": "False. While morphological systems often display symmetry, neural systems have more nuanced symmetry."}, {"answer": "While morphological structures like body shape often exhibit symmetry due to identical DNA instructions, neural systems show localized adaptivity and learning, making their symmetry more nuanced.", "correct": true, "feedback": "Correct! Neural systems have functional adaptivity based on learning and environment."}, {"answer": "Neural systems are always symmetric, and any deviation from symmetry indicates a neural malfunction.", "correct": false, "feedback": "False. Neural systems can deviate from perfect symmetry based on learning and localized adaptivity."}, {"answer": "Symmetry in neural systems is only a byproduct of the symmetry seen in morphological structures.", "correct": false, "feedback": "False. Symmetry in neural systems, while influenced by morphology, has its own complexities due to learning and adaptivity."}]}];
    // Make a random ID
function makeid(length) {
    var result = [];
    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
    var charactersLength = characters.length;
    for (var i = 0; i < length; i++) {
        result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));
    }
    return result.join('');
}

// Choose a random subset of an array. Can also be used to shuffle the array
function getRandomSubarray(arr, size) {
    var shuffled = arr.slice(0), i = arr.length, temp, index;
    while (i--) {
        index = Math.floor((i + 1) * Math.random());
        temp = shuffled[index];
        shuffled[index] = shuffled[i];
        shuffled[i] = temp;
    }
    return shuffled.slice(0, size);
}

function printResponses(responsesContainer) {
    var responses=JSON.parse(responsesContainer.dataset.responses);
    var stringResponses='<B>IMPORTANT!</B>To preserve this answer sequence for submission, when you have finalized your answers: <ol> <li> Copy the text in this cell below "Answer String"</li> <li> Double click on the cell directly below the Answer String, labeled "Replace Me"</li> <li> Select the whole "Replace Me" text</li> <li> Paste in your answer string and press shift-Enter.</li><li>Save the notebook using the save icon or File->Save Notebook menu item</li></ul><br><br><br><b>Answer String:</b><br> ';
    console.log(responses);
    responses.forEach((response, index) => {
        if (response) {
            console.log(index + ': ' + response);
            stringResponses+= index + ': ' + response +"<BR>";
        }
    });
    responsesContainer.innerHTML=stringResponses;
}
function check_mc() {
    var id = this.id.split('-')[0];
    //var response = this.id.split('-')[1];
    //console.log(response);
    //console.log("In check_mc(), id="+id);
    //console.log(event.srcElement.id)           
    //console.log(event.srcElement.dataset.correct)   
    //console.log(event.srcElement.dataset.feedback)

    var label = event.srcElement;
    //console.log(label, label.nodeName);
    var depth = 0;
    while ((label.nodeName != "LABEL") && (depth < 20)) {
        label = label.parentElement;
        console.log(depth, label);
        depth++;
    }



    var answers = label.parentElement.children;

    //console.log(answers);


    // Split behavior based on multiple choice vs many choice:
    var fb = document.getElementById("fb" + id);




    if (fb.dataset.numcorrect == 1) {
        // What follows is for the saved responses stuff
        var outerContainer = fb.parentElement.parentElement;
        var responsesContainer = document.getElementById("responses" + outerContainer.id);
        if (responsesContainer) {
            //console.log(responsesContainer);
            var response = label.firstChild.innerText;
            if (label.querySelector(".QuizCode")){
                response+= label.querySelector(".QuizCode").firstChild.innerText;
            }
            console.log(response);
            //console.log(document.getElementById("quizWrap"+id));
            var qnum = document.getElementById("quizWrap"+id).dataset.qnum;
            console.log("Question " + qnum);
            //console.log(id, ", got numcorrect=",fb.dataset.numcorrect);
            var responses=JSON.parse(responsesContainer.dataset.responses);
            console.log(responses);
            responses[qnum]= response;
            responsesContainer.setAttribute('data-responses', JSON.stringify(responses));
            printResponses(responsesContainer);
        }
        // End code to preserve responses
        
        for (var i = 0; i < answers.length; i++) {
            var child = answers[i];
            //console.log(child);
            child.className = "MCButton";
        }



        if (label.dataset.correct == "true") {
            // console.log("Correct action");
            if ("feedback" in label.dataset) {
                fb.textContent = jaxify(label.dataset.feedback);
            } else {
                fb.textContent = "Correct!";
            }
            label.classList.add("correctButton");

            fb.className = "Feedback";
            fb.classList.add("correct");

        } else {
            if ("feedback" in label.dataset) {
                fb.textContent = jaxify(label.dataset.feedback);
            } else {
                fb.textContent = "Incorrect -- try again.";
            }
            //console.log("Error action");
            label.classList.add("incorrectButton");
            fb.className = "Feedback";
            fb.classList.add("incorrect");
        }
    }
    else {
        var reset = false;
        var feedback;
         if (label.dataset.correct == "true") {
            if ("feedback" in label.dataset) {
                feedback = jaxify(label.dataset.feedback);
            } else {
                feedback = "Correct!";
            }
            if (label.dataset.answered <= 0) {
                if (fb.dataset.answeredcorrect < 0) {
                    fb.dataset.answeredcorrect = 1;
                    reset = true;
                } else {
                    fb.dataset.answeredcorrect++;
                }
                if (reset) {
                    for (var i = 0; i < answers.length; i++) {
                        var child = answers[i];
                        child.className = "MCButton";
                        child.dataset.answered = 0;
                    }
                }
                label.classList.add("correctButton");
                label.dataset.answered = 1;
                fb.className = "Feedback";
                fb.classList.add("correct");

            }
        } else {
            if ("feedback" in label.dataset) {
                feedback = jaxify(label.dataset.feedback);
            } else {
                feedback = "Incorrect -- try again.";
            }
            if (fb.dataset.answeredcorrect > 0) {
                fb.dataset.answeredcorrect = -1;
                reset = true;
            } else {
                fb.dataset.answeredcorrect--;
            }

            if (reset) {
                for (var i = 0; i < answers.length; i++) {
                    var child = answers[i];
                    child.className = "MCButton";
                    child.dataset.answered = 0;
                }
            }
            label.classList.add("incorrectButton");
            fb.className = "Feedback";
            fb.classList.add("incorrect");
        }
        // What follows is for the saved responses stuff
        var outerContainer = fb.parentElement.parentElement;
        var responsesContainer = document.getElementById("responses" + outerContainer.id);
        if (responsesContainer) {
            //console.log(responsesContainer);
            var response = label.firstChild.innerText;
            if (label.querySelector(".QuizCode")){
                response+= label.querySelector(".QuizCode").firstChild.innerText;
            }
            console.log(response);
            //console.log(document.getElementById("quizWrap"+id));
            var qnum = document.getElementById("quizWrap"+id).dataset.qnum;
            console.log("Question " + qnum);
            //console.log(id, ", got numcorrect=",fb.dataset.numcorrect);
            var responses=JSON.parse(responsesContainer.dataset.responses);
            if (label.dataset.correct == "true") {
                if (typeof(responses[qnum]) == "object"){
                    if (!responses[qnum].includes(response))
                        responses[qnum].push(response);
                } else{
                    responses[qnum]= [ response ];
                }
            } else {
                responses[qnum]= response;
            }
            console.log(responses);
            responsesContainer.setAttribute('data-responses', JSON.stringify(responses));
            printResponses(responsesContainer);
        }
        // End save responses stuff



        var numcorrect = fb.dataset.numcorrect;
        var answeredcorrect = fb.dataset.answeredcorrect;
        if (answeredcorrect >= 0) {
            fb.textContent = feedback + " [" + answeredcorrect + "/" + numcorrect + "]";
        } else {
            fb.textContent = feedback + " [" + 0 + "/" + numcorrect + "]";
        }


    }

    if (typeof MathJax != 'undefined') {
        var version = MathJax.version;
        console.log('MathJax version', version);
        if (version[0] == "2") {
            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        } else if (version[0] == "3") {
            MathJax.typeset([fb]);
        }
    } else {
        console.log('MathJax not detected');
    }

}

function make_mc(qa, shuffle_answers, outerqDiv, qDiv, aDiv, id) {
    var shuffled;
    if (shuffle_answers == "True") {
        //console.log(shuffle_answers+" read as true");
        shuffled = getRandomSubarray(qa.answers, qa.answers.length);
    } else {
        //console.log(shuffle_answers+" read as false");
        shuffled = qa.answers;
    }


    var num_correct = 0;



    shuffled.forEach((item, index, ans_array) => {
        //console.log(answer);

        // Make input element
        var inp = document.createElement("input");
        inp.type = "radio";
        inp.id = "quizo" + id + index;
        inp.style = "display:none;";
        aDiv.append(inp);

        //Make label for input element
        var lab = document.createElement("label");
        lab.className = "MCButton";
        lab.id = id + '-' + index;
        lab.onclick = check_mc;
        var aSpan = document.createElement('span');
        aSpan.classsName = "";
        //qDiv.id="quizQn"+id+index;
        if ("answer" in item) {
            aSpan.innerHTML = jaxify(item.answer);
            //aSpan.innerHTML=item.answer;
        }
        lab.append(aSpan);

        // Create div for code inside question
        var codeSpan;
        if ("code" in item) {
            codeSpan = document.createElement('span');
            codeSpan.id = "code" + id + index;
            codeSpan.className = "QuizCode";
            var codePre = document.createElement('pre');
            codeSpan.append(codePre);
            var codeCode = document.createElement('code');
            codePre.append(codeCode);
            codeCode.innerHTML = item.code;
            lab.append(codeSpan);
            //console.log(codeSpan);
        }

        //lab.textContent=item.answer;

        // Set the data attributes for the answer
        lab.setAttribute('data-correct', item.correct);
        if (item.correct) {
            num_correct++;
        }
        if ("feedback" in item) {
            lab.setAttribute('data-feedback', item.feedback);
        }
        lab.setAttribute('data-answered', 0);

        aDiv.append(lab);

    });

    if (num_correct > 1) {
        outerqDiv.className = "ManyChoiceQn";
    } else {
        outerqDiv.className = "MultipleChoiceQn";
    }

    return num_correct;

}
function check_numeric(ths, event) {

    if (event.keyCode === 13) {
        ths.blur();

        var id = ths.id.split('-')[0];

        var submission = ths.value;
        if (submission.indexOf('/') != -1) {
            var sub_parts = submission.split('/');
            //console.log(sub_parts);
            submission = sub_parts[0] / sub_parts[1];
        }
        //console.log("Reader entered", submission);

        if ("precision" in ths.dataset) {
            var precision = ths.dataset.precision;
            // console.log("1:", submission)
            submission = Math.round((1 * submission + Number.EPSILON) * 10 ** precision) / 10 ** precision;
            // console.log("Rounded to ", submission, " precision=", precision  );
        }


        //console.log("In check_numeric(), id="+id);
        //console.log(event.srcElement.id)           
        //console.log(event.srcElement.dataset.feedback)

        var fb = document.getElementById("fb" + id);
        fb.style.display = "none";
        fb.textContent = "Incorrect -- try again.";

        var answers = JSON.parse(ths.dataset.answers);
        //console.log(answers);

        var defaultFB = "";
        var correct;
        var done = false;
        answers.every(answer => {
            //console.log(answer.type);

            correct = false;
            // if (answer.type=="value"){
            if ('value' in answer) {
                if (submission == answer.value) {
                    if ("feedback" in answer) {
                        fb.textContent = jaxify(answer.feedback);
                    } else {
                        fb.textContent = jaxify("Correct");
                    }
                    correct = answer.correct;
                    //console.log(answer.correct);
                    done = true;
                }
                // } else if (answer.type=="range") {
            } else if ('range' in answer) {
                //console.log(answer.range);
                if ((submission >= answer.range[0]) && (submission < answer.range[1])) {
                    fb.textContent = jaxify(answer.feedback);
                    correct = answer.correct;
                    //console.log(answer.correct);
                    done = true;
                }
            } else if (answer.type == "default") {
                defaultFB = answer.feedback;
            }
            if (done) {
                return false; // Break out of loop if this has been marked correct
            } else {
                return true; // Keep looking for case that includes this as a correct answer
            }
        });

        if ((!done) && (defaultFB != "")) {
            fb.innerHTML = jaxify(defaultFB);
            //console.log("Default feedback", defaultFB);
        }

        fb.style.display = "block";
        if (correct) {
            ths.className = "Input-text";
            ths.classList.add("correctButton");
            fb.className = "Feedback";
            fb.classList.add("correct");
        } else {
            ths.className = "Input-text";
            ths.classList.add("incorrectButton");
            fb.className = "Feedback";
            fb.classList.add("incorrect");
        }

        // What follows is for the saved responses stuff
        var outerContainer = fb.parentElement.parentElement;
        var responsesContainer = document.getElementById("responses" + outerContainer.id);
        if (responsesContainer) {
            console.log(submission);
            var qnum = document.getElementById("quizWrap"+id).dataset.qnum;
            //console.log("Question " + qnum);
            //console.log(id, ", got numcorrect=",fb.dataset.numcorrect);
            var responses=JSON.parse(responsesContainer.dataset.responses);
            console.log(responses);
            if (submission == ths.value){
                responses[qnum]= submission;
            } else {
                responses[qnum]= ths.value + "(" + submission +")";
            }
            responsesContainer.setAttribute('data-responses', JSON.stringify(responses));
            printResponses(responsesContainer);
        }
        // End code to preserve responses

        if (typeof MathJax != 'undefined') {
            var version = MathJax.version;
            console.log('MathJax version', version);
            if (version[0] == "2") {
                MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
            } else if (version[0] == "3") {
                MathJax.typeset([fb]);
            }
        } else {
            console.log('MathJax not detected');
        }
        return false;
    }

}

function isValid(el, charC) {
    //console.log("Input char: ", charC);
    if (charC == 46) {
        if (el.value.indexOf('.') === -1) {
            return true;
        } else if (el.value.indexOf('/') != -1) {
            var parts = el.value.split('/');
            if (parts[1].indexOf('.') === -1) {
                return true;
            }
        }
        else {
            return false;
        }
    } else if (charC == 47) {
        if (el.value.indexOf('/') === -1) {
            if ((el.value != "") && (el.value != ".")) {
                return true;
            } else {
                return false;
            }
        } else {
            return false;
        }
    } else if (charC == 45) {
        var edex = el.value.indexOf('e');
        if (edex == -1) {
            edex = el.value.indexOf('E');
        }

        if (el.value == "") {
            return true;
        } else if (edex == (el.value.length - 1)) { // If just after e or E
            return true;
        } else {
            return false;
        }
    } else if (charC == 101) { // "e"
        if ((el.value.indexOf('e') === -1) && (el.value.indexOf('E') === -1) && (el.value.indexOf('/') == -1)) {
            // Prev symbol must be digit or decimal point:
            if (el.value.slice(-1).search(/\d/) >= 0) {
                return true;
            } else if (el.value.slice(-1).search(/\./) >= 0) {
                return true;
            } else {
                return false;
            }
        } else {
            return false;
        }
    } else {
        if (charC > 31 && (charC < 48 || charC > 57))
            return false;
    }
    return true;
}

function numeric_keypress(evnt) {
    var charC = (evnt.which) ? evnt.which : evnt.keyCode;

    if (charC == 13) {
        check_numeric(this, evnt);
    } else {
        return isValid(this, charC);
    }
}





function make_numeric(qa, outerqDiv, qDiv, aDiv, id) {



    //console.log(answer);


    outerqDiv.className = "NumericQn";
    aDiv.style.display = 'block';

    var lab = document.createElement("label");
    lab.className = "InpLabel";
    lab.textContent = "Type numeric answer here:";
    aDiv.append(lab);

    var inp = document.createElement("input");
    inp.type = "text";
    //inp.id="input-"+id;
    inp.id = id + "-0";
    inp.className = "Input-text";
    inp.setAttribute('data-answers', JSON.stringify(qa.answers));
    if ("precision" in qa) {
        inp.setAttribute('data-precision', qa.precision);
    }
    aDiv.append(inp);
    //console.log(inp);

    //inp.addEventListener("keypress", check_numeric);
    //inp.addEventListener("keypress", numeric_keypress);
    /*
    inp.addEventListener("keypress", function(event) {
        return numeric_keypress(this, event);
    }
                        );
                        */
    //inp.onkeypress="return numeric_keypress(this, event)";
    inp.onkeypress = numeric_keypress;
    inp.onpaste = event => false;

    inp.addEventListener("focus", function (event) {
        this.value = "";
        return false;
    }
    );


}
function jaxify(string) {
    var mystring = string;

    var count = 0;
    var loc = mystring.search(/([^\\]|^)(\$)/);

    var count2 = 0;
    var loc2 = mystring.search(/([^\\]|^)(\$\$)/);

    //console.log(loc);

    while ((loc >= 0) || (loc2 >= 0)) {

        /* Have to replace all the double $$ first with current implementation */
        if (loc2 >= 0) {
            if (count2 % 2 == 0) {
                mystring = mystring.replace(/([^\\]|^)(\$\$)/, "$1\\[");
            } else {
                mystring = mystring.replace(/([^\\]|^)(\$\$)/, "$1\\]");
            }
            count2++;
        } else {
            if (count % 2 == 0) {
                mystring = mystring.replace(/([^\\]|^)(\$)/, "$1\\(");
            } else {
                mystring = mystring.replace(/([^\\]|^)(\$)/, "$1\\)");
            }
            count++;
        }
        loc = mystring.search(/([^\\]|^)(\$)/);
        loc2 = mystring.search(/([^\\]|^)(\$\$)/);
        //console.log(mystring,", loc:",loc,", loc2:",loc2);
    }

    //console.log(mystring);
    return mystring;
}


function show_questions(json, mydiv) {
    console.log('show_questions');
    //var mydiv=document.getElementById(myid);
    var shuffle_questions = mydiv.dataset.shufflequestions;
    var num_questions = mydiv.dataset.numquestions;
    var shuffle_answers = mydiv.dataset.shuffleanswers;
    var max_width = mydiv.dataset.maxwidth;

    if (num_questions > json.length) {
        num_questions = json.length;
    }

    var questions;
    if ((num_questions < json.length) || (shuffle_questions == "True")) {
        //console.log(num_questions+","+json.length);
        questions = getRandomSubarray(json, num_questions);
    } else {
        questions = json;
    }

    //console.log("SQ: "+shuffle_questions+", NQ: " + num_questions + ", SA: ", shuffle_answers);

    // Iterate over questions
    questions.forEach((qa, index, array) => {
        //console.log(qa.question); 

        var id = makeid(8);
        //console.log(id);


        // Create Div to contain question and answers
        var iDiv = document.createElement('div');
        //iDiv.id = 'quizWrap' + id + index;
        iDiv.id = 'quizWrap' + id;
        iDiv.className = 'Quiz';
        iDiv.setAttribute('data-qnum', index);
        iDiv.style.maxWidth  =max_width+"px";
        mydiv.appendChild(iDiv);
        // iDiv.innerHTML=qa.question;
        
        var outerqDiv = document.createElement('div');
        outerqDiv.id = "OuterquizQn" + id + index;
        // Create div to contain question part
        var qDiv = document.createElement('div');
        qDiv.id = "quizQn" + id + index;
        
        if (qa.question) {
            iDiv.append(outerqDiv);

            //qDiv.textContent=qa.question;
            qDiv.innerHTML = jaxify(qa.question);
            outerqDiv.append(qDiv);
        }

        // Create div for code inside question
        var codeDiv;
        if ("code" in qa) {
            codeDiv = document.createElement('div');
            codeDiv.id = "code" + id + index;
            codeDiv.className = "QuizCode";
            var codePre = document.createElement('pre');
            codeDiv.append(codePre);
            var codeCode = document.createElement('code');
            codePre.append(codeCode);
            codeCode.innerHTML = qa.code;
            outerqDiv.append(codeDiv);
            //console.log(codeDiv);
        }


        // Create div to contain answer part
        var aDiv = document.createElement('div');
        aDiv.id = "quizAns" + id + index;
        aDiv.className = 'Answer';
        iDiv.append(aDiv);

        //console.log(qa.type);

        var num_correct;
        if ((qa.type == "multiple_choice") || (qa.type == "many_choice") ) {
            num_correct = make_mc(qa, shuffle_answers, outerqDiv, qDiv, aDiv, id);
            if ("answer_cols" in qa) {
                //aDiv.style.gridTemplateColumns = 'auto '.repeat(qa.answer_cols);
                aDiv.style.gridTemplateColumns = 'repeat(' + qa.answer_cols + ', 1fr)';
            }
        } else if (qa.type == "numeric") {
            //console.log("numeric");
            make_numeric(qa, outerqDiv, qDiv, aDiv, id);
        }


        //Make div for feedback
        var fb = document.createElement("div");
        fb.id = "fb" + id;
        //fb.style="font-size: 20px;text-align:center;";
        fb.className = "Feedback";
        fb.setAttribute("data-answeredcorrect", 0);
        fb.setAttribute("data-numcorrect", num_correct);
        iDiv.append(fb);


    });
    var preserveResponses = mydiv.dataset.preserveresponses;
    console.log(preserveResponses);
    console.log(preserveResponses == "true");
    if (preserveResponses == "true") {
        console.log(preserveResponses);
        // Create Div to contain record of answers
        var iDiv = document.createElement('div');
        iDiv.id = 'responses' + mydiv.id;
        iDiv.className = 'JCResponses';
        // Create a place to store responses as an empty array
        iDiv.setAttribute('data-responses', '[]');

        // Dummy Text
        iDiv.innerHTML="<b>Select your answers and then follow the directions that will appear here.</b>"
        //iDiv.className = 'Quiz';
        mydiv.appendChild(iDiv);
    }
//console.log("At end of show_questions");
    if (typeof MathJax != 'undefined') {
        console.log("MathJax version", MathJax.version);
        var version = MathJax.version;
        setTimeout(function(){
            var version = MathJax.version;
            console.log('After sleep, MathJax version', version);
            if (version[0] == "2") {
                MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
            } else if (version[0] == "3") {
                MathJax.typeset([mydiv]);
            }
        }, 500);
if (typeof version == 'undefined') {
        } else
        {
            if (version[0] == "2") {
                MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
            } else if (version[0] == "3") {
                MathJax.typeset([mydiv]);
            } else {
                console.log("MathJax not found");
            }
        }
    }
    return false;
}
/* This is to handle asynchrony issues in loading Jupyter notebooks
           where the quiz has been previously run. The Javascript was generally
           being run before the div was added to the DOM. I tried to do this
           more elegantly using Mutation Observer, but I didn't get it to work.

           Someone more knowledgeable could make this better ;-) */

        function try_show() {
          if(document.getElementById("zOIrpOcCEKeu")) {
            show_questions(questionszOIrpOcCEKeu,  zOIrpOcCEKeu); 
          } else {
             setTimeout(try_show, 200);
          }
        };
    
        {
        // console.log(element);

        //console.log("zOIrpOcCEKeu");
        // console.log(document.getElementById("zOIrpOcCEKeu"));

        try_show();
        }
        </script></div>
</div>
</div>
<script type="application/vnd.jupyter.widget-state+json">
{"state": {"5fc08186479d4600a846c7e111df5a90": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "eef5eaeb82b347c2a456ff5e9f4a3a00": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "3a966a3024dc4b2a9281d191ab17a615": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_5fc08186479d4600a846c7e111df5a90", "placeholder": "\u200b", "style": "IPY_MODEL_eef5eaeb82b347c2a456ff5e9f4a3a00", "value": ""}}, "9d1185af678847baba1c82dd1c06f0cf": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "da34633244f64300893f15456e0dc429": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "e3b1ae1cafd5498eb82d0bf166a4606f": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_9d1185af678847baba1c82dd1c06f0cf", "placeholder": "\u200b", "style": "IPY_MODEL_da34633244f64300893f15456e0dc429", "value": "Far<br>Up"}}, "f43c87cc9bad40e4854d7e17549f4e79": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "bfae7c563c824e69962577994f826d1e": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "eca79a5f2d7041a09f9b0c17aabd6552": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_f43c87cc9bad40e4854d7e17549f4e79", "placeholder": "\u200b", "style": "IPY_MODEL_bfae7c563c824e69962577994f826d1e", "value": "Left<br>Up"}}, "4f8f285f9ebd45a2a53aca16626cf643": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "8f30823cc5654abe817a08e6b52d27fe": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "436d68f1e24944e5a8484afffc156ac3": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_4f8f285f9ebd45a2a53aca16626cf643", "placeholder": "\u200b", "style": "IPY_MODEL_8f30823cc5654abe817a08e6b52d27fe", "value": "Near<br>Up"}}, "5063ecba4a8f48b08641069d877e5a75": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "702ba5cf73954e94a3b8cd870704c608": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "c595858d02384fe2916436f698b81cd5": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_5063ecba4a8f48b08641069d877e5a75", "placeholder": "\u200b", "style": "IPY_MODEL_702ba5cf73954e94a3b8cd870704c608", "value": "Right<br>Up"}}, "03ef24e15eb24089b8d5add8b1d2c4c6": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "bf021bfdcfe34c7ea82ed186d971c207": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "8b6d5b5f4ea149dbb3ab22e503ba7a70": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_03ef24e15eb24089b8d5add8b1d2c4c6", "placeholder": "\u200b", "style": "IPY_MODEL_bf021bfdcfe34c7ea82ed186d971c207", "value": "Far<br>Left"}}, "e6b1f4b23e064cfe9335d222d2c61f6e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "4f7b85b47af34f18a8a70e5cb48a069a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "7cd2cee74100412a8cc3dedc07a43bcb": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_e6b1f4b23e064cfe9335d222d2c61f6e", "placeholder": "\u200b", "style": "IPY_MODEL_4f7b85b47af34f18a8a70e5cb48a069a", "value": "Near<br>Left"}}, "22d697fe3ae34cd6b6292284e5e57a18": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "878bd2c979704d9eaf590e490eb4fe0b": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "56c99811ee684352be526b490e2809c5": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_22d697fe3ae34cd6b6292284e5e57a18", "placeholder": "\u200b", "style": "IPY_MODEL_878bd2c979704d9eaf590e490eb4fe0b", "value": "Near<br>Right"}}, "7ef9d3824dc0490ab8ee74f80d6a2e8d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "77978842c2594b7fb4a2804cf10991de": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "dc24ca6e46264c4387a27fd057784071": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_7ef9d3824dc0490ab8ee74f80d6a2e8d", "placeholder": "\u200b", "style": "IPY_MODEL_77978842c2594b7fb4a2804cf10991de", "value": "Far<br>Right"}}, "fa0636a4f49e4f0c9b6ff4da502b5659": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "5b38173f034d4cbfa2a62a3baa012864": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "7a62d142456542178ef0c6ce01f8e7e5": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_fa0636a4f49e4f0c9b6ff4da502b5659", "placeholder": "\u200b", "style": "IPY_MODEL_5b38173f034d4cbfa2a62a3baa012864", "value": "Left<br>Down"}}, "f9c2e8eb232c439c939ac4b1b0c5e234": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "3c056b321fb34968b1087ac38caef92d": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9b864e96814f493091d0bda7dbce977e": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_f9c2e8eb232c439c939ac4b1b0c5e234", "placeholder": "\u200b", "style": "IPY_MODEL_3c056b321fb34968b1087ac38caef92d", "value": "Near<br>Down"}}, "825a4db673ae4a95b927ee8b6aabcab9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "b8aec84ed41849ab8614df111f140b83": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "61ac113511e1437e85b45a2631566fad": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_825a4db673ae4a95b927ee8b6aabcab9", "placeholder": "\u200b", "style": "IPY_MODEL_b8aec84ed41849ab8614df111f140b83", "value": "Right<br>Down"}}, "b25dfbbb657d41c7b94630ff51d6c7d1": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "3737416d28a64d33a9450963221c657f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "09e38ef6e59e4e06ae5db01f629a1529": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_b25dfbbb657d41c7b94630ff51d6c7d1", "placeholder": "\u200b", "style": "IPY_MODEL_3737416d28a64d33a9450963221c657f", "value": "Far<br>Down"}}, "2f7df330400a44c1ac381ed4f6d0fea7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "fde24e570a7344029986c4bb0724f48a": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_3a966a3024dc4b2a9281d191ab17a615", "IPY_MODEL_e3b1ae1cafd5498eb82d0bf166a4606f", "IPY_MODEL_eca79a5f2d7041a09f9b0c17aabd6552", "IPY_MODEL_436d68f1e24944e5a8484afffc156ac3", "IPY_MODEL_c595858d02384fe2916436f698b81cd5", "IPY_MODEL_8b6d5b5f4ea149dbb3ab22e503ba7a70", "IPY_MODEL_7cd2cee74100412a8cc3dedc07a43bcb", "IPY_MODEL_56c99811ee684352be526b490e2809c5", "IPY_MODEL_dc24ca6e46264c4387a27fd057784071", "IPY_MODEL_7a62d142456542178ef0c6ce01f8e7e5", "IPY_MODEL_9b864e96814f493091d0bda7dbce977e", "IPY_MODEL_61ac113511e1437e85b45a2631566fad", "IPY_MODEL_09e38ef6e59e4e06ae5db01f629a1529"], "layout": "IPY_MODEL_2f7df330400a44c1ac381ed4f6d0fea7"}}, "db7eeaec37ec4b0d9f7e09e6f14a1af0": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "2bf2c8c596534a688e7ad8c3688b79d6": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "e2499031dc72495682fde17f7080a09e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_db7eeaec37ec4b0d9f7e09e6f14a1af0", "step": 0.1, "style": "IPY_MODEL_2bf2c8c596534a688e7ad8c3688b79d6", "value": 0.0}}, "a0de1b9e46164e5a9f8ed7b22f3b3a9d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "36f505e59f2649dda661f4997ee98196": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "1e895f637a2643c795dc7e134aaca71b": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a0de1b9e46164e5a9f8ed7b22f3b3a9d", "step": 0.1, "style": "IPY_MODEL_36f505e59f2649dda661f4997ee98196", "value": 0.0}}, "89e2a079d26141b6a78d5b3fc9c746b6": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "36555d8b1c6449288303115e9cc9df8e": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "c4a29a71fb5a422eae296b685f4468f0": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_89e2a079d26141b6a78d5b3fc9c746b6", "step": 0.1, "style": "IPY_MODEL_36555d8b1c6449288303115e9cc9df8e", "value": 0.0}}, "6740c856fb23451b91514e88a4301879": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "3cb5e182495e4cdda13d34992ed4cde5": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "e6022409d97b411384cc7bde98dfe913": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_6740c856fb23451b91514e88a4301879", "step": 0.1, "style": "IPY_MODEL_3cb5e182495e4cdda13d34992ed4cde5", "value": 0.0}}, "62e70962d8b44df89f45cf8cbeceab1d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "927ae1e21af4407c9c66a6eee4d0784c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "8851921ddfb2482d934c514389f7b13e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_62e70962d8b44df89f45cf8cbeceab1d", "step": 0.1, "style": "IPY_MODEL_927ae1e21af4407c9c66a6eee4d0784c", "value": 0.0}}, "19919c84b25e41b28555f353bb1adbb9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "5208d48735ee4153a29f9cc46560a490": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "7e7bebfc2a224b80b3717dd2bb658f13": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_19919c84b25e41b28555f353bb1adbb9", "step": 0.1, "style": "IPY_MODEL_5208d48735ee4153a29f9cc46560a490", "value": 0.0}}, "3b062605c1064d408f746fccb820849b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "7e724d19d37d4bf3b1c25c27e92add54": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "c6e3ec33e32c4be1a6dcbd3591f2c8d2": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_3b062605c1064d408f746fccb820849b", "step": 0.1, "style": "IPY_MODEL_7e724d19d37d4bf3b1c25c27e92add54", "value": 0.0}}, "0cc7e5fde2bb43319f53353fec03c20e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "838caa0f5adb4687a6efa29b22ad2458": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "d9bbf671c1dc46249071d3405c148749": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_0cc7e5fde2bb43319f53353fec03c20e", "step": 0.1, "style": "IPY_MODEL_838caa0f5adb4687a6efa29b22ad2458", "value": 0.0}}, "a1840f63e89b41d7a6b362f77b09d147": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "a7c702190a1443d8baaf5004e621e10c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "116da4ac9bf34584a9948071d34f8f4e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a1840f63e89b41d7a6b362f77b09d147", "step": 0.1, "style": "IPY_MODEL_a7c702190a1443d8baaf5004e621e10c", "value": 0.0}}, "a8f14fd6cbba48f38a16ef8324447530": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "65b739c795c9454695da334cb0f3be38": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "5bd70a7faaea4df78738b0cd789a1eba": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a8f14fd6cbba48f38a16ef8324447530", "step": 0.1, "style": "IPY_MODEL_65b739c795c9454695da334cb0f3be38", "value": 0.0}}, "e13d54191b474840bebcdb2f662ce914": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "cffaf2991e3544009067c5eb207c658a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ae14a55e263f47b591a5810e81b0188e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_e13d54191b474840bebcdb2f662ce914", "step": 0.1, "style": "IPY_MODEL_cffaf2991e3544009067c5eb207c658a", "value": 0.0}}, "814b896d703048a48e45987e11f53320": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "70e6a065b8b24f8f857af4a769577081": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "83e9ab64745f47c498d274590e15375a": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_814b896d703048a48e45987e11f53320", "step": 0.1, "style": "IPY_MODEL_70e6a065b8b24f8f857af4a769577081", "value": 0.0}}, "e84382e379e743e0a21c7363b11e579a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "4366717064654d78b3308e4f7d136a8e": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ce903817f0fd468681dbb15bc507b085": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_e84382e379e743e0a21c7363b11e579a", "placeholder": "\u200b", "style": "IPY_MODEL_4366717064654d78b3308e4f7d136a8e", "value": "Up:"}}, "7722a9d5464c4584a6c227617902943b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "002446ba54cb4732a8815bb61df00486": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_ce903817f0fd468681dbb15bc507b085", "IPY_MODEL_e2499031dc72495682fde17f7080a09e", "IPY_MODEL_1e895f637a2643c795dc7e134aaca71b", "IPY_MODEL_c4a29a71fb5a422eae296b685f4468f0", "IPY_MODEL_e6022409d97b411384cc7bde98dfe913", "IPY_MODEL_8851921ddfb2482d934c514389f7b13e", "IPY_MODEL_7e7bebfc2a224b80b3717dd2bb658f13", "IPY_MODEL_c6e3ec33e32c4be1a6dcbd3591f2c8d2", "IPY_MODEL_d9bbf671c1dc46249071d3405c148749", "IPY_MODEL_116da4ac9bf34584a9948071d34f8f4e", "IPY_MODEL_5bd70a7faaea4df78738b0cd789a1eba", "IPY_MODEL_ae14a55e263f47b591a5810e81b0188e", "IPY_MODEL_83e9ab64745f47c498d274590e15375a"], "layout": "IPY_MODEL_7722a9d5464c4584a6c227617902943b"}}, "12731de306d0492daaf9ed00cabd0f5e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "ac520ef5188d4f60aea718fa0ce9c4ed": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "18a261dd26014b64a45f93986a574afc": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_12731de306d0492daaf9ed00cabd0f5e", "step": 0.1, "style": "IPY_MODEL_ac520ef5188d4f60aea718fa0ce9c4ed", "value": 0.0}}, "5d933184dd2a4d1b8cb10652e78446f5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "b5ef82fed3b9477fa6c6eb9754880082": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "3262c06e788c41c4a5d0c234b665328c": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_5d933184dd2a4d1b8cb10652e78446f5", "step": 0.1, "style": "IPY_MODEL_b5ef82fed3b9477fa6c6eb9754880082", "value": 0.0}}, "74766c0fb0984028a85afc555b3ecf69": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "fd17721041e246d7ad78a4eedb596dbf": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "fd4375b87d4d4040b110a438c29471e5": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_74766c0fb0984028a85afc555b3ecf69", "step": 0.1, "style": "IPY_MODEL_fd17721041e246d7ad78a4eedb596dbf", "value": 0.0}}, "e5268595c9f74fdfad00448eb839c983": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "b53c4fc6582545a28b1173521127e00a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "4ca891d2ff684755a287a1bc9d6059ba": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_e5268595c9f74fdfad00448eb839c983", "step": 0.1, "style": "IPY_MODEL_b53c4fc6582545a28b1173521127e00a", "value": 0.0}}, "a14918e561a24dfeb48cca8f290a08a9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "af728fada62f4c38bccbe9e43a32d52b": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "f5a37e2130584dfcb3fccd6061e212c6": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a14918e561a24dfeb48cca8f290a08a9", "step": 0.1, "style": "IPY_MODEL_af728fada62f4c38bccbe9e43a32d52b", "value": 0.0}}, "ebc3f455272e474a921788eb733a12fa": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "6b9bc541fd2c481c884d62b3f945aa3f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "cbe32727533446b8888183f00c3938d4": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_ebc3f455272e474a921788eb733a12fa", "step": 0.1, "style": "IPY_MODEL_6b9bc541fd2c481c884d62b3f945aa3f", "value": 0.0}}, "f674da924b80447d885dc504c9efca04": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "a91fac0786d9481a8999768cb9bd2875": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "0691fb322c2943c8af417af573d69dc6": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_f674da924b80447d885dc504c9efca04", "step": 0.1, "style": "IPY_MODEL_a91fac0786d9481a8999768cb9bd2875", "value": 0.0}}, "0fa64d3bbc4c4300a1c0fae491fa28c4": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "a9b1639e5a8f4373bb8dcc35b53a3c5c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b991b468fb3041c9ab888ffb0775fa92": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_0fa64d3bbc4c4300a1c0fae491fa28c4", "step": 0.1, "style": "IPY_MODEL_a9b1639e5a8f4373bb8dcc35b53a3c5c", "value": 0.0}}, "ad6a46769a884d86978c5240bca5f66b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "332e1102e4ef49db94ac80c729e36d80": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "45c2a17e8c4747cfa602935556c51f61": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_ad6a46769a884d86978c5240bca5f66b", "step": 0.1, "style": "IPY_MODEL_332e1102e4ef49db94ac80c729e36d80", "value": 0.0}}, "f000deec5d644626b7e090e122d70d35": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "2034c93a5acb4b37b108252e7750ce85": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ac98ecbb793047c5946faf7a1c136a53": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_f000deec5d644626b7e090e122d70d35", "step": 0.1, "style": "IPY_MODEL_2034c93a5acb4b37b108252e7750ce85", "value": 0.0}}, "8fd7f9b64b2741758a5eec28a671ed5c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "f6b75213adcf4355bfc9d18d03a24476": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b342010fa3eb408f9f4983d5a1516a3b": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_8fd7f9b64b2741758a5eec28a671ed5c", "step": 0.1, "style": "IPY_MODEL_f6b75213adcf4355bfc9d18d03a24476", "value": 0.0}}, "e76759f31ae24b60a8e86b4272c5b2f1": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "6aa7a16cb953410589b4aad53d9ef66e": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "e7703e12a452490e899dc645c13d10de": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_e76759f31ae24b60a8e86b4272c5b2f1", "step": 0.1, "style": "IPY_MODEL_6aa7a16cb953410589b4aad53d9ef66e", "value": 0.0}}, "6be3940bf8454103af88d2b5674eddd7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "97d47001955c435fa15d21587ab7c836": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "094f5b7cf5524464908c9c64d6d10795": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_6be3940bf8454103af88d2b5674eddd7", "placeholder": "\u200b", "style": "IPY_MODEL_97d47001955c435fa15d21587ab7c836", "value": "Down:"}}, "0c8aba2bf75d4253b0196be6776d6508": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d9a12714b7854c69927326e744784592": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_094f5b7cf5524464908c9c64d6d10795", "IPY_MODEL_18a261dd26014b64a45f93986a574afc", "IPY_MODEL_3262c06e788c41c4a5d0c234b665328c", "IPY_MODEL_fd4375b87d4d4040b110a438c29471e5", "IPY_MODEL_4ca891d2ff684755a287a1bc9d6059ba", "IPY_MODEL_f5a37e2130584dfcb3fccd6061e212c6", "IPY_MODEL_cbe32727533446b8888183f00c3938d4", "IPY_MODEL_0691fb322c2943c8af417af573d69dc6", "IPY_MODEL_b991b468fb3041c9ab888ffb0775fa92", "IPY_MODEL_45c2a17e8c4747cfa602935556c51f61", "IPY_MODEL_ac98ecbb793047c5946faf7a1c136a53", "IPY_MODEL_b342010fa3eb408f9f4983d5a1516a3b", "IPY_MODEL_e7703e12a452490e899dc645c13d10de"], "layout": "IPY_MODEL_0c8aba2bf75d4253b0196be6776d6508"}}, "6a70ca0d09044386a59b8593f125e0a7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "23e011cf6c754f22aa7a2a437d13dc3a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "68976e041d15461faa0e0d5ee8c29159": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_6a70ca0d09044386a59b8593f125e0a7", "step": 0.1, "style": "IPY_MODEL_23e011cf6c754f22aa7a2a437d13dc3a", "value": 0.0}}, "289734c7c61a4cbebb878284a89ff791": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "e36332a7e5e142e09defdeac4beedb56": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "49b02a8dea084c4aa71a55b471ec0f72": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_289734c7c61a4cbebb878284a89ff791", "step": 0.1, "style": "IPY_MODEL_e36332a7e5e142e09defdeac4beedb56", "value": 0.0}}, "43c35495621e4086a555f882dba3c51a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "876dc3d455494f53810a3f539db67996": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "1715e3034bc846a9951f411209c9afa1": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_43c35495621e4086a555f882dba3c51a", "step": 0.1, "style": "IPY_MODEL_876dc3d455494f53810a3f539db67996", "value": 0.0}}, "53582ab38f1748cbb939a3e65fd247aa": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "953bf775206648e095c2cd7838d8123c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "61e67a7552a54ece8cbc90b989d45b8d": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_53582ab38f1748cbb939a3e65fd247aa", "step": 0.1, "style": "IPY_MODEL_953bf775206648e095c2cd7838d8123c", "value": 0.0}}, "5b52a445005746f68231f70cb925146f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "325f70ae33414ffbb0ff9e2ac0e676e6": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "a8ed541c55604717920d369291a28e08": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_5b52a445005746f68231f70cb925146f", "step": 0.1, "style": "IPY_MODEL_325f70ae33414ffbb0ff9e2ac0e676e6", "value": 0.0}}, "6189efd4ebf148288b01a5f961f33297": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "00e4873e327b489d89dd044719cee4d3": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "54b3ce6d163e48748c29b9b9a4a7223e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_6189efd4ebf148288b01a5f961f33297", "step": 0.1, "style": "IPY_MODEL_00e4873e327b489d89dd044719cee4d3", "value": 0.0}}, "3d6c08326d094fde98eba6e7bf6d66de": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "83aa4f448055400894f343265957425e": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "1db766320f224009bbbbeddef225a99b": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_3d6c08326d094fde98eba6e7bf6d66de", "step": 0.1, "style": "IPY_MODEL_83aa4f448055400894f343265957425e", "value": 0.0}}, "0d7726d8381f4e788c0d001c1303eee8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "0baace0a7fc2413ab3b48299d66add13": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "1bb72ec94916438091384eca7e2faa2c": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_0d7726d8381f4e788c0d001c1303eee8", "step": 0.1, "style": "IPY_MODEL_0baace0a7fc2413ab3b48299d66add13", "value": 0.0}}, "80f261c87d9246d68325778188b3378d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "d6bdba0e78d84bf69dede83fa21b8c73": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "642b7778a83a4a879fff982beffd7b13": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_80f261c87d9246d68325778188b3378d", "step": 0.1, "style": "IPY_MODEL_d6bdba0e78d84bf69dede83fa21b8c73", "value": 0.0}}, "3844ae3ea6384b01aacdde073c942391": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "8c52d737b6f54105afcf91aa12c22c47": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "aadd67db8a884ae585d4151268feec76": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_3844ae3ea6384b01aacdde073c942391", "step": 0.1, "style": "IPY_MODEL_8c52d737b6f54105afcf91aa12c22c47", "value": 0.0}}, "f1b1d00fc25d4c3597344aecae5094d6": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "b32bf6f87d16440e95e0769143c34f22": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "f48ccb5d8b57415ab86ea62e6e214f62": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_f1b1d00fc25d4c3597344aecae5094d6", "step": 0.1, "style": "IPY_MODEL_b32bf6f87d16440e95e0769143c34f22", "value": 0.0}}, "363b7c8248884283a89ef2f6f5ade1e0": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "97ab01707fb44de7850c967082953431": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "2f7718152f534c788e39b591331dd65b": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_363b7c8248884283a89ef2f6f5ade1e0", "step": 0.1, "style": "IPY_MODEL_97ab01707fb44de7850c967082953431", "value": 0.0}}, "6a13a05ade09444c96d563d1c1a1c1c3": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "ede683b07d79482ebfa8309914d97dc9": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "12238edf453b4a2aac2bb2abdd847e19": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_6a13a05ade09444c96d563d1c1a1c1c3", "placeholder": "\u200b", "style": "IPY_MODEL_ede683b07d79482ebfa8309914d97dc9", "value": "Left:"}}, "0e55afe9ca2e4b34b48123e9e51fcc56": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "7f73829aaa2b484db40efdbe2208e4eb": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_12238edf453b4a2aac2bb2abdd847e19", "IPY_MODEL_68976e041d15461faa0e0d5ee8c29159", "IPY_MODEL_49b02a8dea084c4aa71a55b471ec0f72", "IPY_MODEL_1715e3034bc846a9951f411209c9afa1", "IPY_MODEL_61e67a7552a54ece8cbc90b989d45b8d", "IPY_MODEL_a8ed541c55604717920d369291a28e08", "IPY_MODEL_54b3ce6d163e48748c29b9b9a4a7223e", "IPY_MODEL_1db766320f224009bbbbeddef225a99b", "IPY_MODEL_1bb72ec94916438091384eca7e2faa2c", "IPY_MODEL_642b7778a83a4a879fff982beffd7b13", "IPY_MODEL_aadd67db8a884ae585d4151268feec76", "IPY_MODEL_f48ccb5d8b57415ab86ea62e6e214f62", "IPY_MODEL_2f7718152f534c788e39b591331dd65b"], "layout": "IPY_MODEL_0e55afe9ca2e4b34b48123e9e51fcc56"}}, "380c4b74d6b0438ca87e91998a98566b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "595c8f64ae1d4031b264750ff7662598": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "79ac4383af274a18849a9b431834efd4": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_380c4b74d6b0438ca87e91998a98566b", "step": 0.1, "style": "IPY_MODEL_595c8f64ae1d4031b264750ff7662598", "value": 0.0}}, "5f6f4c62f07b4cf6b0df9028f20f212f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "5d4fef21e01846b5a85e4187e540715f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "875a008d660e40b1b620e2af03808e95": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_5f6f4c62f07b4cf6b0df9028f20f212f", "step": 0.1, "style": "IPY_MODEL_5d4fef21e01846b5a85e4187e540715f", "value": 0.0}}, "3b495e8f8fdb4e7c9b774846e036d432": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "0d83a5819925454a9e42c7e3519a1b03": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "3ce5db73db1042d593e0dbb37188ada1": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_3b495e8f8fdb4e7c9b774846e036d432", "step": 0.1, "style": "IPY_MODEL_0d83a5819925454a9e42c7e3519a1b03", "value": 0.0}}, "c6e9b12efdef4b3fa3266ae3e1869a0a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "7320b7e3ebfb4287b48fd808778b5667": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ba9840719de340fc8d866385621e12cf": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_c6e9b12efdef4b3fa3266ae3e1869a0a", "step": 0.1, "style": "IPY_MODEL_7320b7e3ebfb4287b48fd808778b5667", "value": 0.0}}, "bcb4b04e48364a6f8aea2041bec36e39": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "9075174629e84e418acc955b91f8bfe5": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9246ab24d2f040b194165ffc6fa0fe94": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_bcb4b04e48364a6f8aea2041bec36e39", "step": 0.1, "style": "IPY_MODEL_9075174629e84e418acc955b91f8bfe5", "value": 0.0}}, "9c35eface57e44f690d1d98cff5607cd": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "c42ab1a5895246b4b255ada1d1f02c9d": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9655418268ba4308b548c0a51fbebd67": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_9c35eface57e44f690d1d98cff5607cd", "step": 0.1, "style": "IPY_MODEL_c42ab1a5895246b4b255ada1d1f02c9d", "value": 0.0}}, "a2c298f815cd4e698756c289fc4f0990": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "a6a9df0d6c8e4d07a3687bb2f1e891c0": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9ad4003daedd4ffdb2ea15f187b42d2a": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a2c298f815cd4e698756c289fc4f0990", "step": 0.1, "style": "IPY_MODEL_a6a9df0d6c8e4d07a3687bb2f1e891c0", "value": 0.0}}, "c44e95c6a0164989a8ef53dd50c794d5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "6844c41694b74636a827bdb7a7cedaa2": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "27936d7e9ad3468ea044def70b5e5bc5": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_c44e95c6a0164989a8ef53dd50c794d5", "step": 0.1, "style": "IPY_MODEL_6844c41694b74636a827bdb7a7cedaa2", "value": 0.0}}, "31e50b4e145747f6bcbfe03b72d2801c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "755d21bb5ae740f4801c640f00026566": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "50aa00ee756d4eb793559fa2db5cf641": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_31e50b4e145747f6bcbfe03b72d2801c", "step": 0.1, "style": "IPY_MODEL_755d21bb5ae740f4801c640f00026566", "value": 0.0}}, "d782d3c6ca974ec0bed16e04576ee304": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "854adb80fdfa455e9624e1cd4e3d2fd3": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ff18b89802b54274b449e0a9536d45e7": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_d782d3c6ca974ec0bed16e04576ee304", "step": 0.1, "style": "IPY_MODEL_854adb80fdfa455e9624e1cd4e3d2fd3", "value": 0.0}}, "a38b99fccdd5442bbabb94556ff40c9a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "74882447ba534dd58065630b96474190": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ddf6c1fe97a14af1bae7e6d18f9da4c9": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a38b99fccdd5442bbabb94556ff40c9a", "step": 0.1, "style": "IPY_MODEL_74882447ba534dd58065630b96474190", "value": 0.0}}, "378e50357cb14c449e69210d4fa6c88e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "673145eed8bd4912b2911520f19617ef": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "360c0e260c374e57858f65c23810dfaf": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_378e50357cb14c449e69210d4fa6c88e", "step": 0.1, "style": "IPY_MODEL_673145eed8bd4912b2911520f19617ef", "value": 0.0}}, "1a07621007864c73b8bc0b4dfd40800c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "16ede353b0c44ed9a59debe75b3d6ff3": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "75482ba1e1c84dd0b60b8c7a87be2d18": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_1a07621007864c73b8bc0b4dfd40800c", "placeholder": "\u200b", "style": "IPY_MODEL_16ede353b0c44ed9a59debe75b3d6ff3", "value": "Right:"}}, "69ba01c41c1f4c5a95e8e0d9d68d4d0a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "bc461da14508433d9e1ebbb949e234d7": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_75482ba1e1c84dd0b60b8c7a87be2d18", "IPY_MODEL_79ac4383af274a18849a9b431834efd4", "IPY_MODEL_875a008d660e40b1b620e2af03808e95", "IPY_MODEL_3ce5db73db1042d593e0dbb37188ada1", "IPY_MODEL_ba9840719de340fc8d866385621e12cf", "IPY_MODEL_9246ab24d2f040b194165ffc6fa0fe94", "IPY_MODEL_9655418268ba4308b548c0a51fbebd67", "IPY_MODEL_9ad4003daedd4ffdb2ea15f187b42d2a", "IPY_MODEL_27936d7e9ad3468ea044def70b5e5bc5", "IPY_MODEL_50aa00ee756d4eb793559fa2db5cf641", "IPY_MODEL_ff18b89802b54274b449e0a9536d45e7", "IPY_MODEL_ddf6c1fe97a14af1bae7e6d18f9da4c9", "IPY_MODEL_360c0e260c374e57858f65c23810dfaf"], "layout": "IPY_MODEL_69ba01c41c1f4c5a95e8e0d9d68d4d0a"}}, "478b9fbef0564147b908e1fd244f7264": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "6fab41d5f170438f9b27031c69142500": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "6eb4359bb05f4b43a9a377d6d01dc7a5": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Run Game", "disabled": false, "icon": "", "layout": "IPY_MODEL_478b9fbef0564147b908e1fd244f7264", "style": "IPY_MODEL_6fab41d5f170438f9b27031c69142500", "tooltip": ""}}, "eeb42c744af04b9a8178ff859fbd3c8a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "4c4bb067f7b548ab940d477149c68cb8": {"model_name": "MPLCanvasModel", "model_module": "jupyter-matplotlib", "model_module_version": "^0.11", "state": {"_cursor": "default", "_data_url": "data:image/png;base64,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tmxhrbbvs3sXuLTIvaGFhYXpwIEDGjhwYK0Wmd9///1aunSpNm/erDvuuENffPGFXnzxxWuOs9lsOnTokEpKShwe4VBSUqJTp05p4MCB9rY2bdrowoULVfZx8uRJp/sODg7WzJkzNXPmTBUXF2vo0KFatGiRHnnkEVmt1Z+r2mANFgAALujg1bLOr+q+QShJ7b1ucGlfDW3ixIkqLCxUQkKC0/6fr23q3r27IiMjtWnTJm3atEnNmjXT+PHjr3mcUaNG6fLly1q5cqVD+4oVK3T58mWNGjXK3talSxcVFBToyJEj9rYrV65o9erVDmOLiopUVFTk0Obt7a2bb75Z5eXlKiys+zdFr+IKFgAAcNn48eOVmpqqxYsX6/Dhwxo6dKhatWql06dPa+/everevbs2btzoMOb+++/XggULdPr0aQ0ePFgdO3a85nEeeOABrV+/XgsWLNAXX3xhf0xDcnKy+vbtq6lTp9q3nTBhguLi4nT33Xdr7ty5slgs2rhxY5UrbF999ZUGDRqk0aNHq3v37vL19dWRI0eUnJysO++80+GbjnVFwAIAAC67+vDQwYMHa/369YqPj5dhGAoKClJMTIz+9Kc/VRkzYcIEPf7447p06dI1F7df5enpqX379mnRokXasWOHNmzYoBtvvFGxsbFavHixQ3hq3bq1du/erXnz5ukvf/mLOnTooOnTpysmJsZhnVmnTp00efJk7d+/Xzt27FB5eblCQkL05JNP6tFHH73+vxxJFsMwfjk3fE1SUFAgPz8/5efny9fXt6HLAQA0IiUlJfZvrv1afrYF5qnt54M1WAAAACYjYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYDICFgAAgMkIWAAAACYjYAEA0AQdOHBAFovF4dWqVSt1795dTz/9tAoLC9127KNHjyo+Pl6nTp1y2zEaWouGLgAAADScadOmadCgQZKkgoICvffee3ryySeVlpamt956yy3HPHr0qBYvXqxBgwYpNDTULcdoaAQsAACasL59+2rSpEn2P8+aNUvl5eXauXOnvv/+e3Xo0KEBq/vl4hYhAABwEBgYKEny8PCwtxUVFWnRokXq2rWrrFar/P399cc//lFnzpxxGJuXl6eHHnpIoaGhslqtateunaKjo/X6669LkuLj4/WnP/1JkjR48GD77cmUlJT6eXP1hCtYAAC4oKLo+zqPtXi2VLMW3s73W5wnGUat99Xcx5wrS4WFhcrLy7P/96FDh5SSkqJ77rlHrVu3liRduXJFQ4cO1bFjxzRt2jT16NFD3377rVatWqUDBw7o6NGjat++vSRpzJgxOnr0qGbNmqUuXbro4sWLOnbsmA4fPqyxY8fq3nvv1ZkzZ/Tqq69q4cKFCg8PlyT169fPlPfTWBCwAABwwbdrg+o8tt3gZfKNnOm078yGCFUW59V6X7bYK3Wu46cefvhhPfzwww5to0aN0saNG+1/XrZsmT766CO99957io6OtrePGTNGffr00YsvvqilS5cqPz9fBw8e1HPPPaf58+c7PV5ERIT69u2rV199VUOHDrWv//q14RYhAABN2Lx58/TOO+/onXfeUWpqqhYtWqT9+/dr1KhRKi0tlSRt2bJFUVFR6tKli/Ly8uyv4OBgdenSRfv27ZMkeXt7y2q1av/+/crNzW3It9XguIIFAEATFh4eriFDhtj/fNdddyk8PFzjx4/X+vXrNXPmTJ04cULFxcXVLngPCQmRJHl6eurll1/W3LlzFRgYqN69e2vIkCEaO3asevXqVS/vp7EgYAEAAAd33HGHJOndd9/VzJkzZRiGoqOj9dRTTznd3svLy/7fM2fO1MiRI7Vnzx4dPHhQf/vb3/Tss89qyZIlWrhwYb3U3xgQsAAAcEHI9Ow6j7V4tqy2L/iPn7i0yN2dysrKJEmXLl2SJIWFhemHH35wuNJVk+DgYM2cOVMzZ85UcXGxhg4dqkWLFumRRx6R1WqVxWJxW+2NBQELAAAXmPXtvSr79W7vlv3Wxa5duyTJfltv4sSJWrhwoVJSUjRlyhSHbQ3DUF5enjp06KCioiJJko+Pj73f29tbN998s9LS0lRYWCir1aobbrhBknThwgX3v5kGQsACAKAJ++CDD+y3+IqKinT06FGtX79egYGBmjNnjqQfF8Lv3btXU6dO1Ztvvqn+/fvLw8NDmZmZSk1N1dixY7VkyRJ99dVXGjRokEaPHq3u3bvL19dXR44cUXJysu688061a9dOkhQVFSVJWrp0qS5evChvb2/dcsststlsDfOX4AYWw2gk1yPrUUFBgfz8/JSfny9fX9+GLgcA0IiUlJQoMzNTNpvNYW3Rr82BAwc0ePBgh7bmzZsrMDBQt99+u+Lj49WpUyd7X2lpqZKSkrR582Z99dVX8vDwUHBwsG677Tb9+c9/Vo8ePXT+/Hk99dRT2r9/v7799luVl5crJCRE48eP16OPPmq/ciVJq1at0ksvvaTTp0+roqJCycnJVa6ONUa1/XwQsAhYAICfaCoBC3VT288Hz8ECAAAwGQELAADAZAQsAAAAk9VLwKqoqFBiYqLCwsJktVoVFhamxMREVVRU1Gr81q1bFR0drTZt2qh169bq06eP1q5dq8rKSjdXDgAA4Lp6CVizZ89WXFycbr31Vq1atUoDBgxQXFyc/eufNUlMTNSECRPk5+enhIQEJSQkyNfXVzNmzNCCBQvqoXoAAADXuP1bhBkZGYqMjNTs2bO1bNkye/vcuXO1YsUKHT9+XD179qx2fEBAgEJCQvTRRx/Zn/xaWVmp3r1769SpU7p48aLLNfEtQgBAdfgWIWrSaL5FuHXrVhmGodjYWIf22NhYGYahbdu21Ti+oKBAAQEBDo/Vb9asmQICAhyeFAsAgJma4FOMUAu1/Vy4/Unu6enpCggIqPJ0VpvNJn9/f6Wnp9c4fvDgwdq7d69efvlljRo1SoZhaPv27dq3b59WrlzpztIBAE1QixY//tNYXl7ewJWgMbr6ubj6OamO2wNWTk6OgoKCnPYFBQUpO7vmH81ct26dJk2apHnz5mnevHmSfvzV7n/84x+aNGlSjWNLS0tVWlpapb2goKCW1QMAmprmzZurefPmKigoUKtWrRq6HDQyBQUF9s9ITdwesIqKiqr9gHp5eV0z7Nxwww26+eabFRISouHDh6usrEwbNmzQ1KlT5eXlpTFjxlQ7dunSpVq8ePF11Q8AaFosFov8/f119uxZ+w8T/3SZCpomwzB0+fJlFRQUKDAw8JqfCbcvcu/Zs6c8PT115MiRKn29e/dWWVmZMjIynI6trKy0//jj66+/bm83DEP9+/fXl19+qaysLHl7ezsdX9MVrE6dOrHIHQDglGEY+u6775Sfn89aLNhZLBb5+fnpxhtvvGbAcvsVrI4dO+r48eNO+7Kzs9WrV69qxx46dEjp6emaP3++Q7vFYtG9996rRx99VJ999pn69OnjdLzVapXVaq178QCAJslisSgwMFD+/v4qKytr6HLQSHh4eFzz1uBVbg9YUVFRevvtt+1fabwqMzNTubm5ioqKqnZsTk6OJDl9IOnVRWYsQgQAuEtt1toAzrj9MQ3jxo2TxWJRUlKSQ3tSUpIsFovGjRsnSSorK9OJEyd09uxZ+zY333yzJGnDhg0OY8vLy7VlyxZ5eXmpR48e7n0DAAAALnL7FazIyEhNnz5dy5cv16VLlxQTE6O0tDQlJydrxowZioiIkPTj7cLw8HBNnjxZKSkpkqRevXrp97//vd58800NGjRI9957r8rLy7Vx40YdP35cixYtUsuWLd39FgAAAFzi9oAlSStXrlRISIjWrVunTZs2KSgoSAkJCbX6qZudO3dq9erV2rBhg/7617/qypUr6tatm/7+97/rwQcfrIfqAQAAXOP2bxE2RvxUDgAAcKd6+bFnAACApoSABQAAYDICFgAAgMkIWAAAACYjYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYDICFgAAgMkIWAAAACYjYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYDICFgAAgMkIWAAAACYjYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYDICFgAAgMkIWAAAACYjYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYLJ6CVgVFRVKTExUWFiYrFarwsLClJiYqIqKilrv4/XXX9eAAQPk6+urli1bKiIiQsuWLXNj1QAAAHXToj4OMnv2bK1Zs0ZTp05Vv379lJaWpri4OGVlZWnVqlXXHP/II48oKSlJY8aM0cSJE2WxWPTNN9/o9OnT9VA9AACAayyGYRjuPEBGRoYiIyM1e/ZshytOc+fO1YoVK3T8+HH17Nmz2vFvvPGGRo4cqQ0bNugPf/iDKTUVFBTIz89P+fn58vX1NWWfAAAAV7n9FuHWrVtlGIZiY2Md2mNjY2UYhrZt21bj+Oeee069e/e2h6tLly65q1QAAABTuD1gpaenKyAgQDabzaHdZrPJ399f6enp1Y4tLCxUWlqaoqOjtWTJErVr106+vr5q27at5s+fr7KyMneXDwAA4DK3r8HKyclRUFCQ076goCBlZ2dXO/brr79WZWWlXn/9dZWVlemJJ55QaGiodu/erRdeeEFnz57Vxo0bqx1fWlqq0tLSKu0FBQWuvxEAAIBacnvAKioqUqtWrZz2eXl51Rh2CgsLJUnff/+99u/fr8GDB0uSRo8erYqKCm3atEkLFy5Ut27dnI5funSpFi9efJ3vAAAAwDVuv0Xo4+Pj9CqSJJWUlMjb27vasVf7goOD7eHqqsmTJ0uSDh48WO34uLg45efnV3llZWW5+jYAAABqze1XsDp27Kjjx4877cvOzlavXr2qHXv11mJAQECVvsDAQEnShQsXqh1vtVpltVpdKRcAAOC6uf0KVlRUlM6dO6fMzEyH9szMTOXm5ioqKqrasTfeeKOCg4OdrtO6ehXK39/f3IIBAACuk9sD1rhx42SxWJSUlOTQnpSUJIvFonHjxkmSysrKdOLECZ09e9Zhu4kTJ+q7777Trl277G2GYWjNmjVq3ry5hgwZ4u63AAAA4BK33yKMjIzU9OnTtXz5cl26dEkxMTFKS0tTcnKyZsyYoYiICEk/3i4MDw/X5MmTlZKSYh//+OOPa8eOHZowYYJmz56t0NBQ7dmzR2+99ZYef/xxhYaGuvstAAAAuKRefipn5cqVCgkJ0bp167Rp0yYFBQUpISFBCxYsuObYNm3a6P3331dcXJxSUlKUn5+vsLAwrV69WjNnzqyH6gEAAFzj9p/KaYz4qRwAAOBObl+DBQAA0NQQsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJPVS8CqqKhQYmKiwsLCZLVaFRYWpsTERFVUVLi8r4EDB8pisWjSpEluqBQAAOD6taiPg8yePVtr1qzR1KlT1a9fP6WlpSkuLk5ZWVlatWpVrffz2muv6ciRI26sFAAA4Pq5/QpWRkaGXnnlFc2ZM0fr16/Xgw8+qOTkZM2ZM0dr1qxRRkZGrfZz8eJFzZ8/X0888YSbKwYAALg+bg9YW7dulWEYio2NdWiPjY2VYRjatm1brfbzxBNPyNfXV/PmzXNDlQAAAOZx+y3C9PR0BQQEyGazObTbbDb5+/srPT39mvs4evSo1qxZoz179sjT09NdpQIAAJjC7QErJydHQUFBTvuCgoKUnZ1d4/jKykrNmjVLv//97zV8+HCXjl1aWqrS0tIq7QUFBS7tBwAAwBVuD1hFRUVq1aqV0z4vL69rhp1169bp2LFj+uyzz1w+9tKlS7V48WKXxwEAAFwPt6/B8vHxcXoVSZJKSkrk7e1d7di8vDzFxcVp/vz5uummm1w+dlxcnPLz86u8srKyXN4XAABAbbn9ClbHjh11/Phxp33Z2dnq1atXtWOffvppSdKECRN06tQph77Lly/r1KlTatu2rXx9fZ2Ot1qtslqtdSscAACgjtx+BSsqKkrnzp1TZmamQ3tmZqZyc3MVFRVV7djTp0/rhx9+UPfu3WWz2ewvSdq1a5dsNpvWrl3r1voBAABcZTEMw3DnAY4fP65evXpp9uzZWrZsmb197ty5WrFihY4dO6aIiAiVlZXpm2++kZ+fnwIDAyVJH374oc6ePVtln/fcc48GDhyo2NhY9ejRQ2FhYS7VVFBQID8/P+Xn51d79QsAAKCu3H6LMDIyUtOnT9fy5ct16dIlxcTEKC0tTcnJyZoxY4YiIiIk/Xi7MDw8XJMnT1ZKSook6ZZbbql2v8HBwbr77rvdXT4AAIDL6uWnclauXKmQkBCtW7dOmzZtUlBQkBISErRgwYL6ODwAAEC9cvstwsaIW4QAAMCd3L7IHQAAoKkhYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYDICFgAAgMkIWAAAACYjYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYDICFgAAgMkIWAAAACYjYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYDICFgAAgMkIWAAAACYjYAEAAJiMgAUAAGAyAhYAAIDJCFgAAAAmI2ABAACYjIAFAABgMgIWAACAyQhYAAAAJiNgAQAAmIyABQAAYDICFgAAgMkIWAAAACYjYAEAAJisXgJWRUWFEhMTFRYWJqvVqrCwMCUmJqqioqLGcUVFRXrllVc0fPhwBQcHy8fHR926ddOCBQt08eLF+igdAADAZRbDMAx3H2TWrFlas2aNpk6dqn79+iktLU0pKSmaNWuWVq1aVe24Tz/9VBERERowYIDuuOMO+fv768iRI1q3bp1CQ0N15MgR+fr6ulxPQUGB/Pz8lJ+fX6fxAAAANXF7wMrIyFBkZKRmz56tZcuW2dvnzp2rFStW6Pjx4+rZs6fTsXl5ecrJyVFERIRD+/r16zVt2jS9+OKLmjdvnss1EbAAAIA7uf0W4datW2UYhmJjYx3aY2NjZRiGtm3bVu3Y9u3bVwlXknTfffdJkj7//HNTawUAADCD2wNWenq6AgICZLPZHNptNpv8/f2Vnp7u8j5zcnIkSR06dDClRgAAADO1cPcBcnJyFBQU5LQvKChI2dnZLu8zISFBFotF48ePr3G70tJSlZaWVmkvKChw+ZgAAAC15fYrWEVFRbJarU77vLy8VFxc7NL+1q5dq9dee01z585VZGRkjdsuXbpUfn5+VV6dOnVy6ZgAAACucPsi9549e8rT01NHjhyp0te7d2+VlZUpIyOjVvvatWuXxowZozvvvFO7du1SixY1X4Cr6QpWp06dWOQOAADcwu23CDt27Kjjx4877cvOzlavXr1qtZ+3335b48ePV0xMjLZv337NcCVJVqu12qtnAAAA7uL2W4RRUVE6d+6cMjMzHdozMzOVm5urqKioa+7j4MGDuvvuu9WzZ0/t2bNH3t7e7ioXAADgurk9YI0bN04Wi0VJSUkO7UlJSbJYLBo3bpwkqaysTCdOnNDZs2cdtvvwww81YsQI3XTTTfrf//1fbukBAIBGz+23CCMjIzV9+nQtX75cly5dUkxMjNLS0pScnKwZM2bYn3OVnZ2t8PBwTZ48WSkpKZKk06dPa9iwYSopKdHkyZP1P//zPw77DggI0NChQ939FgAAAFzi9oAlSStXrlRISIjWrVunTZs2KSgoSAkJCVqwYEGN4zIzM3XhwgVJ0vz586v0Dxw4kIAFAAAanXr5LcLGhp/KAQAA7uT2NVgAAABNDQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZPUSsCoqKpSYmKiwsDBZrVaFhYUpMTFRFRUVtRr/6aefavjw4fL19ZWvr6+GDx+uTz/91M1VAwAA1E2L+jjI7NmztWbNGk2dOlX9+vVTWlqa4uLilJWVpVWrVtU49j//+Y/69++vtm3bavHixZKk5cuXa8CAAfroo4/UpUuX+ngLAAAAtWYxDMNw5wEyMjIUGRmp2bNna9myZfb2uXPnasWKFTp+/Lh69uxZ7fgxY8borbfe0hdffKFOnTpJkrKyshQeHq5hw4Zp+/btLtdUUFAgPz8/5efny9fX1/U3BQAAUAO33yLcunWrDMNQbGysQ3tsbKwMw9C2bduqHVtYWKg9e/Zo9OjR9nAlSZ06ddLo0aO1Z88eXb582V2lAwAA1InbA1Z6eroCAgJks9kc2m02m/z9/ZWenl7t2IyMDF25ckXR0dFV+vr27avS0lJlZGSYXjMAAMD1cPsarJycHAUFBTntCwoKUnZ2do1jr27nbKykGseXlpaqtLS0Snt+fr6kH28VAgCAX59WrVrJYrE02PHdHrCKiorUqlUrp31eXl41hpyioiJJktVqdTpWkoqLi6sdv3TpUvvCeGd+etsRAAD8euTm5qpDhw4Ndny3BywfHx+nV5EkqaSkRN7e3jWOleR0fElJiSTVOD4uLk7z5s2r0n7x4kV17txZ3377rfz8/GqsH/WjoKBAnTp1UlZWFl88aCQ4J40P56Tx4Zw0PlfPiaenZ4PW4faA1bFjRx0/ftxpX3Z2tnr16lXj2KvbORsrOb99eJXVanV69esqPz8/JkQjc/VZZ2g8OCeND+ek8eGcND4NeXtQqodF7lFRUTp37pwyMzMd2jMzM5Wbm6uoqKhqx/bs2VOenp46fPhwlb4PPvhAnp6e6tGjh+k1AwAAXA+3B6xx48bJYrEoKSnJoT0pKUkWi0Xjxo2TJJWVlenEiRM6e/asfZuWLVtqxIgR2rlzp86cOWNvz8rK0s6dOzVixAi1bNnS3W8BAADAJW6/RRgZGanp06dr+fLlunTpkmJiYpSWlqbk5GTNmDFDERERkn685RceHq7JkycrJSXFPv6ZZ57Rvn37dOutt2rOnDmSfnySe/PmzfXMM8+4u3wAAACX1ctP5axcuVIhISFat26dNm3apKCgICUkJGjBggXXHNu1a1cdOnRIjz32mP76179Kkvr3769nn31WXbt2dXfpAAAALquXgNWiRQstXLhQCxcurHab0NBQVferPREREdq7d69p9VitVi1atKjGBfCoX5yTxodz0vhwThofzknj01jOidt/ixAAAKCpcfsidwAAgKaGgAUAAGAyAhYAAIDJCFgAAAAma1IBq6KiQomJiQoLC5PValVYWJgSExNVUVHR0KU1SadOnZLFYnH6evDBBxu6vF+9wsJCxcfHa+TIkQoMDJTFYtGUKVOcbsvcqR+1PSfMnfqRnp6u2NhYRUREqFWrVrrxxhv1u9/9Tvv27auyLXOkftT2nDSGOVIvj2loLGbPnq01a9Zo6tSp6tevn9LS0hQXF6esrCytWrWqoctrskaNGqUxY8Y4tIWFhTVQNU1HXl6eFi9erMDAQPXp00dvvPFGtdsyd+qHK+dEYu64W2Jiog4ePKjRo0frv/7rv1RYWKjk5GQNHTpUq1ev1syZM+3bMkfqhyvnRGrgOWI0EZ988olhsViMOXPmOLTPmTPHsFgsxieffNJAlTVdmZmZhiTjL3/5S0OX0iSVlJQYZ86cMQzDMMrKygxJxuTJk6tsx9ypP7U9J8yd+vH+++8bJSUlDm1FRUXGb3/7W6NNmzZGWVmZYRjMkfpU23PSGOZIk7lFuHXrVhmGodjYWIf22NhYGYahbdu2NUxhkCQVFxeruLi4octoUqxWq4KCgq65HXOn/tT2nPwUc8d9YmJiqjys0tvbWyNGjNCFCxf03XffSWKO1KfanpOfaqg50mQCVnp6ugICAmSz2RzabTab/P39lZ6e3kCVYdmyZfLx8ZGPj4+6dOmi1atXN3RJ+AnmTuPF3GkYOTk5atGihVq3bi2JOdIY/PycXNWQc6TJrMHKycmp9v8ZBgUFKTs7u54rQrNmzfS73/1O99xzj0JCQpSTk6O1a9fqoYceUmZmpp5//vmGLhFi7jRGzJ2G88UXX+i///u/ddddd6lly5aSmCMNzdk5aRRzpMFuTtaz3/zmN0Z0dLTTvujoaOOmm26q54rgTHl5uRETE2M0a9bM+Prrrxu6nCajpvU+zJ2GUdM5cYa5434XL140wsPDDT8/P+PUqVP2duZIw6nunDhT33Okydwi9PHxUWlpqdO+kpISeXt713NFcKZ58+Z67LHHVFlZqX/9618NXQ7E3PmlYO64V3FxsUaOHKmTJ0/qn//8pzp37mzvY440jJrOiTP1PUeaTMDq2LFjtZdps7OzXV5YCve5Okny8vIauBJIzJ1fEuaOe1y5ckX33HOPDh8+rG3btmnw4MEO/cyR+netc1Kd+pwjTSZgRUVF6dy5c8rMzHRoz8zMVG5urqKiohqoMvzc119/LUkKCAho4EogMXd+SZg75isvL9fYsWP1zjvvKCUlRaNGjaqyDXOkftXmnFSnPudIkwlY48aNk8ViUVJSkkN7UlKSLBaLxo0b1zCFNWG5ublV2oqLi7VkyRJ5eHjo9ttvb4Cq8HPMncaHuVM/KisrNWnSJKWmpmr16tW6//77nW7HHKk/tT0njWGONJlvEUZGRmr69Olavny5Ll26pJiYGKWlpSk5OVkzZsxQREREQ5fY5MyYMUPnz5/XbbfdpuDgYOXk5Ogf//iHTp48qaVLl6pTp04NXeKv3sqVK3Xx4kVVVlZKkj755BMtWbJEknTXXXcpIiKCuVPPanNOmDv149FHH9W2bdt066236oYbbtDGjRsd+ocOHaqAgADmSD2q7TlpFHPE7cvoG5GysjIjISHBsNlshqenp2Gz2YyEhAT7k19Rv9atW2cMGDDA8Pf3N1q0aGG0bt3auO2224zU1NSGLq3J6Ny5syHJ6Ss5Odm+HXOn/tTmnDB36sfAgQOrPReSjHfffde+LXOkftT2nDSGOWIxDMNwf4wDAABoOprMGiwAAID6QsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABM9v82tU4NIEVHfAAAAABJRU5ErkJggg==", "_dom_classes": [], "_figure_label": "Figure", "_image_mode": "diff", "_message": "", "_model_module": "jupyter-matplotlib", "_model_module_version": "^0.11", "_model_name": "MPLCanvasModel", "_rubberband_height": 0, "_rubberband_width": 0, "_rubberband_x": 0, "_rubberband_y": 0, "_size": [600.0, 400.0], "_view_count": null, "_view_module": "jupyter-matplotlib", "_view_module_version": "^0.11", "_view_name": "MPLCanvasView", "capture_scroll": false, "footer_visible": false, "header_visible": false, "layout": "IPY_MODEL_eeb42c744af04b9a8178ff859fbd3c8a", "pan_zoom_throttle": 33.0, "resizable": false, "toolbar": "IPY_MODEL_3b800ce91a52403d8de47d9f74291866", "toolbar_position": "left", "toolbar_visible": false}}, "61cf5f06c5554faea9cc5685afd9063c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "3b800ce91a52403d8de47d9f74291866": {"model_name": "ToolbarModel", "model_module": "jupyter-matplotlib", "model_module_version": "^0.11", "state": {"_current_action": "", "_dom_classes": [], "_model_module": "jupyter-matplotlib", "_model_module_version": "^0.11", "_model_name": "ToolbarModel", "_view_count": null, "_view_module": "jupyter-matplotlib", "_view_module_version": "^0.11", "_view_name": "ToolbarView", "button_style": "", "collapsed": true, "layout": "IPY_MODEL_61cf5f06c5554faea9cc5685afd9063c", "orientation": "vertical", "toolitems": [["Home", "Reset original view", "home", "home"], ["Back", "Back to previous view", "arrow-left", "back"], ["Forward", "Forward to next view", "arrow-right", "forward"], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "arrows", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis", "square-o", "zoom"], ["Download", "Download plot", "floppy-o", "save_figure"]]}}, "16d0223e637e41b6b5897897fcfb9eca": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e54f846d9a3f439da8f6341865d2ac20": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_16d0223e637e41b6b5897897fcfb9eca", "msg_id": "", "outputs": []}}, "6354b311fa1641b8981581ff675abb8f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b414ce49e5fd4a0188cafe40c0f26c56": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "fc3c9537ddd2484da119aa971bcbaff6": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Set Best Weights", "disabled": false, "icon": "", "layout": "IPY_MODEL_6354b311fa1641b8981581ff675abb8f", "style": "IPY_MODEL_b414ce49e5fd4a0188cafe40c0f26c56", "tooltip": ""}}, "948bb9dc2c3f458fa526779bb0882677": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "5f5d0384b7054c55a296ab3c4df30052": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b6b4dd1f2cf34772b1950a9783286c77": {"model_name": "ToggleButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ToggleButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ToggleButtonView", "button_style": "", "description": "Enforce Symmetry", "description_tooltip": null, "disabled": false, "icon": "check", "layout": "IPY_MODEL_948bb9dc2c3f458fa526779bb0882677", "style": "IPY_MODEL_5f5d0384b7054c55a296ab3c4df30052", "tooltip": "Toggle symmetry enforcement", "value": false}}, "e9b607c651a04543b221d7c258899545": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "bf836910af1446bfaafbadb161dfd27e": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_6eb4359bb05f4b43a9a377d6d01dc7a5", "IPY_MODEL_fc3c9537ddd2484da119aa971bcbaff6", "IPY_MODEL_b6b4dd1f2cf34772b1950a9783286c77"], "layout": "IPY_MODEL_e9b607c651a04543b221d7c258899545"}}, "4fd363652fe84344afd064690ce73bd2": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "29042a1f8b9649b79c81f970753f7710": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_fde24e570a7344029986c4bb0724f48a", "IPY_MODEL_002446ba54cb4732a8815bb61df00486", "IPY_MODEL_d9a12714b7854c69927326e744784592", "IPY_MODEL_7f73829aaa2b484db40efdbe2208e4eb", "IPY_MODEL_bc461da14508433d9e1ebbb949e234d7", "IPY_MODEL_bf836910af1446bfaafbadb161dfd27e", "IPY_MODEL_4c4bb067f7b548ab940d477149c68cb8", "IPY_MODEL_e54f846d9a3f439da8f6341865d2ac20"], "layout": "IPY_MODEL_4fd363652fe84344afd064690ce73bd2"}}, "c48de30123884dfe9b3bb9e555e85ce0": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "7ac403e205bb4267bdbee6c1875092e7": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "3674129eec794dd780af55d4c726dad1": {"model_name": "FloatSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Heads Prob", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_c48de30123884dfe9b3bb9e555e85ce0", "max": 0.9, "min": 0.1, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.1, "style": "IPY_MODEL_7ac403e205bb4267bdbee6c1875092e7", "value": 0.5}}, "7c10466040294c34b3e71e6810dc97eb": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "2a459a31e5614a879a6f21d72206ab16": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "4490beea645b4ee989b32eb743bb3d77": {"model_name": "FloatLogSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatLogSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatLogSliderView", "base": 10.0, "continuous_update": true, "description": "Sample Size", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_7c10466040294c34b3e71e6810dc97eb", "max": 4.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".3g", "step": 1.0, "style": "IPY_MODEL_2a459a31e5614a879a6f21d72206ab16", "value": 10.0}}, "1fac1f344cc348e488ee4d1fb5758d33": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "154dfce986924eefa05ff48b287b50ee": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "c9427906642c4856881e0b656d842a25": {"model_name": "IntSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": " # Trials", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_1fac1f344cc348e488ee4d1fb5758d33", "max": 1000, "min": 20, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_154dfce986924eefa05ff48b287b50ee", "value": 20}}, "d17b08a7c8884df7be54a15b55d5f0c6": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "eefd882c7e9d4b30b34d12c7929b85e7": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "e0f8c2438b2e49b9ae6c7c63fcb1f0bd": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Flip The Coins!", "disabled": false, "icon": "", "layout": "IPY_MODEL_d17b08a7c8884df7be54a15b55d5f0c6", "style": "IPY_MODEL_eefd882c7e9d4b30b34d12c7929b85e7", "tooltip": ""}}, "a8d0727f7d11424bb3a30d6647d75499": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "199177eb8353408393efa1111408f582": {"model_name": "MPLCanvasModel", "model_module": "jupyter-matplotlib", "model_module_version": "^0.11", "state": {"_cursor": "default", "_data_url": "data:image/png;base64,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5zUcGBiITz75BJMmTcJLL72EF198ETVr1sRff/2F9PR0DB8+HNu2bdOoc+zYMaxcuRLe3t5o0aIFHB0dkZiYiN9++w1KpRILFixQf3Ej4jxYZFLu378vtmzZIkaMGCGaNGki3NzchIWFhXB1dRXt27cXS5cu1ZikUiUtLU1MmDBBBAQECLlcLmrXri1mzpwpcnJyRMeOHQUAERsbqy6vmutJ30SKuuqo6JuIUjXnUWFhoVi2bJlo0KCBkMvlwsvLS0ycOFGkpaVpbUvfRKNCCKFQKMSmTZtE586dhaurq7C0tBS1atUS7dq1EwsWLNCav0ufkmZy11e+pEkmL1++LIYOHSo8PT2FpaWl8PLyEiNGjNA5z5VqXqXRo0eLu3fvihEjRogaNWoIuVwumjVrpvP4K7qf4mzbtk0EBwerJ7Ut+lzre36FeDIf1oIFC0SjRo2EXC4XDg4OokOHDuLrr7/WuR/VOaFLaWN92smTJ0VYWJhwc3MTlpaWws/PT0yYMEHvvF9lee6fjq28E40KUfbzt6yvYZV9+/aJNm3aCBsbG+Hi4iL69u0rrl69qvO1de7cOfHOO++I1q1bCw8PDyGXy4W/v78ICwsThw8fLlMbkemTCSHBzyqIqMICAgIQHx8vyS+dTM2xY8fQqVMnjB49uky/ZCQiMhaOwSIiIiKSGBMsIiIiIokxwSIiIiKSGMdgEREREUmMPVhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEmOCRURERCQxJlhEREREEvs//LUQiEm/r/MAAAAASUVORK5CYII=", "_dom_classes": [], "_figure_label": "Figure", "_image_mode": "diff", "_message": "", "_model_module": "jupyter-matplotlib", "_model_module_version": "^0.11", "_model_name": "MPLCanvasModel", "_rubberband_height": 0, "_rubberband_width": 0, "_rubberband_x": 0, "_rubberband_y": 0, "_size": [600.0, 400.0], "_view_count": null, "_view_module": "jupyter-matplotlib", "_view_module_version": "^0.11", "_view_name": "MPLCanvasView", "capture_scroll": false, "footer_visible": false, "header_visible": false, "layout": "IPY_MODEL_a8d0727f7d11424bb3a30d6647d75499", "pan_zoom_throttle": 33.0, "resizable": false, "toolbar": "IPY_MODEL_bbbeb52798634f7ab79e40a5d67b5e45", "toolbar_position": "left", "toolbar_visible": false}}, "52e041cd11e04b74903204d21b480a85": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "bbbeb52798634f7ab79e40a5d67b5e45": {"model_name": "ToolbarModel", "model_module": "jupyter-matplotlib", "model_module_version": "^0.11", "state": {"_current_action": "", "_dom_classes": [], "_model_module": "jupyter-matplotlib", "_model_module_version": "^0.11", "_model_name": "ToolbarModel", "_view_count": null, "_view_module": "jupyter-matplotlib", "_view_module_version": "^0.11", "_view_name": "ToolbarView", "button_style": "", "collapsed": true, "layout": "IPY_MODEL_52e041cd11e04b74903204d21b480a85", "orientation": "vertical", "toolitems": [["Home", "Reset original view", "home", "home"], ["Back", "Back to previous view", "arrow-left", "back"], ["Forward", "Forward to next view", "arrow-right", "forward"], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "arrows", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis", "square-o", "zoom"], ["Download", "Download plot", "floppy-o", "save_figure"]]}}, "28be4bf23bbe4fafb14390b4381057a0": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "9de77853659c4cbca09052dc9864c0c7": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_28be4bf23bbe4fafb14390b4381057a0", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "Flipped a virtual coin 200.0 times,\n20 trials with 10.0 flips per trial.\nThe probability of heads on each trial was 0.5.\n"}]}}, "166eca8f980d43509374ed1586a1d84a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "41e389e69bc645b0aa305908ad648621": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_3674129eec794dd780af55d4c726dad1", "IPY_MODEL_4490beea645b4ee989b32eb743bb3d77", "IPY_MODEL_c9427906642c4856881e0b656d842a25", "IPY_MODEL_e0f8c2438b2e49b9ae6c7c63fcb1f0bd"], "layout": "IPY_MODEL_166eca8f980d43509374ed1586a1d84a"}}, "c7017a4558aa4777bd5e50997bf408f2": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "60cc31603ba14c7c9d409e65140399f7": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_41e389e69bc645b0aa305908ad648621", "IPY_MODEL_9de77853659c4cbca09052dc9864c0c7"], "layout": "IPY_MODEL_c7017a4558aa4777bd5e50997bf408f2"}}, "0b672bbd87ca40a9b7f78732c7e2559b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "10ce1a2e6d85414bb0ac33cf34334468": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_199177eb8353408393efa1111408f582", "IPY_MODEL_60cc31603ba14c7c9d409e65140399f7"], "layout": "IPY_MODEL_0b672bbd87ca40a9b7f78732c7e2559b"}}, "c7f70867fb0e4fe3a07048bea923a752": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "c8fdfb8cd40841899afcec5338d0cc43": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "1d7405164c304824a3c6b0d5aa6b3741": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_c7f70867fb0e4fe3a07048bea923a752", "placeholder": "\u200b", "style": "IPY_MODEL_c8fdfb8cd40841899afcec5338d0cc43", "value": ""}}, "eb824eac483741188f8c0b78953826d8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "e2772f50a3da41739dcb43156a2d9ccd": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "47c69ac5435f435fb27fb6ab1a715603": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_eb824eac483741188f8c0b78953826d8", "placeholder": "\u200b", "style": "IPY_MODEL_e2772f50a3da41739dcb43156a2d9ccd", "value": "Far<br>Up"}}, "601cf82fac344773bebea9f6df43c789": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "70fc3e37e04945eeb852cae258b45a5f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "c96e1c59e54f44c29ff2385a665c7606": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_601cf82fac344773bebea9f6df43c789", "placeholder": "\u200b", "style": "IPY_MODEL_70fc3e37e04945eeb852cae258b45a5f", "value": "Left<br>Up"}}, "06a733d177404e6298e8b933b32e7c5c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "a0c7e51361064b2ab63184991afd951c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "532b8abb1ca949828727e55918f31edb": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_06a733d177404e6298e8b933b32e7c5c", "placeholder": "\u200b", "style": "IPY_MODEL_a0c7e51361064b2ab63184991afd951c", "value": "Near<br>Up"}}, "9969451596b14cab948ecf17043d115d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "853299aa9e8542d29343e5f254abd9af": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "2063df5fe07f42d1bff4b1df66268e12": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_9969451596b14cab948ecf17043d115d", "placeholder": "\u200b", "style": "IPY_MODEL_853299aa9e8542d29343e5f254abd9af", "value": "Right<br>Up"}}, "a2123464e7aa4ab8bfc95d086b03a742": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "733e8bd57f814e96924b822f55643055": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "583ff77b3a80482e97c16bfdeabf55c9": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_a2123464e7aa4ab8bfc95d086b03a742", "placeholder": "\u200b", "style": "IPY_MODEL_733e8bd57f814e96924b822f55643055", "value": "Far<br>Left"}}, "a48141ca501c4fdbaa4a08ecb553ecf4": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "eab722cf68b747478cee46c65c857e3d": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "7fe8593800b8448cb574b977c3523012": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_a48141ca501c4fdbaa4a08ecb553ecf4", "placeholder": "\u200b", "style": "IPY_MODEL_eab722cf68b747478cee46c65c857e3d", "value": "Near<br>Left"}}, "79cb16779a48458cb81ef9681981d938": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "d8a5199e476c4414818cedfd8738cb88": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b82e246eec0344b881f7ddd95434cf98": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_79cb16779a48458cb81ef9681981d938", "placeholder": "\u200b", "style": "IPY_MODEL_d8a5199e476c4414818cedfd8738cb88", "value": "Near<br>Right"}}, "3d899267c63b4ca2abf195fe15832aca": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "ba31d871332e40cb855a83306d0cfb11": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "f809bf4b53554e2193b1a01038a92a68": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_3d899267c63b4ca2abf195fe15832aca", "placeholder": "\u200b", "style": "IPY_MODEL_ba31d871332e40cb855a83306d0cfb11", "value": "Far<br>Right"}}, "4620ac666eee4b8188632b765412e025": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "e61df60d7c6346078709c323ae414351": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "fd0696ca281a46f6b6198425dd72bb82": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_4620ac666eee4b8188632b765412e025", "placeholder": "\u200b", "style": "IPY_MODEL_e61df60d7c6346078709c323ae414351", "value": "Left<br>Down"}}, "1250dfa0d73d44b5839840aba91d9bd8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "94080937817b4902aca46679b99188bb": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "a4e93fd401094fb5a93ffc563b63ad02": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_1250dfa0d73d44b5839840aba91d9bd8", "placeholder": "\u200b", "style": "IPY_MODEL_94080937817b4902aca46679b99188bb", "value": "Near<br>Down"}}, "b626458d38c04cb0a6222c9e2f3cb95c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "08015f6986eb45b8a2e889591209bef0": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "59d6eb36df384cb68fbdae540c6705d5": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_b626458d38c04cb0a6222c9e2f3cb95c", "placeholder": "\u200b", "style": "IPY_MODEL_08015f6986eb45b8a2e889591209bef0", "value": "Right<br>Down"}}, "828f001639874a12ae8a9de735d29fda": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": "60px", "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "58bb3145c9eb4e91861d74cc04251657": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9e0aa283efe145f8a315e07adc60c08a": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_828f001639874a12ae8a9de735d29fda", "placeholder": "\u200b", "style": "IPY_MODEL_58bb3145c9eb4e91861d74cc04251657", "value": "Far<br>Down"}}, "5d8d18d544e84447af83b5cfad07ab31": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "88a78520e0494a7b81773bda6621fda8": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_1d7405164c304824a3c6b0d5aa6b3741", "IPY_MODEL_47c69ac5435f435fb27fb6ab1a715603", "IPY_MODEL_c96e1c59e54f44c29ff2385a665c7606", "IPY_MODEL_532b8abb1ca949828727e55918f31edb", "IPY_MODEL_2063df5fe07f42d1bff4b1df66268e12", "IPY_MODEL_583ff77b3a80482e97c16bfdeabf55c9", "IPY_MODEL_7fe8593800b8448cb574b977c3523012", "IPY_MODEL_b82e246eec0344b881f7ddd95434cf98", "IPY_MODEL_f809bf4b53554e2193b1a01038a92a68", "IPY_MODEL_fd0696ca281a46f6b6198425dd72bb82", "IPY_MODEL_a4e93fd401094fb5a93ffc563b63ad02", "IPY_MODEL_59d6eb36df384cb68fbdae540c6705d5", "IPY_MODEL_9e0aa283efe145f8a315e07adc60c08a"], "layout": "IPY_MODEL_5d8d18d544e84447af83b5cfad07ab31"}}, "84da5d7fe59347e6904f81134abacf16": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "c275b5d3397c4dfc87f2b428d5f8b0c1": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "04f15f45f26943fd806766f5a986d4fd": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_84da5d7fe59347e6904f81134abacf16", "step": 0.1, "style": "IPY_MODEL_c275b5d3397c4dfc87f2b428d5f8b0c1", "value": 0.0}}, "9047aac8d7914dd7b0be70551973f634": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "4c2d3c0359a44052a95efa470177d4b4": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "e633445bcddd45fba0393f88ca9908e5": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_9047aac8d7914dd7b0be70551973f634", "step": 0.1, "style": "IPY_MODEL_4c2d3c0359a44052a95efa470177d4b4", "value": 0.0}}, "47947f2693324cd6b91653eb539c8686": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "b712ed72da9c4dda8176380f5e35d103": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "6bb34aaff2494909a6083abba34f5f5e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_47947f2693324cd6b91653eb539c8686", "step": 0.1, "style": "IPY_MODEL_b712ed72da9c4dda8176380f5e35d103", "value": 0.0}}, "04ef3cab9582419b9d3e6eea9b489d74": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "44c688e78d814117b5f20ded58d253a4": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b0ce92416cbd4fc7b6757b04938ea53e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_04ef3cab9582419b9d3e6eea9b489d74", "step": 0.1, "style": "IPY_MODEL_44c688e78d814117b5f20ded58d253a4", "value": 0.0}}, "9af22b50fe424927933a7aa85b11a1ae": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "9ae59136263b46bb9e6212c03e8f645d": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "93cc04f0588e40e79bf5db561a32ef68": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_9af22b50fe424927933a7aa85b11a1ae", "step": 0.1, "style": "IPY_MODEL_9ae59136263b46bb9e6212c03e8f645d", "value": 0.0}}, "7ac120f5a30b4f0b9de17dabadf680f8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "b7036cd5dbed425e83d6665964ba7493": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "4eafbc486784475380f28fd3e1414eeb": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_7ac120f5a30b4f0b9de17dabadf680f8", "step": 0.1, "style": "IPY_MODEL_b7036cd5dbed425e83d6665964ba7493", "value": 0.0}}, "172e19ed66b54e41a692ed8cc1f02eb8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "e8d87f9a95284846b82da85c2d8aaefa": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "fdf232ed405f49e68b60dd188a045a17": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_172e19ed66b54e41a692ed8cc1f02eb8", "step": 0.1, "style": "IPY_MODEL_e8d87f9a95284846b82da85c2d8aaefa", "value": 0.0}}, "d50e27cba1dd49f59a55e17f1ced06d9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "8c81d47c76b1452a8b80ec4f93581191": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "5f4db4f7ad4e4a5195adee98aebb62ac": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_d50e27cba1dd49f59a55e17f1ced06d9", "step": 0.1, "style": "IPY_MODEL_8c81d47c76b1452a8b80ec4f93581191", "value": 0.0}}, "d3ee572d1aef4957bd8660581438b9a6": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "1e8b0796b4794f00afeae650fe873b5c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "351e44c21f524d869bc7d07871cbc718": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_d3ee572d1aef4957bd8660581438b9a6", "step": 0.1, "style": "IPY_MODEL_1e8b0796b4794f00afeae650fe873b5c", "value": 0.0}}, "5129399ce00c4363ae278cccd286eccc": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "f4005419207e40b9b179d7560f03b9de": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "4f7661d1c0d94878a81b36748d564497": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_5129399ce00c4363ae278cccd286eccc", "step": 0.1, "style": "IPY_MODEL_f4005419207e40b9b179d7560f03b9de", "value": 0.0}}, "aba2a77003504d59817d906e72943bb8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "f75599b4dc844dae857c901def9758f6": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "2387e93b2b2e4db8ad0206b006bb8703": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_aba2a77003504d59817d906e72943bb8", "step": 0.1, "style": "IPY_MODEL_f75599b4dc844dae857c901def9758f6", "value": 0.0}}, "3c97de9f3a1a406cb4eeecdd5344a41f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "ab1a5d2678e04e88875df949d85756f3": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ebcdbd1bb67744fe96e8c378ea276007": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_3c97de9f3a1a406cb4eeecdd5344a41f", "step": 0.1, "style": "IPY_MODEL_ab1a5d2678e04e88875df949d85756f3", "value": 0.0}}, "69e55504a5944f43a77cf3b5301968d5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "7274b3acbe3c4d7aa4e7da41e8534aa1": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "f40f4cbb7cc846d29742145ab373c705": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_69e55504a5944f43a77cf3b5301968d5", "placeholder": "\u200b", "style": "IPY_MODEL_7274b3acbe3c4d7aa4e7da41e8534aa1", "value": "Up:"}}, "9e9a5f2621834f3499267dda1fd26673": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b3b54c3e196249ba9598c6aca2cb30da": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_f40f4cbb7cc846d29742145ab373c705", "IPY_MODEL_04f15f45f26943fd806766f5a986d4fd", "IPY_MODEL_e633445bcddd45fba0393f88ca9908e5", "IPY_MODEL_6bb34aaff2494909a6083abba34f5f5e", "IPY_MODEL_b0ce92416cbd4fc7b6757b04938ea53e", "IPY_MODEL_93cc04f0588e40e79bf5db561a32ef68", "IPY_MODEL_4eafbc486784475380f28fd3e1414eeb", "IPY_MODEL_fdf232ed405f49e68b60dd188a045a17", "IPY_MODEL_5f4db4f7ad4e4a5195adee98aebb62ac", "IPY_MODEL_351e44c21f524d869bc7d07871cbc718", "IPY_MODEL_4f7661d1c0d94878a81b36748d564497", "IPY_MODEL_2387e93b2b2e4db8ad0206b006bb8703", "IPY_MODEL_ebcdbd1bb67744fe96e8c378ea276007"], "layout": "IPY_MODEL_9e9a5f2621834f3499267dda1fd26673"}}, "56cf42d38f1844fd980c4f85a8a2d4c5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "c1161363039f44519fb9dea30b3a1b75": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "1c34145615ee4a998940a6e99e53d850": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_56cf42d38f1844fd980c4f85a8a2d4c5", "step": 0.1, "style": "IPY_MODEL_c1161363039f44519fb9dea30b3a1b75", "value": 0.0}}, "9b19e04c6f8b4cc29f6d2ce55ded18a9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "959254eb4e954274a09824a14e854a2d": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "85f1efa305ad43e0897e9d06c29bf1ba": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_9b19e04c6f8b4cc29f6d2ce55ded18a9", "step": 0.1, "style": "IPY_MODEL_959254eb4e954274a09824a14e854a2d", "value": 0.0}}, "22c75f2ff02949bea760095ac5df1d57": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "1298844a81014b9da917029f1cbcb724": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "42ee49855951469eb06fefe5df5cd0a1": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_22c75f2ff02949bea760095ac5df1d57", "step": 0.1, "style": "IPY_MODEL_1298844a81014b9da917029f1cbcb724", "value": 0.0}}, "5f426c1f8e6f46d39d3112e14f84117e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "05cc0b408bee4f54b81fb18434961b51": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "2da5616948df4ba1821c91be7e070774": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_5f426c1f8e6f46d39d3112e14f84117e", "step": 0.1, "style": "IPY_MODEL_05cc0b408bee4f54b81fb18434961b51", "value": 0.0}}, "62ce8fa818d14c4a857fc43a31bbb3ee": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "d904d4dd66b24494b73313bf1432a082": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "926a3f702d7340baaf75d11d604dd753": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_62ce8fa818d14c4a857fc43a31bbb3ee", "step": 0.1, "style": "IPY_MODEL_d904d4dd66b24494b73313bf1432a082", "value": 0.0}}, "749f539a47dd4539898fcd2637db1f7a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "f6511ec8576746589ff6afbe4cff7ceb": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "1a74ef1fddc74552b4975f399cfc7b60": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_749f539a47dd4539898fcd2637db1f7a", "step": 0.1, "style": "IPY_MODEL_f6511ec8576746589ff6afbe4cff7ceb", "value": 0.0}}, "61aeb906cbb14ee2b2c2cabf1f564dbc": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "ad482aef90124c059ac412e6bf5742ac": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "0f9f648213e14b0a8139c5ecd6251336": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_61aeb906cbb14ee2b2c2cabf1f564dbc", "step": 0.1, "style": "IPY_MODEL_ad482aef90124c059ac412e6bf5742ac", "value": 0.0}}, "b91f32997fa042289c221ddd939f24a1": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "6c753d0048144df6af03cd46c1548728": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "408c0d69a5ee4fdc82193d5293dadfef": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_b91f32997fa042289c221ddd939f24a1", "step": 0.1, "style": "IPY_MODEL_6c753d0048144df6af03cd46c1548728", "value": 0.0}}, "50334381f4ac45128fa83225473d9ab2": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "b22bafb72bc04e28b8087fed679e33f2": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "8e72f66ea9504aafbd1f95f6323a5249": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_50334381f4ac45128fa83225473d9ab2", "step": 0.1, "style": "IPY_MODEL_b22bafb72bc04e28b8087fed679e33f2", "value": 0.0}}, "212039a1cc75460a977158326dfe00a9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "bc7db5704236438d8f70160ce13bc2bb": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "6f504fa107984658a296dab02a29c66b": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_212039a1cc75460a977158326dfe00a9", "step": 0.1, "style": "IPY_MODEL_bc7db5704236438d8f70160ce13bc2bb", "value": 0.0}}, "beff74f910f7446abff4933f2e6c3670": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "d98e5eac63954093b24de819b93e9fe2": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "edcdfeedb1a846c6b7c13c40ebd229ca": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_beff74f910f7446abff4933f2e6c3670", "step": 0.1, "style": "IPY_MODEL_d98e5eac63954093b24de819b93e9fe2", "value": 0.0}}, "09379d885483459192119799b0f04797": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "869cc9c670e64937b000bc26a1772ab4": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "05a0b0a7da9e48dfacb6204d1dafb2b1": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_09379d885483459192119799b0f04797", "step": 0.1, "style": "IPY_MODEL_869cc9c670e64937b000bc26a1772ab4", "value": 0.0}}, "d47031824caf4c8db258215bebae50e9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "a33819e13b6d4ea9918fae80e0bfe129": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "f668849e40ce42f4aa0a4d06cbb69e7f": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_d47031824caf4c8db258215bebae50e9", "placeholder": "\u200b", "style": "IPY_MODEL_a33819e13b6d4ea9918fae80e0bfe129", "value": "Down:"}}, "1987baeebc66434985deddcc06d83be8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "046f0c28ce7443eabfcc60b5e53dfee4": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_f668849e40ce42f4aa0a4d06cbb69e7f", "IPY_MODEL_1c34145615ee4a998940a6e99e53d850", "IPY_MODEL_85f1efa305ad43e0897e9d06c29bf1ba", "IPY_MODEL_42ee49855951469eb06fefe5df5cd0a1", "IPY_MODEL_2da5616948df4ba1821c91be7e070774", "IPY_MODEL_926a3f702d7340baaf75d11d604dd753", "IPY_MODEL_1a74ef1fddc74552b4975f399cfc7b60", "IPY_MODEL_0f9f648213e14b0a8139c5ecd6251336", "IPY_MODEL_408c0d69a5ee4fdc82193d5293dadfef", "IPY_MODEL_8e72f66ea9504aafbd1f95f6323a5249", "IPY_MODEL_6f504fa107984658a296dab02a29c66b", "IPY_MODEL_edcdfeedb1a846c6b7c13c40ebd229ca", "IPY_MODEL_05a0b0a7da9e48dfacb6204d1dafb2b1"], "layout": "IPY_MODEL_1987baeebc66434985deddcc06d83be8"}}, "ddcffe63e625474ea999033f56f46020": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "37cde03bf98e4268adbd99f611946aa7": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b0a0ec57a4584be48bc61ad5401b3fa6": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_ddcffe63e625474ea999033f56f46020", "step": 0.1, "style": "IPY_MODEL_37cde03bf98e4268adbd99f611946aa7", "value": 0.0}}, "26a720ebb34d4db0bd4016fe0f2090b9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "ff2304880a9843469d5307c1aceb2b08": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "6236a8c6680046408a684d3813a77d24": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_26a720ebb34d4db0bd4016fe0f2090b9", "step": 0.1, "style": "IPY_MODEL_ff2304880a9843469d5307c1aceb2b08", "value": 0.0}}, "b30f2d6b91fb43eeadd8c9c53ca90463": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "4aedbe995b43496e9e401e7e5e171b47": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "55aa767bdb3641c8956e84e179582f6d": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_b30f2d6b91fb43eeadd8c9c53ca90463", "step": 0.1, "style": "IPY_MODEL_4aedbe995b43496e9e401e7e5e171b47", "value": 0.0}}, "9e539315be07411294b630edd428ce3f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "ddb324470be74f179efc9f0cd2e743c7": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ff9672fbef3b4f9f9a8647de6ad24dfe": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_9e539315be07411294b630edd428ce3f", "step": 0.1, "style": "IPY_MODEL_ddb324470be74f179efc9f0cd2e743c7", "value": 0.0}}, "a17d63c4ceb849f79a6ad006be77f21a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "5bebd569c19646b7ba5948d2b6a6d63a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "13add688ef4841f09968ae06ea3814a9": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a17d63c4ceb849f79a6ad006be77f21a", "step": 0.1, "style": "IPY_MODEL_5bebd569c19646b7ba5948d2b6a6d63a", "value": 0.0}}, "1c933dc6533d44898e6c7c587e57a681": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "5cfedafc4d9749c885327935b1dd8d9e": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "25b23ff188054113b669bfa922b415c6": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_1c933dc6533d44898e6c7c587e57a681", "step": 0.1, "style": "IPY_MODEL_5cfedafc4d9749c885327935b1dd8d9e", "value": 0.0}}, "38e332eb40a14a299475276cf3588205": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "83f9b64865124b3faa24ec6c4ad0a6a9": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "1763cce65ee74248b74fd53b4ddb947e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_38e332eb40a14a299475276cf3588205", "step": 0.1, "style": "IPY_MODEL_83f9b64865124b3faa24ec6c4ad0a6a9", "value": 0.0}}, "39cee8abfc28476cb4bdfe59697dc8f7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "9fa2e497452344aab4f37c59bb4a4376": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "666a7f77886c4afeb61a0b1517206caa": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_39cee8abfc28476cb4bdfe59697dc8f7", "step": 0.1, "style": "IPY_MODEL_9fa2e497452344aab4f37c59bb4a4376", "value": 0.0}}, "3579551e68d24696a3393e915718a1c9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "58e200fa14204e21ae4abf8207a5a42c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "28341f999cdc4168bce2d9885700c377": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_3579551e68d24696a3393e915718a1c9", "step": 0.1, "style": "IPY_MODEL_58e200fa14204e21ae4abf8207a5a42c", "value": 0.0}}, "f63ace0398934a6aaff3971a9d0e7553": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "ad3d1a60cdf54cce9b6d905cb45dfea9": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "91c3160a24c24e0bbb027c85a6326d91": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_f63ace0398934a6aaff3971a9d0e7553", "step": 0.1, "style": "IPY_MODEL_ad3d1a60cdf54cce9b6d905cb45dfea9", "value": 0.0}}, "c7d24db68d9c482c9f6c0c65cc02ffb8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "ab9bbb45dcf044528d7802539e964366": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9fc939d0ac074f88b3f9ac7acdcb0816": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_c7d24db68d9c482c9f6c0c65cc02ffb8", "step": 0.1, "style": "IPY_MODEL_ab9bbb45dcf044528d7802539e964366", "value": 0.0}}, "d3ef8ac4633e4b8782a0abc6f95dda3e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "abaa03d8c8c74b1cba699db7538c3fc7": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b792b42c231c48feba2f12154fd75bc9": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_d3ef8ac4633e4b8782a0abc6f95dda3e", "step": 0.1, "style": "IPY_MODEL_abaa03d8c8c74b1cba699db7538c3fc7", "value": 0.0}}, "337eeba1f3124c2298dd5d2c543ca637": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "43380b14630c4256a6f1438c0989288a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "bb9f11cb3e5a47be8dc1a63012f8112a": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_337eeba1f3124c2298dd5d2c543ca637", "placeholder": "\u200b", "style": "IPY_MODEL_43380b14630c4256a6f1438c0989288a", "value": "Left:"}}, "206d6525ec3148498d66b6c3bb103cda": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "512732b8856349ffbbfe0238e4243de4": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_bb9f11cb3e5a47be8dc1a63012f8112a", "IPY_MODEL_b0a0ec57a4584be48bc61ad5401b3fa6", "IPY_MODEL_6236a8c6680046408a684d3813a77d24", "IPY_MODEL_55aa767bdb3641c8956e84e179582f6d", "IPY_MODEL_ff9672fbef3b4f9f9a8647de6ad24dfe", "IPY_MODEL_13add688ef4841f09968ae06ea3814a9", "IPY_MODEL_25b23ff188054113b669bfa922b415c6", "IPY_MODEL_1763cce65ee74248b74fd53b4ddb947e", "IPY_MODEL_666a7f77886c4afeb61a0b1517206caa", "IPY_MODEL_28341f999cdc4168bce2d9885700c377", "IPY_MODEL_91c3160a24c24e0bbb027c85a6326d91", "IPY_MODEL_9fc939d0ac074f88b3f9ac7acdcb0816", "IPY_MODEL_b792b42c231c48feba2f12154fd75bc9"], "layout": "IPY_MODEL_206d6525ec3148498d66b6c3bb103cda"}}, "8e502729d33c4bed95ab26411dd646a7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "97e5b089efff46b9970f422d4c96705a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "3ff6456abbbb4f10a6e4e8db91c80f95": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_8e502729d33c4bed95ab26411dd646a7", "step": 0.1, "style": "IPY_MODEL_97e5b089efff46b9970f422d4c96705a", "value": 0.0}}, "6632806ce73a48ab9d7961cf2a48dc51": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "d89a00e380174f9c81c99156913ad94d": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9c1f76f4281e4d3f94083fc327248bfe": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_6632806ce73a48ab9d7961cf2a48dc51", "step": 0.1, "style": "IPY_MODEL_d89a00e380174f9c81c99156913ad94d", "value": 0.0}}, "2e63f5585e9a4d0cabc1ad8ce1a90c23": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "bb4a504716be40e088ba2bee1dfdf731": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "afbc3852c13e421f89593236ee8f8b62": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_2e63f5585e9a4d0cabc1ad8ce1a90c23", "step": 0.1, "style": "IPY_MODEL_bb4a504716be40e088ba2bee1dfdf731", "value": 0.0}}, "10e033f309ac4cdea3eff75f5fcadb7f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "8e6b6bf478894a4683e742407ec89da9": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "f30a0c91218e434ea737b4e67e9395d2": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_10e033f309ac4cdea3eff75f5fcadb7f", "step": 0.1, "style": "IPY_MODEL_8e6b6bf478894a4683e742407ec89da9", "value": 0.0}}, "4a3e4cfbef7c43a09d44f8a926dca8d7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "3806e5d63f8349fcbe08184bafb5b4ec": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "41b5041ab8c8406c8c7f5c0fb85862bd": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_4a3e4cfbef7c43a09d44f8a926dca8d7", "step": 0.1, "style": "IPY_MODEL_3806e5d63f8349fcbe08184bafb5b4ec", "value": 0.0}}, "21fd228f8eef4adea509d792c8660aa2": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "0c98a3c41bea4d018bf1a4bc7c05bd64": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b26d371698a04a71b1f14be3f8af3c81": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_21fd228f8eef4adea509d792c8660aa2", "step": 0.1, "style": "IPY_MODEL_0c98a3c41bea4d018bf1a4bc7c05bd64", "value": 0.0}}, "84ec601c74804685be0241fd9e66403f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "399e0c055f324117ad1b6cc26ad59bb5": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ee92a38536534a009bdde56f3dba4b4e": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_84ec601c74804685be0241fd9e66403f", "step": 0.1, "style": "IPY_MODEL_399e0c055f324117ad1b6cc26ad59bb5", "value": 0.0}}, "71f72525917c4630826d49fee3a1e07d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "356c9e9925c14e99b048cfbc49dc3be9": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "09a320aa7f8947d49599c027096686f0": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_71f72525917c4630826d49fee3a1e07d", "step": 0.1, "style": "IPY_MODEL_356c9e9925c14e99b048cfbc49dc3be9", "value": 0.0}}, "2498af9aaf4a4df0aae5e62dad35d28d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "89918272c582470bb75abaf1f5bd7a8b": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b3d3a82d22f8452ea6ae843a3033a725": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_2498af9aaf4a4df0aae5e62dad35d28d", "step": 0.1, "style": "IPY_MODEL_89918272c582470bb75abaf1f5bd7a8b", "value": 0.0}}, "9cad865359714f5295f33e969a711d25": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "3383f8aec0404be691cafb51988b7ce7": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "10fa49930e624fec97963d274546169d": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_9cad865359714f5295f33e969a711d25", "step": 0.1, "style": "IPY_MODEL_3383f8aec0404be691cafb51988b7ce7", "value": 0.0}}, "0a74fc196e2143d88b1f594ce40a26a1": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "e7093ffb320a43b2a688415b56eb25af": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "3dbb80f41ea04442bf3e576e9171d05a": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_0a74fc196e2143d88b1f594ce40a26a1", "step": 0.1, "style": "IPY_MODEL_e7093ffb320a43b2a688415b56eb25af", "value": 0.0}}, "23db1251df1349389c428c7cce14d0da": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "60px"}}, "242ce1e820bb4085a1eac09569e6141f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "409d26abe2394add926aca23def4d2a8": {"model_name": "FloatTextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatTextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatTextView", "continuous_update": false, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_23db1251df1349389c428c7cce14d0da", "step": 0.1, "style": "IPY_MODEL_242ce1e820bb4085a1eac09569e6141f", "value": 0.0}}, "a07f0b57d63446f0ab220b809d104c1a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "50px"}}, "36e549d2718647d5a9c4fb3165c3522c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b4adbaa253ba4abb84d00a2f9773b2c6": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_a07f0b57d63446f0ab220b809d104c1a", "placeholder": "\u200b", "style": "IPY_MODEL_36e549d2718647d5a9c4fb3165c3522c", "value": "Right:"}}, "2d7aef43c2e340009ed7e2ee0b172302": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "9f27ec7edc584af89717fd21571254a3": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_b4adbaa253ba4abb84d00a2f9773b2c6", "IPY_MODEL_3ff6456abbbb4f10a6e4e8db91c80f95", "IPY_MODEL_9c1f76f4281e4d3f94083fc327248bfe", "IPY_MODEL_afbc3852c13e421f89593236ee8f8b62", "IPY_MODEL_f30a0c91218e434ea737b4e67e9395d2", "IPY_MODEL_41b5041ab8c8406c8c7f5c0fb85862bd", "IPY_MODEL_b26d371698a04a71b1f14be3f8af3c81", "IPY_MODEL_ee92a38536534a009bdde56f3dba4b4e", "IPY_MODEL_09a320aa7f8947d49599c027096686f0", "IPY_MODEL_b3d3a82d22f8452ea6ae843a3033a725", "IPY_MODEL_10fa49930e624fec97963d274546169d", "IPY_MODEL_3dbb80f41ea04442bf3e576e9171d05a", "IPY_MODEL_409d26abe2394add926aca23def4d2a8"], "layout": "IPY_MODEL_2d7aef43c2e340009ed7e2ee0b172302"}}, "c299d38ba6bd43cfaf1b393edc6f2ce2": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "80f7abd019664013a026549687844f9e": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "f25ef9d5719a47329ae6323969b4f9b5": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Run Game", "disabled": false, "icon": "", "layout": "IPY_MODEL_c299d38ba6bd43cfaf1b393edc6f2ce2", "style": "IPY_MODEL_80f7abd019664013a026549687844f9e", "tooltip": ""}}, "8ec84d4994b540688375927e7651605d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "68bc9bc7351e472a975fcfbe478e0479": {"model_name": "MPLCanvasModel", "model_module": "jupyter-matplotlib", "model_module_version": "^0.11", "state": {"_cursor": "default", "_data_url": "data:image/png;base64,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4gmtXbtWV65csQsf69evl8ViUZcuXUqt8c0339SBAwcUGxurZ5991tbeqlUrzZw5U2vXrtWECRMqdNxpaWnas2ePXnrpJU2fPr1CfYsUFhYqNTVVkpSRkaGPPvpIK1asUPPmzfXggw9WaptFmjdvroSEBJlMJklS06ZNNXXqVB07dkytW7e+rW1zixAAAAebOnWqPDw85OXlpa5duyopKUkzZ87U5MmT7dbr27evXbiSpI0bN6p58+bq0aOHUlNTbR+z2azOnTtr165dtnVHjRql/Px8bdmyxdZ26tQpffbZZxo5cmSZNW7fvl316tUrVtPkyZPl6uqqhISECh+3i4uLzGazdu/erUuXLlW4vyRduHBBHh4e8vDw0D333KMJEyYoODhY//rXv257HtnTTz9tC1fS/916/P77729ruxIjWAAAONy0adPUp08f1apVS+7u7mrdurVcXFyKrXfvvfcWaztx4oTOnz8vDw+PUrdfWFioWrVqqVu3bmrZsqXWr1+vp556SpK0YcMGST+Hr7IkJyfLYrEUq8vFxUUWi8V2W64inJ2dtWjRIk2ZMkXe3t7q2LGjevXqpaFDh6pDhw7l2kbTpk1t88pSUlK0aNEiXbp0SfXq1atwPTe7ec5Wo0aNJEk//fTTbW+bgAUAgIMFBQWV63EMJYUuq9Uqi8Vim/BekqJRGJPJpJEjRyo2NlY//PCD/Pz8tGHDBnXo0EFBQUGVP4BS9nezgoKCYm0TJ05U//79tWPHDu3Zs0evv/66XnzxRc2fP1+zZs265b7MZrPd765///5q06aNRowYof3799sde3lrKlK7du0S261W6y3ruhVuEQIAUIMFBATo8uXL6t69u3r16lXi55fhYtSoUbJardqwYYO+/PJLHT9+vMzJ7UWKRqlycnLs2nNycnT69Gndc889trZGjRrp6tWrxbZR9K3Im/n6+mrixInatGmTUlJS1KVLF82dO1e5ubnl/TXYNG7cWHPmzNHnn3+uzZs3V7omRyNgAQBQg40cOVKZmZmKiYkpcfnNc5vatGmj9u3ba/369Vq/fr1q1aql4cOH33I/AwYM0PXr17V8+XK79mXLlun69esaMGCArS0wMFDp6ek6ePCgrS0vL08rV66065uVlaWsrCy7NhcXF9133326ceOGMjMzb1lXScaOHatmzZpp/vz5ttGm8tZU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", "_dom_classes": [], "_figure_label": "Figure", "_image_mode": "diff", "_message": "", "_model_module": "jupyter-matplotlib", "_model_module_version": "^0.11", "_model_name": "MPLCanvasModel", "_rubberband_height": 0, "_rubberband_width": 0, "_rubberband_x": 0, "_rubberband_y": 0, "_size": [600.0, 400.0], "_view_count": null, "_view_module": "jupyter-matplotlib", "_view_module_version": "^0.11", "_view_name": "MPLCanvasView", "capture_scroll": false, "footer_visible": false, "header_visible": false, "layout": "IPY_MODEL_8ec84d4994b540688375927e7651605d", "pan_zoom_throttle": 33.0, "resizable": false, "toolbar": "IPY_MODEL_27818e71851748adb7f832bec0bf7599", "toolbar_position": "left", "toolbar_visible": false}}, "7fb754e8c7a543258c084923ed510e46": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "27818e71851748adb7f832bec0bf7599": {"model_name": "ToolbarModel", "model_module": "jupyter-matplotlib", "model_module_version": "^0.11", "state": {"_current_action": "", "_dom_classes": [], "_model_module": "jupyter-matplotlib", "_model_module_version": "^0.11", "_model_name": "ToolbarModel", "_view_count": null, "_view_module": "jupyter-matplotlib", "_view_module_version": "^0.11", "_view_name": "ToolbarView", "button_style": "", "collapsed": true, "layout": "IPY_MODEL_7fb754e8c7a543258c084923ed510e46", "orientation": "vertical", "toolitems": [["Home", "Reset original view", "home", "home"], ["Back", "Back to previous view", "arrow-left", "back"], ["Forward", "Forward to next view", "arrow-right", "forward"], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "arrows", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis", "square-o", "zoom"], ["Download", "Download plot", "floppy-o", "save_figure"]]}}, "d9c8055c84e74769832cb81573152a10": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "7910814f15d54be281c0c17b5b41cd60": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_d9c8055c84e74769832cb81573152a10", "msg_id": "", "outputs": []}}, "16c3b6fbc1bf4fde9777d4bdfb4a5c21": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "25ab803bd4fc415bbf1f17c5fbfcd6e7": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "75fc159e136442f7b7b9fbc33cc5dd60": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Set Best Weights", "disabled": false, "icon": "", "layout": "IPY_MODEL_16c3b6fbc1bf4fde9777d4bdfb4a5c21", "style": "IPY_MODEL_25ab803bd4fc415bbf1f17c5fbfcd6e7", "tooltip": ""}}, "9fae9843ecfd4777b51c56ca99bbb7f0": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e452481507134353877bf00775617c1a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "cb51f601779f4d9ea69cb2f9b7a97748": {"model_name": "ToggleButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ToggleButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ToggleButtonView", "button_style": "", "description": "Enforce Symmetry", "description_tooltip": null, "disabled": false, "icon": "check", "layout": "IPY_MODEL_9fae9843ecfd4777b51c56ca99bbb7f0", "style": "IPY_MODEL_e452481507134353877bf00775617c1a", "tooltip": "Toggle symmetry enforcement", "value": false}}, "bc202b80b9834b1d98fb4a89a4ce8f0f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "5a6af16ca7a743e0ac25d925ba7e6e41": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_f25ef9d5719a47329ae6323969b4f9b5", "IPY_MODEL_75fc159e136442f7b7b9fbc33cc5dd60", "IPY_MODEL_cb51f601779f4d9ea69cb2f9b7a97748"], "layout": "IPY_MODEL_bc202b80b9834b1d98fb4a89a4ce8f0f"}}, "93cdd75707ed4e599195209aadd7e4ac": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d973a77e29df42c38c0d3af1a86eb2cf": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_88a78520e0494a7b81773bda6621fda8", "IPY_MODEL_b3b54c3e196249ba9598c6aca2cb30da", "IPY_MODEL_046f0c28ce7443eabfcc60b5e53dfee4", "IPY_MODEL_512732b8856349ffbbfe0238e4243de4", "IPY_MODEL_9f27ec7edc584af89717fd21571254a3", "IPY_MODEL_5a6af16ca7a743e0ac25d925ba7e6e41", "IPY_MODEL_68bc9bc7351e472a975fcfbe478e0479", "IPY_MODEL_7910814f15d54be281c0c17b5b41cd60"], "layout": "IPY_MODEL_93cdd75707ed4e599195209aadd7e4ac"}}, "5547d29da53444b093f4e03021df6148": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "2c43df4f842441d7912b8ea4c8a70026": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#aaffaa", "font_weight": ""}}, "980f9fc44bf042e2a151d2b6a2474590": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["happy"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude42", "disabled": false, "icon": "", "layout": "IPY_MODEL_5547d29da53444b093f4e03021df6148", "style": "IPY_MODEL_2c43df4f842441d7912b8ea4c8a70026", "tooltip": "happy"}}, "33cde44e7b9d41bba0d934f9b8fedc61": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "76fbdec8c46949a4b56d8652346a94f6": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#dddd77", "font_weight": ""}}, "3fa25b683119423fa361e2d1c2c8e9f3": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["medium"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude10", "disabled": false, "icon": "", "layout": "IPY_MODEL_33cde44e7b9d41bba0d934f9b8fedc61", "style": "IPY_MODEL_76fbdec8c46949a4b56d8652346a94f6", "tooltip": "medium"}}, "866ff15ec7ab48e4bca53b591542aaf7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "b03c7e10a52f419f868b5b5258427f55": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#ffaaaa", "font_weight": ""}}, "3935e8cb9cfc4b51bd08ea466e1e088b": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["sad"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude41", "disabled": false, "icon": "", "layout": "IPY_MODEL_866ff15ec7ab48e4bca53b591542aaf7", "style": "IPY_MODEL_b03c7e10a52f419f868b5b5258427f55", "tooltip": "sad"}}, "338270a776be4e8f896a10f5293b16e8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "auto"}}, "a99e4f2b56a44099b1a8cdd6a13d61ce": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "a23bf1b8ce234e7db047f8420298002b": {"model_name": "TextareaModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextareaModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextareaView", "continuous_update": true, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_338270a776be4e8f896a10f5293b16e8", "placeholder": "We want your feedback!", "rows": null, "style": "IPY_MODEL_a99e4f2b56a44099b1a8cdd6a13d61ce", "value": ""}}, "16dafe6775eb4117a124df15a6b408ab": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "auto"}}, "8f95a43129304e95ba04b624c77f6f55": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "0804b461a3024b6bbe22fb084b4b7bba": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Submit", "disabled": false, "icon": "", "layout": "IPY_MODEL_16dafe6775eb4117a124df15a6b408ab", "style": "IPY_MODEL_8f95a43129304e95ba04b624c77f6f55", "tooltip": ""}}, "3ff98017ee144e9e9904fdbd33439e03": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": "none", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "85fe189ed7544582bbb837fe108639fe": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_a23bf1b8ce234e7db047f8420298002b", "IPY_MODEL_0804b461a3024b6bbe22fb084b4b7bba"], "layout": "IPY_MODEL_3ff98017ee144e9e9904fdbd33439e03"}}, "cdcc58fd22374ce78d3b8f127259570c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": "none", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "1ae746c0fd4c4bad9d5779b4d2c5a604": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "3848f8a1451f4febb72adc8b61ca2531": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_cdcc58fd22374ce78d3b8f127259570c", "placeholder": "\u200b", "style": "IPY_MODEL_1ae746c0fd4c4bad9d5779b4d2c5a604", "value": "Thanks for your feedback!"}}, "3ce96d6d40ce4e489fbac97b2f82cddc": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "249533dfecd54169b29fd3ae61582b6d": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_980f9fc44bf042e2a151d2b6a2474590", "IPY_MODEL_3fa25b683119423fa361e2d1c2c8e9f3", "IPY_MODEL_3935e8cb9cfc4b51bd08ea466e1e088b"], "layout": "IPY_MODEL_3ce96d6d40ce4e489fbac97b2f82cddc"}}, "22ad5634d26a4d0c98804fcb74bb93a4": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "97bceb6d43874d9f9dde4ccfe2e5fef0": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_249533dfecd54169b29fd3ae61582b6d", "IPY_MODEL_85fe189ed7544582bbb837fe108639fe", "IPY_MODEL_3848f8a1451f4febb72adc8b61ca2531"], "layout": "IPY_MODEL_22ad5634d26a4d0c98804fcb74bb93a4"}}, "88d4ba80aa154120b6004026ac2b795c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ef2cba46085346c4a2d772fde38528f3": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_97bceb6d43874d9f9dde4ccfe2e5fef0"], "layout": "IPY_MODEL_88d4ba80aa154120b6004026ac2b795c"}}, "e9df19609ac8487f8ed3965f205ecfe9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "492dd72d10fa4b1ebbaf8a3612dd6dd7": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#aaffaa", "font_weight": ""}}, "1487b7e6cddc40caaa5a8fc76460b2eb": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["happy"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude42", "disabled": false, "icon": "", "layout": "IPY_MODEL_e9df19609ac8487f8ed3965f205ecfe9", "style": "IPY_MODEL_492dd72d10fa4b1ebbaf8a3612dd6dd7", "tooltip": "happy"}}, "ab8fdc5e567743f2ad912fbd27e76f1d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "2a7ccb08bba544cebc86b7157829eecd": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#dddd77", "font_weight": ""}}, "0f629dd4a3fa4f99b7d3990617cadaed": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["medium"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude10", "disabled": false, "icon": "", "layout": "IPY_MODEL_ab8fdc5e567743f2ad912fbd27e76f1d", "style": "IPY_MODEL_2a7ccb08bba544cebc86b7157829eecd", "tooltip": "medium"}}, "e06019dcf67b449d89ed42f2321797e4": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "a43e173473b44754adb5c01cb6a90594": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#ffaaaa", "font_weight": ""}}, "881c7f0fac2742e391f082449ef1f6fe": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["sad"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude41", "disabled": false, "icon": "", "layout": "IPY_MODEL_e06019dcf67b449d89ed42f2321797e4", "style": "IPY_MODEL_a43e173473b44754adb5c01cb6a90594", "tooltip": "sad"}}, "f1eabea69768429586d16871ebffaeee": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "auto"}}, "fa4eb2485a4342a59330aaea52312507": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "90a348fa365b4b0c8efc044f5657a5fa": {"model_name": "TextareaModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextareaModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextareaView", "continuous_update": true, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_f1eabea69768429586d16871ebffaeee", "placeholder": "We want your feedback!", "rows": null, "style": "IPY_MODEL_fa4eb2485a4342a59330aaea52312507", "value": ""}}, "38116d7c8d0040a59afc024e7572f607": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "auto"}}, "298318dfa28946bb80382fcdf03e2959": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "89e5adbee63a40e0a66bcf0b1d17380f": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Submit", "disabled": false, "icon": "", "layout": "IPY_MODEL_38116d7c8d0040a59afc024e7572f607", "style": "IPY_MODEL_298318dfa28946bb80382fcdf03e2959", "tooltip": ""}}, "61088792604e4ae291150233bfdeddc4": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": "none", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "8a526e16db544392ae148e7975fc26d0": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_90a348fa365b4b0c8efc044f5657a5fa", "IPY_MODEL_89e5adbee63a40e0a66bcf0b1d17380f"], "layout": "IPY_MODEL_61088792604e4ae291150233bfdeddc4"}}, "767c33d40da7416ba6df1a26f5173a3f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": "none", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "54b2eaab13c44ce1ad2b64ff95c542c1": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "3cf12facc7a6436099a414684ea8b7f6": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_767c33d40da7416ba6df1a26f5173a3f", "placeholder": "\u200b", "style": "IPY_MODEL_54b2eaab13c44ce1ad2b64ff95c542c1", "value": "Thanks for your feedback!"}}, "1bd33aca0d3a424baf92083757cfd528": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "3b35b5460a0b4119955133e062134b89": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_1487b7e6cddc40caaa5a8fc76460b2eb", "IPY_MODEL_0f629dd4a3fa4f99b7d3990617cadaed", "IPY_MODEL_881c7f0fac2742e391f082449ef1f6fe"], "layout": "IPY_MODEL_1bd33aca0d3a424baf92083757cfd528"}}, "213b76efd7a24801b83af1fef145d4b5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b0c73fb03dd54e94aabd4046f697c3b6": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_3b35b5460a0b4119955133e062134b89", "IPY_MODEL_8a526e16db544392ae148e7975fc26d0", "IPY_MODEL_3cf12facc7a6436099a414684ea8b7f6"], "layout": "IPY_MODEL_213b76efd7a24801b83af1fef145d4b5"}}, "8de12c222e2c453c8e1a949e1330ba58": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "39d4ed2f0d34414ca3afe5cb3f46be5d": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_b0c73fb03dd54e94aabd4046f697c3b6"], "layout": "IPY_MODEL_8de12c222e2c453c8e1a949e1330ba58"}}, "ff3fee3497584fea881a4f658cfdc9fc": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "648184e229ee425190c373b3bb9dd0b0": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#aaffaa", "font_weight": ""}}, "4c9872b875434d14bdd172aa1fc13370": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["happy"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude42", "disabled": false, "icon": "", "layout": "IPY_MODEL_ff3fee3497584fea881a4f658cfdc9fc", "style": "IPY_MODEL_648184e229ee425190c373b3bb9dd0b0", "tooltip": "happy"}}, "8b9ef30f3eac49e8a1391a0fa0720d0a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "a9d8537829984d3594b124b2da3eef88": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#dddd77", "font_weight": ""}}, "efd0d71892784dd4b4fe188cf306c1da": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["medium"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude10", "disabled": false, "icon": "", "layout": "IPY_MODEL_8b9ef30f3eac49e8a1391a0fa0720d0a", "style": "IPY_MODEL_a9d8537829984d3594b124b2da3eef88", "tooltip": "medium"}}, "df625b744bd74c7a8ef23236de7c9a1e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "0ea93acca0bc4dc3afe64e56ba7d886f": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#ffaaaa", "font_weight": ""}}, "16ca2b62456a4ea5b03d2dfbd8df7285": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["sad"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude41", "disabled": false, "icon": "", "layout": "IPY_MODEL_df625b744bd74c7a8ef23236de7c9a1e", "style": "IPY_MODEL_0ea93acca0bc4dc3afe64e56ba7d886f", "tooltip": "sad"}}, "65a0b5d94ae74262af584bc5c1a9af97": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "auto"}}, "98f7c80f2e41441dae1c7fc567042783": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "f924a3511b12496ea840fce105b625d6": {"model_name": "TextareaModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextareaModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextareaView", "continuous_update": true, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_65a0b5d94ae74262af584bc5c1a9af97", "placeholder": "We want your feedback!", "rows": null, "style": "IPY_MODEL_98f7c80f2e41441dae1c7fc567042783", "value": ""}}, "dd74af2c02bc4b01ad0249253b7ae0a8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "auto"}}, "c1db66f4572f4765b304eca8441f6af3": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "89c9665375d54280852b9f0a52624a8f": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Submit", "disabled": false, "icon": "", "layout": "IPY_MODEL_dd74af2c02bc4b01ad0249253b7ae0a8", "style": "IPY_MODEL_c1db66f4572f4765b304eca8441f6af3", "tooltip": ""}}, "fa5b653f38624136bdc8e968dcc918ca": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": "none", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "94c4c9e958d5491fadfe5b825ea816e3": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_f924a3511b12496ea840fce105b625d6", "IPY_MODEL_89c9665375d54280852b9f0a52624a8f"], "layout": "IPY_MODEL_fa5b653f38624136bdc8e968dcc918ca"}}, "d6bc3d7d981049a29f4edbdcb8530d4f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": "none", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "97baa4f01b434e8fa5fe7505c19559a4": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "00cc0d865da14939bdacc6fb6d3c496a": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_d6bc3d7d981049a29f4edbdcb8530d4f", "placeholder": "\u200b", "style": "IPY_MODEL_97baa4f01b434e8fa5fe7505c19559a4", "value": "Thanks for your feedback!"}}, "2c56096230a94f669f0d207c1fa88dbf": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "0959fcd2d5a644a0a4fee49742466b01": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_4c9872b875434d14bdd172aa1fc13370", "IPY_MODEL_efd0d71892784dd4b4fe188cf306c1da", "IPY_MODEL_16ca2b62456a4ea5b03d2dfbd8df7285"], "layout": "IPY_MODEL_2c56096230a94f669f0d207c1fa88dbf"}}, "12d55fea7ecb404aa854e8ce8119742f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "79dc97ab11164db79c88ebeec7e33228": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_0959fcd2d5a644a0a4fee49742466b01", "IPY_MODEL_94c4c9e958d5491fadfe5b825ea816e3", "IPY_MODEL_00cc0d865da14939bdacc6fb6d3c496a"], "layout": "IPY_MODEL_12d55fea7ecb404aa854e8ce8119742f"}}, "7151f69ad9b94d118a3edd3b1119322f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "509da3a28a5e448d8cdb7670517f13cb": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_79dc97ab11164db79c88ebeec7e33228"], "layout": "IPY_MODEL_7151f69ad9b94d118a3edd3b1119322f"}}, "b8befcbe169040acab6dead0b67d19f4": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "b32d4bba4b4e4d9c9689ff01351e74de": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#aaffaa", "font_weight": ""}}, "02556d2b044443758d679ec58eea4e98": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["happy"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude42", "disabled": false, "icon": "", "layout": "IPY_MODEL_b8befcbe169040acab6dead0b67d19f4", "style": "IPY_MODEL_b32d4bba4b4e4d9c9689ff01351e74de", "tooltip": "happy"}}, "86bd8c4a4178486b8c7814a8b35d8646": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "57f1c5040bad4c10b2dace1a290229ff": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#dddd77", "font_weight": ""}}, "e85d57579aed44bbb5fc072a9cf7fa2f": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["medium"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude10", "disabled": false, "icon": "", "layout": "IPY_MODEL_86bd8c4a4178486b8c7814a8b35d8646", "style": "IPY_MODEL_57f1c5040bad4c10b2dace1a290229ff", "tooltip": "medium"}}, "67c512130f984627b92d508702dcca52": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": "0.5em", "right": null, "top": null, "visibility": null, "width": "auto"}}, "b74d35d7274d4faa8cc76c7474707a3a": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": "#ffaaaa", "font_weight": ""}}, "8ecaa7ebb612483a879281a95e8c696d": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["sad"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "\ud83d\ude41", "disabled": false, "icon": "", "layout": "IPY_MODEL_67c512130f984627b92d508702dcca52", "style": "IPY_MODEL_b74d35d7274d4faa8cc76c7474707a3a", "tooltip": "sad"}}, "2988a5fea2de45c39bf80947e640f6e7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "auto"}}, "bdef17642d0f4b07a97d13e9c6c04ebf": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "aa06f95d0b7349c2afbb7e570db38b2e": {"model_name": "TextareaModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextareaModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextareaView", "continuous_update": true, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_2988a5fea2de45c39bf80947e640f6e7", "placeholder": "We want your feedback!", "rows": null, "style": "IPY_MODEL_bdef17642d0f4b07a97d13e9c6c04ebf", "value": ""}}, "18cfa71c8e34490696e705d69992b0e3": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "auto", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "auto"}}, "215e2c25b13247969a689beae548f0a0": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "d01149e297b34d65a28e3bc596793067": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Submit", "disabled": false, "icon": "", "layout": "IPY_MODEL_18cfa71c8e34490696e705d69992b0e3", "style": "IPY_MODEL_215e2c25b13247969a689beae548f0a0", "tooltip": ""}}, "33b3b4153307457b97ea3b1d4a9915ba": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": "none", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "194d0e90c2f4408cbc2a9a1616e9d25e": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_aa06f95d0b7349c2afbb7e570db38b2e", "IPY_MODEL_d01149e297b34d65a28e3bc596793067"], "layout": "IPY_MODEL_33b3b4153307457b97ea3b1d4a9915ba"}}, "63c6e1367bc24c098620f78d7bcf6c55": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": "none", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "01dd8589b8a9421aa6ef9a0e1645a720": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "827de4e6253748c19194e665413538ad": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "LabelView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_63c6e1367bc24c098620f78d7bcf6c55", "placeholder": "\u200b", "style": "IPY_MODEL_01dd8589b8a9421aa6ef9a0e1645a720", "value": "Thanks for your feedback!"}}, "3c643456345f40a482c3625828b888c8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "acdf0ae8ab23458299824ce8b675be18": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_02556d2b044443758d679ec58eea4e98", "IPY_MODEL_e85d57579aed44bbb5fc072a9cf7fa2f", "IPY_MODEL_8ecaa7ebb612483a879281a95e8c696d"], "layout": "IPY_MODEL_3c643456345f40a482c3625828b888c8"}}, "7a63ff15d784439eb5c9d4495f91f63e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "6c7a4a76d5ae4426a35ec8a98c7a6409": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_acdf0ae8ab23458299824ce8b675be18", "IPY_MODEL_194d0e90c2f4408cbc2a9a1616e9d25e", "IPY_MODEL_827de4e6253748c19194e665413538ad"], "layout": "IPY_MODEL_7a63ff15d784439eb5c9d4495f91f63e"}}, "a1e7724ce42d4cb3b6f487caffbc482c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "825fda118a344ae8ae64735b130f67f6": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_6c7a4a76d5ae4426a35ec8a98c7a6409"], "layout": "IPY_MODEL_a1e7724ce42d4cb3b6f487caffbc482c"}}}, "version_major": 2, "version_minor": 0}
</script>
<script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./sequences/P1C2_OptimizationAndEnvironment/student"
        },
        predefinedOutput: true
    }
    </script>
<script>kernelName = 'python3'</script>
</div>
</div></main>
<footer class="footer-article noprint">
<!-- Previous / next buttons -->
<div class="prev-next-area">
<a class="left-prev" href="P1C2_Title.html" id="prev-link" title="previous page">
<i class="fas fa-angle-left"></i>
<div class="prev-next-info">
<p class="prev-next-subtitle">previous</p>
<p class="prev-next-title">Chapter 1.2 Optimizing Behaviour - Environment is Central</p>
</div>
</a>
<a class="right-next" href="P1C2_Sequence2.html" id="next-link" title="next page">
<div class="prev-next-info">
<p class="prev-next-subtitle">next</p>
<p class="prev-next-title"><strong>1.2.2: What’s Good Depends on the Niche</strong></p>
</div>
<i class="fas fa-angle-right"></i>
</a>
</div>
</footer>
</div>
</div>
<div class="footer-content row">
<footer class="col footer"><p>
<div class="extra_footer">
<div>
<a href="http://creativecommons.org/licenses/by/4.0/"><img src="https://i.creativecommons.org/l/by/4.0/88x31.png"/></a>
<a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://camo.githubusercontent.com/9b9ea65d95c9ef878afa1987df65731d47681336/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f736561626f726e2e737667"/></a>
The contents of this repository are shared under the <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
Software elements are additionally licensed under the <a href="https://opensource.org/licenses/BSD-3-Clause">BSD (3-Clause) License</a>.
</div>
</div>
</p>
</footer>
</div>
</div>
</div>
</div>
<!-- Scripts loaded after <body> so the DOM is not blocked -->
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
</body>
</html>